var Cf=Object.create;var{getPrototypeOf:qf,defineProperty:Ul,getOwnPropertyNames:v3,getOwnPropertyDescriptor:Mf}=Object,y3=Object.prototype.hasOwnProperty;var $W=(x,g,_)=>{_=x!=null?Cf(qf(x)):{};let O=g||!x||!x.__esModule?Ul(_,"default",{value:x,enumerable:!0}):_;for(let l of v3(x))if(!y3.call(O,l))Ul(O,l,{get:()=>x[l],enumerable:!0});return O},z3=new WeakMap,N3=(x)=>{var g=z3.get(x),_;if(g)return g;if(g=Ul({},"__esModule",{value:!0}),x&&typeof x==="object"||typeof x==="function")v3(x).map((O)=>!y3.call(g,O)&&Ul(g,O,{get:()=>x[O],enumerable:!(_=Mf(x,O))||_.enumerable}));return z3.set(x,g),g},px=(x,g)=>()=>(g||x((g={exports:{}}).exports,g),g.exports);var Yf=(x,g)=>{for(var _ in g)Ul(x,_,{get:g[_],enumerable:!0,configurable:!0,set:(O)=>g[_]=()=>O})};var BW=(x,g)=>()=>(x&&(g=x(x=0)),g);function PW(x,g){var _=x.length;x.push(g);x:for(;0<_;){var O=_-1>>>1,l=x[O];if(0<a9(l,g))x[O]=g,x[_]=l,_=O;else break x}}function ig(x){return x.length===0?null:x[0]}function H9(x){if(x.length===0)return null;var g=x[0],_=x.pop();if(_!==g){x[0]=_;x:for(var O=0,l=x.length,G=l>>>1;O<G;){var p=2*(O+1)-1,W=x[p],w=p+1,o=x[w];if(0>a9(W,_))w<l&&0>a9(o,W)?(x[O]=o,x[w]=_,O=w):(x[O]=W,x[p]=_,O=p);else if(w<l&&0>a9(o,_))x[O]=o,x[w]=_,O=w;else break x}}return g}function a9(x,g){var _=x.sortIndex-g.sortIndex;return _!==0?_:x.id-g.id}function $9(x){for(var g=ig(_O);g!==null;){if(g.callback===null)H9(_O);else if(g.startTime<=x)H9(_O),g.sortIndex=g.expirationTime,PW(M_,g);else break;g=ig(_O)}}function sW(x){if(al=!1,$9(x),!Ql)if(ig(M_)!==null)Ql=!0,Y3();else{var g=ig(_O);g!==null&&tW(sW,g.startTime-x)}}function M3(){return Rg()-q3<cf?!1:!0}function HW(){if(P9){var x=Rg();q3=x;var g=!0;try{x:{Ql=!1,al&&(al=!1,C3(El),El=-1),RW=!0;var _=n9;try{g:{$9(x);for(wg=ig(M_);wg!==null&&!(wg.expirationTime>x&&M3());){var O=wg.callback;if(typeof O==="function"){wg.callback=null,n9=wg.priorityLevel;var l=O(wg.expirationTime<=x);if(x=Rg(),typeof l==="function"){wg.callback=l,$9(x),g=!0;break g}wg===ig(M_)&&H9(M_),$9(x)}else H9(M_);wg=ig(M_)}if(wg!==null)g=!0;else{var G=ig(_O);G!==null&&tW(sW,G.startTime-x),g=!1}}break x}finally{wg=null,n9=_,RW=!1}g=void 0}}finally{g?Dl():P9=!1}}}function Y3(){P9||(P9=!0,Dl())}function tW(x,g){El=d3(function(){x(Rg())},g)}var Rg=void 0,JW,E9,iW,M_,_O,ff=1,wg=null,n9=3,RW=!1,Ql=!1,al=!1,d3,C3,k3,P9=!1,El=-1,cf=5,q3=-1,Dl,B9,TW,eW=5,xo=1,go=4,t6=3,_o=2,Oo=function(x){x.callback=null},lo=function(){return n9},Go=function(){},e6=function(x,g,_){var O=Rg();switch(typeof _==="object"&&_!==null?(_=_.delay,_=typeof _==="number"&&0<_?O+_:O):_=O,x){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5000}return l=_+l,x={id:ff++,callback:g,priorityLevel:x,startTime:_,expirationTime:l,sortIndex:-1},_>O?(x.sortIndex=_,PW(_O,x),ig(M_)===null&&x===ig(_O)&&(al?(C3(El),El=-1):al=!0,tW(sW,_-O))):(x.sortIndex=l,PW(M_,x),Ql||RW||(Ql=!0,Y3())),x},po;var f3=BW(()=>{if(typeof performance==="object"&&typeof performance.now==="function")JW=performance,Rg=function(){return JW.now()};else E9=Date,iW=E9.now(),Rg=function(){return E9.now()-iW};M_=[],_O=[],d3=typeof setTimeout==="function"?setTimeout:null,C3=typeof clearTimeout==="function"?clearTimeout:null,k3=typeof setImmediate!=="undefined"?setImmediate:null;if(typeof k3==="function")Dl=function(){k3(HW)};else if(typeof MessageChannel!=="undefined")B9=new MessageChannel,TW=B9.port2,B9.port1.onmessage=HW,Dl=function(){TW.postMessage(null)};else Dl=function(){d3(HW,0)};po=M3});function nl(x,g,_){this.props=x,this.context=g,this.refs=m3,this.updater=_||c3}function b3(){}function h3(x,g,_){this.props=x,this.context=g,this.refs=m3,this.updater=_||c3}var bA,hA,KA,VA,LA,XA,FA,AA,uA,SA,IA,c3,bf,m3,Wo,ZA,J9,$l,Tg=function(x,g){return J9.H.useEffect(x,g)},Ag=function(x){return J9.H.useRef(x)},T0=function(x){return J9.H.useState(x)},oo="19.0.0";var OO=BW(()=>{bA=Symbol.for("react.transitional.element"),hA=Symbol.for("react.portal"),KA=Symbol.for("react.fragment"),VA=Symbol.for("react.strict_mode"),LA=Symbol.for("react.profiler"),XA=Symbol.for("react.consumer"),FA=Symbol.for("react.context"),AA=Symbol.for("react.forward_ref"),uA=Symbol.for("react.suspense"),SA=Symbol.for("react.memo"),IA=Symbol.for("react.lazy"),c3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bf=Object.assign,m3={};nl.prototype.isReactComponent={};nl.prototype.setState=function(x,g){if(typeof x!=="object"&&typeof x!=="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,g,"setState")};nl.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};b3.prototype=nl.prototype;Wo=h3.prototype=new b3;Wo.constructor=h3;bf(Wo,nl.prototype);Wo.isPureReactComponent=!0;ZA=Array.isArray,J9={H:null,A:null,T:null,S:null};$l=J9});var L3=px((Vf)=>{OO();function V3(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lO(){}var S0={d:{f:lO,r:function(){throw Error(V3(522))},D:lO,C:lO,L:lO,m:lO,X:lO,S:lO,M:lO},p:0,findDOMNode:null},hf=Symbol.for("react.portal");function Kf(x,g,_){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hf,key:O==null?null:""+O,children:x,containerInfo:g,implementation:_}}var Bl=$l;function i9(x,g){if(x==="font")return"";if(typeof g==="string")return g==="use-credentials"?g:""}Vf.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S0;Vf.createPortal=function(x,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(V3(299));return Kf(x,g,null,_)};Vf.flushSync=function(x){var g=Bl.T,_=S0.p;try{if(Bl.T=null,S0.p=2,x)return x()}finally{Bl.T=g,S0.p=_,S0.d.f()}};Vf.preconnect=function(x,g){typeof x==="string"&&(g?(g=g.crossOrigin,g=typeof g==="string"?g==="use-credentials"?g:"":void 0):g=null,S0.d.C(x,g))};Vf.prefetchDNS=function(x){typeof x==="string"&&S0.d.D(x)};Vf.preinit=function(x,g){if(typeof x==="string"&&g&&typeof g.as==="string"){var _=g.as,O=i9(_,g.crossOrigin),l=typeof g.integrity==="string"?g.integrity:void 0,G=typeof g.fetchPriority==="string"?g.fetchPriority:void 0;_==="style"?S0.d.S(x,typeof g.precedence==="string"?g.precedence:void 0,{crossOrigin:O,integrity:l,fetchPriority:G}):_==="script"&&S0.d.X(x,{crossOrigin:O,integrity:l,fetchPriority:G,nonce:typeof g.nonce==="string"?g.nonce:void 0})}};Vf.preinitModule=function(x,g){if(typeof x==="string")if(typeof g==="object"&&g!==null){if(g.as==null||g.as==="script"){var _=i9(g.as,g.crossOrigin);S0.d.M(x,{crossOrigin:_,integrity:typeof g.integrity==="string"?g.integrity:void 0,nonce:typeof g.nonce==="string"?g.nonce:void 0})}}else g==null&&S0.d.M(x)};Vf.preload=function(x,g){if(typeof x==="string"&&typeof g==="object"&&g!==null&&typeof g.as==="string"){var _=g.as,O=i9(_,g.crossOrigin);S0.d.L(x,_,{crossOrigin:O,integrity:typeof g.integrity==="string"?g.integrity:void 0,nonce:typeof g.nonce==="string"?g.nonce:void 0,type:typeof g.type==="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority==="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy==="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet==="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes==="string"?g.imageSizes:void 0,media:typeof g.media==="string"?g.media:void 0})}};Vf.preloadModule=function(x,g){if(typeof x==="string")if(g){var _=i9(g.as,g.crossOrigin);S0.d.m(x,{as:typeof g.as==="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity==="string"?g.integrity:void 0})}else S0.d.m(x)};Vf.requestFormReset=function(x){S0.d.r(x)};Vf.unstable_batchedUpdates=function(x,g){return x(g)};Vf.useFormState=function(x,g,_){return Bl.H.useFormState(x,g,_)};Vf.useFormStatus=function(){return Bl.H.useHostTransitionStatus()};Vf.version="19.0.0"});var A3=px((rA,F3)=>{function X3(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X3)}catch(x){console.error(x)}}X3(),F3.exports=L3()});var bk=px((Nb)=>{f3();OO();var JN=$W(A3(),1);function T(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function iN(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}var Ef=Symbol.for("react.element"),R9=Symbol.for("react.transitional.element"),tl=Symbol.for("react.portal"),p8=Symbol.for("react.fragment"),RN=Symbol.for("react.strict_mode"),ao=Symbol.for("react.profiler"),nf=Symbol.for("react.provider"),TN=Symbol.for("react.consumer"),V_=Symbol.for("react.context"),jw=Symbol.for("react.forward_ref"),Eo=Symbol.for("react.suspense"),no=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),WO=Symbol.for("react.lazy");Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var sN=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden");Symbol.for("react.tracing_marker");var $f=Symbol.for("react.memo_cache_sentinel"),u3=Symbol.iterator;function Hl(x){if(x===null||typeof x!=="object")return null;return x=u3&&x[u3]||x["@@iterator"],typeof x==="function"?x:null}var Bf=Symbol.for("react.client.reference");function $o(x){if(x==null)return null;if(typeof x==="function")return x.$$typeof===Bf?null:x.displayName||x.name||null;if(typeof x==="string")return x;switch(x){case p8:return"Fragment";case tl:return"Portal";case ao:return"Profiler";case RN:return"StrictMode";case Eo:return"Suspense";case no:return"SuspenseList"}if(typeof x==="object")switch(x.$$typeof){case V_:return(x.displayName||"Context")+".Provider";case TN:return(x._context.displayName||"Context")+".Consumer";case jw:var g=x.render;return x=x.displayName,x||(x=g.displayName||g.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case rw:return g=x.displayName||null,g!==null?g:$o(x.type)||"Memo";case WO:g=x._payload,x=x._init;try{return $o(x(g))}catch(_){}}return null}var zx=$l,Bx=Object.assign,wo,S3;function el(x){if(wo===void 0)try{throw Error()}catch(_){var g=_.stack.trim().match(/\n( *(at )?)/);wo=g&&g[1]||"",S3=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wo+x+S3}var zo=!1;function vo(x,g){if(!x||zo)return"";zo=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(g){var N=function(){throw Error()};if(Object.defineProperty(N.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(N,[])}catch(C){var k=C}Reflect.construct(x,[],N)}else{try{N.call()}catch(C){k=C}x.call(N.prototype)}}else{try{throw Error()}catch(C){k=C}(N=x())&&typeof N.catch==="function"&&N.catch(function(){})}}catch(C){if(C&&k&&typeof C.stack==="string")return[C.stack,k.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=O.DetermineComponentFrameRoot(),p=G[0],W=G[1];if(p&&W){var w=p.split(`
`),o=W.split(`
`);for(l=O=0;O<w.length&&!w[O].includes("DetermineComponentFrameRoot");)O++;for(;l<o.length&&!o[l].includes("DetermineComponentFrameRoot");)l++;if(O===w.length||l===o.length)for(O=w.length-1,l=o.length-1;1<=O&&0<=l&&w[O]!==o[l];)l--;for(;1<=O&&0<=l;O--,l--)if(w[O]!==o[l]){if(O!==1||l!==1)do if(O--,l--,0>l||w[O]!==o[l]){var v=`
`+w[O].replace(" at new "," at ");return x.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",x.displayName)),v}while(1<=O&&0<=l);break}}}finally{zo=!1,Error.prepareStackTrace=_}return(_=x?x.displayName||x.name:"")?el(_):""}function Hf(x){switch(x.tag){case 26:case 27:case 5:return el(x.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 15:return x=vo(x.type,!1),x;case 11:return x=vo(x.type.render,!1),x;case 1:return x=vo(x.type,!0),x;default:return""}}function I3(x){try{var g="";do g+=Hf(x),x=x.return;while(x);return g}catch(_){return`
Error generating stack: `+_.message+`
`+_.stack}}function Z8(x){var g=x,_=x;if(x.alternate)for(;g.return;)g=g.return;else{x=g;do g=x,(g.flags&4098)!==0&&(_=g.return),x=g.return;while(x)}return g.tag===3?_:null}function tN(x){if(x.tag===13){var g=x.memoizedState;if(g===null&&(x=x.alternate,x!==null&&(g=x.memoizedState)),g!==null)return g.dehydrated}return null}function Z3(x){if(Z8(x)!==x)throw Error(T(188))}function Pf(x){var g=x.alternate;if(!g){if(g=Z8(x),g===null)throw Error(T(188));return g!==x?null:x}for(var _=x,O=g;;){var l=_.return;if(l===null)break;var G=l.alternate;if(G===null){if(O=l.return,O!==null){_=O;continue}break}if(l.child===G.child){for(G=l.child;G;){if(G===_)return Z3(l),x;if(G===O)return Z3(l),g;G=G.sibling}throw Error(T(188))}if(_.return!==O.return)_=l,O=G;else{for(var p=!1,W=l.child;W;){if(W===_){p=!0,_=l,O=G;break}if(W===O){p=!0,O=l,_=G;break}W=W.sibling}if(!p){for(W=G.child;W;){if(W===_){p=!0,_=G,O=l;break}if(W===O){p=!0,O=G,_=l;break}W=W.sibling}if(!p)throw Error(T(189))}}if(_.alternate!==O)throw Error(T(190))}if(_.tag!==3)throw Error(T(188));return _.stateNode.current===_?x:g}function eN(x){var g=x.tag;if(g===5||g===26||g===27||g===6)return x;for(x=x.child;x!==null;){if(g=eN(x),g!==null)return g;x=x.sibling}return null}var x7=Array.isArray,$x=JN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,l6={pending:!1,data:null,method:null,action:null},Bo=[],W8=-1;function O_(x){return{current:x}}function m0(x){0>W8||(x.current=Bo[W8],Bo[W8]=null,W8--)}function Hx(x,g){W8++,Bo[W8]=x.current,x.current=g}var eg=O_(null),m7=O_(null),dO=O_(null),mG=O_(null);function bG(x,g){switch(Hx(dO,g),Hx(m7,x),Hx(eg,null),x=g.nodeType,x){case 9:case 11:g=(g=g.documentElement)?(g=g.namespaceURI)?ZN(g):0:0;break;default:if(x=x===8?g.parentNode:g,g=x.tagName,x=x.namespaceURI)x=ZN(x),g=vk(x,g);else switch(g){case"svg":g=1;break;case"math":g=2;break;default:g=0}}m0(eg),Hx(eg,g)}function K8(){m0(eg),m0(m7),m0(dO)}function Ho(x){x.memoizedState!==null&&Hx(mG,x);var g=eg.current,_=vk(g,x.type);g!==_&&(Hx(m7,x),Hx(eg,_))}function hG(x){m7.current===x&&(m0(eg),m0(m7)),mG.current===x&&(m0(mG),I7._currentValue=l6)}var Po=Object.prototype.hasOwnProperty,Uw=e6,yo=Oo,Jf=po,Rf=Go,x_=Rg,Tf=lo,x2=xo,g2=_o,KG=t6,sf=go,_2=eW,tf=void 0,ef=void 0,U7=null,xg=null;function xc(x){if(xg&&typeof xg.onCommitFiberRoot==="function")try{xg.onCommitFiberRoot(U7,x,void 0,(x.current.flags&128)===128)}catch(g){}}function NO(x){if(typeof tf==="function"&&ef(x),xg&&typeof xg.setStrictMode==="function")try{xg.setStrictMode(U7,x)}catch(g){}}var gg=Math.clz32?Math.clz32:Oc,gc=Math.log,_c=Math.LN2;function Oc(x){return x>>>=0,x===0?32:31-(gc(x)/_c|0)|0}var T9=128,s9=4194304;function tO(x){var g=x&42;if(g!==0)return g;switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return x&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return x}}function TG(x,g){var _=x.pendingLanes;if(_===0)return 0;var O=0,l=x.suspendedLanes,G=x.pingedLanes,p=x.warmLanes;x=x.finishedLanes!==0;var W=_&134217727;return W!==0?(_=W&~l,_!==0?O=tO(_):(G&=W,G!==0?O=tO(G):x||(p=W&~p,p!==0&&(O=tO(p))))):(W=_&~l,W!==0?O=tO(W):G!==0?O=tO(G):x||(p=_&~p,p!==0&&(O=tO(p)))),O===0?0:g!==0&&g!==O&&(g&l)===0&&(l=O&-O,p=g&-g,l>=p||l===32&&(p&4194176)!==0)?g:O}function D7(x,g){return(x.pendingLanes&~(x.suspendedLanes&~x.pingedLanes)&g)===0}function lc(x,g){switch(x){case 1:case 2:case 4:case 8:return g+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O2(){var x=T9;return T9<<=1,(T9&4194176)===0&&(T9=128),x}function l2(){var x=s9;return s9<<=1,(s9&62914560)===0&&(s9=4194304),x}function No(x){for(var g=[],_=0;31>_;_++)g.push(x);return g}function Q7(x,g){x.pendingLanes|=g,g!==268435456&&(x.suspendedLanes=0,x.pingedLanes=0,x.warmLanes=0)}function Gc(x,g,_,O,l,G){var p=x.pendingLanes;x.pendingLanes=_,x.suspendedLanes=0,x.pingedLanes=0,x.warmLanes=0,x.expiredLanes&=_,x.entangledLanes&=_,x.errorRecoveryDisabledLanes&=_,x.shellSuspendCounter=0;var{entanglements:W,expirationTimes:w,hiddenUpdates:o}=x;for(_=p&~_;0<_;){var v=31-gg(_),N=1<<v;W[v]=0,w[v]=-1;var k=o[v];if(k!==null)for(o[v]=null,v=0;v<k.length;v++){var C=k[v];C!==null&&(C.lane&=-536870913)}_&=~N}O!==0&&G2(x,O,0),G!==0&&l===0&&x.tag!==0&&(x.suspendedLanes|=G&~(p&~g))}function G2(x,g,_){x.pendingLanes|=g,x.suspendedLanes&=~g;var O=31-gg(g);x.entangledLanes|=g,x.entanglements[O]=x.entanglements[O]|1073741824|_&4194218}function p2(x,g){var _=x.entangledLanes|=g;for(x=x.entanglements;_;){var O=31-gg(_),l=1<<O;l&g|x[O]&g&&(x[O]|=g),_&=~l}}function W2(x){return x&=-x,2<x?8<x?(x&134217727)!==0?32:268435456:8:2}function o2(){var x=$x.p;if(x!==0)return x;return x=window.event,x===void 0?32:ck(x.type)}function pc(x,g){var _=$x.p;try{return $x.p=x,g()}finally{$x.p=_}}var LO=Math.random().toString(36).slice(2),X0="__reactFiber$"+LO,n0="__reactProps$"+LO,j8="__reactContainer$"+LO,Jo="__reactEvents$"+LO,Wc="__reactListeners$"+LO,oc="__reactHandles$"+LO,j3="__reactResources$"+LO,b7="__reactMarker$"+LO;function Dw(x){delete x[X0],delete x[n0],delete x[Jo],delete x[Wc],delete x[oc]}function _6(x){var g=x[X0];if(g)return g;for(var _=x.parentNode;_;){if(g=_[j8]||_[X0]){if(_=g.alternate,g.child!==null||_!==null&&_.child!==null)for(x=rN(x);x!==null;){if(_=x[X0])return _;x=rN(x)}return g}x=_,_=x.parentNode}return null}function r8(x){if(x=x[X0]||x[j8]){var g=x.tag;if(g===5||g===6||g===13||g===26||g===27||g===3)return x}return null}function g7(x){var g=x.tag;if(g===5||g===26||g===27||g===6)return x.stateNode;throw Error(T(33))}function q8(x){var g=x[j3];return g||(g=x[j3]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function f0(x){x[b7]=!0}var w2=new Set,z2={};function d6(x,g){V8(x,g),V8(x+"Capture",g)}function V8(x,g){z2[x]=g;for(x=0;x<g.length;x++)w2.add(g[x])}var S_=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),r3={},U3={};function zc(x){if(Po.call(U3,x))return!0;if(Po.call(r3,x))return!1;if(wc.test(x))return U3[x]=!0;return r3[x]=!0,!1}function wG(x,g,_){if(zc(g))if(_===null)x.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":x.removeAttribute(g);return;case"boolean":var O=g.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){x.removeAttribute(g);return}}x.setAttribute(g,""+_)}}function t9(x,g,_){if(_===null)x.removeAttribute(g);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":x.removeAttribute(g);return}x.setAttribute(g,""+_)}}function Y_(x,g,_,O){if(O===null)x.removeAttribute(_);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":x.removeAttribute(_);return}x.setAttributeNS(g,_,""+O)}}function Ng(x){switch(typeof x){case"bigint":case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function v2(x){var g=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function vc(x){var g=v2(x)?"checked":"value",_=Object.getOwnPropertyDescriptor(x.constructor.prototype,g),O=""+x[g];if(!x.hasOwnProperty(g)&&typeof _!=="undefined"&&typeof _.get==="function"&&typeof _.set==="function"){var{get:l,set:G}=_;return Object.defineProperty(x,g,{configurable:!0,get:function(){return l.call(this)},set:function(p){O=""+p,G.call(this,p)}}),Object.defineProperty(x,g,{enumerable:_.enumerable}),{getValue:function(){return O},setValue:function(p){O=""+p},stopTracking:function(){x._valueTracker=null,delete x[g]}}}}function VG(x){x._valueTracker||(x._valueTracker=vc(x))}function y2(x){if(!x)return!1;var g=x._valueTracker;if(!g)return!0;var _=g.getValue(),O="";return x&&(O=v2(x)?x.checked?"true":"false":x.value),x=O,x!==_?(g.setValue(x),!0):!1}function LG(x){if(x=x||(typeof document!=="undefined"?document:void 0),typeof x==="undefined")return null;try{return x.activeElement||x.body}catch(g){return x.body}}var yc=/[\n"\\]/g;function Cg(x){return x.replace(yc,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function io(x,g,_,O,l,G,p,W){if(x.name="",p!=null&&typeof p!=="function"&&typeof p!=="symbol"&&typeof p!=="boolean"?x.type=p:x.removeAttribute("type"),g!=null)if(p==="number"){if(g===0&&x.value===""||x.value!=g)x.value=""+Ng(g)}else x.value!==""+Ng(g)&&(x.value=""+Ng(g));else p!=="submit"&&p!=="reset"||x.removeAttribute("value");g!=null?Ro(x,p,Ng(g)):_!=null?Ro(x,p,Ng(_)):O!=null&&x.removeAttribute("value"),l==null&&G!=null&&(x.defaultChecked=!!G),l!=null&&(x.checked=l&&typeof l!=="function"&&typeof l!=="symbol"),W!=null&&typeof W!=="function"&&typeof W!=="symbol"&&typeof W!=="boolean"?x.name=""+Ng(W):x.removeAttribute("name")}function N2(x,g,_,O,l,G,p,W){if(G!=null&&typeof G!=="function"&&typeof G!=="symbol"&&typeof G!=="boolean"&&(x.type=G),g!=null||_!=null){if(!(G!=="submit"&&G!=="reset"||g!==void 0&&g!==null))return;_=_!=null?""+Ng(_):"",g=g!=null?""+Ng(g):_,W||g===x.value||(x.value=g),x.defaultValue=g}O=O!=null?O:l,O=typeof O!=="function"&&typeof O!=="symbol"&&!!O,x.checked=W?x.checked:!!O,x.defaultChecked=!!O,p!=null&&typeof p!=="function"&&typeof p!=="symbol"&&typeof p!=="boolean"&&(x.name=p)}function Ro(x,g,_){g==="number"&&LG(x.ownerDocument)===x||x.defaultValue===""+_||(x.defaultValue=""+_)}function M8(x,g,_,O){if(x=x.options,g){g={};for(var l=0;l<_.length;l++)g["$"+_[l]]=!0;for(_=0;_<x.length;_++)l=g.hasOwnProperty("$"+x[_].value),x[_].selected!==l&&(x[_].selected=l),l&&O&&(x[_].defaultSelected=!0)}else{_=""+Ng(_),g=null;for(l=0;l<x.length;l++){if(x[l].value===_){x[l].selected=!0,O&&(x[l].defaultSelected=!0);return}g!==null||x[l].disabled||(g=x[l])}g!==null&&(g.selected=!0)}}function k2(x,g,_){if(g!=null&&(g=""+Ng(g),g!==x.value&&(x.value=g),_==null)){x.defaultValue!==g&&(x.defaultValue=g);return}x.defaultValue=_!=null?""+Ng(_):""}function d2(x,g,_,O){if(g==null){if(O!=null){if(_!=null)throw Error(T(92));if(x7(O)){if(1<O.length)throw Error(T(93));O=O[0]}_=O}_==null&&(_=""),g=_}_=Ng(g),x.defaultValue=_,O=x.textContent,O===_&&O!==""&&O!==null&&(x.value=O)}function L8(x,g){if(g){var _=x.firstChild;if(_&&_===x.lastChild&&_.nodeType===3){_.nodeValue=g;return}}x.textContent=g}var Nc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function D3(x,g,_){var O=g.indexOf("--")===0;_==null||typeof _==="boolean"||_===""?O?x.setProperty(g,""):g==="float"?x.cssFloat="":x[g]="":O?x.setProperty(g,_):typeof _!=="number"||_===0||Nc.has(g)?g==="float"?x.cssFloat=_:x[g]=(""+_).trim():x[g]=_+"px"}function C2(x,g,_){if(g!=null&&typeof g!=="object")throw Error(T(62));if(x=x.style,_!=null){for(var O in _)!_.hasOwnProperty(O)||g!=null&&g.hasOwnProperty(O)||(O.indexOf("--")===0?x.setProperty(O,""):O==="float"?x.cssFloat="":x[O]="");for(var l in g)O=g[l],g.hasOwnProperty(l)&&_[l]!==O&&D3(x,l,O)}else for(var G in g)g.hasOwnProperty(G)&&D3(x,G,g[G])}function Qw(x){if(x.indexOf("-")===-1)return!1;switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zG(x){return dc.test(""+x)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":x}var To=null;function aw(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var o8=null,Y8=null;function Q3(x){var g=r8(x);if(g&&(x=g.stateNode)){var _=x[n0]||null;x:switch(x=g.stateNode,g.type){case"input":if(io(x,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),g=_.name,_.type==="radio"&&g!=null){for(_=x;_.parentNode;)_=_.parentNode;_=_.querySelectorAll('input[name="'+Cg(""+g)+'"][type="radio"]');for(g=0;g<_.length;g++){var O=_[g];if(O!==x&&O.form===x.form){var l=O[n0]||null;if(!l)throw Error(T(90));io(O,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(g=0;g<_.length;g++)O=_[g],O.form===x.form&&y2(O)}break x;case"textarea":k2(x,_.value,_.defaultValue);break x;case"select":g=_.value,g!=null&&M8(x,!!_.multiple,g,!1)}}}var ko=!1;function q2(x,g,_){if(ko)return x(g,_);ko=!0;try{var O=x(g);return O}finally{if(ko=!1,o8!==null||Y8!==null){if(pp(),o8&&(g=o8,x=Y8,Y8=o8=null,Q3(g),x))for(g=0;g<x.length;g++)Q3(x[g])}}}function h7(x,g){var _=x.stateNode;if(_===null)return null;var O=_[n0]||null;if(O===null)return null;_=O[g];x:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(x=x.type,O=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!O;break x;default:x=!1}if(x)return null;if(_&&typeof _!=="function")throw Error(T(231,g,typeof _));return _}var so=!1;if(S_)try{eO={},Object.defineProperty(eO,"passive",{get:function(){so=!0}}),window.addEventListener("test",eO,eO),window.removeEventListener("test",eO,eO)}catch(x){so=!1}var eO,kO=null,Ew=null,vG=null;function M2(){if(vG)return vG;var x,g=Ew,_=g.length,O,l="value"in kO?kO.value:kO.textContent,G=l.length;for(x=0;x<_&&g[x]===l[x];x++);var p=_-x;for(O=1;O<=p&&g[_-O]===l[G-O];O++);return vG=l.slice(x,1<O?1-O:void 0)}function yG(x){var g=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&g===13&&(x=13)):x=g,x===10&&(x=13),32<=x||x===13?x:0}function e9(){return!0}function a3(){return!1}function $0(x){function g(_,O,l,G,p){this._reactName=_,this._targetInst=l,this.type=O,this.nativeEvent=G,this.target=p,this.currentTarget=null;for(var W in x)x.hasOwnProperty(W)&&(_=x[W],this[W]=_?_(G):G[W]);return this.isDefaultPrevented=(G.defaultPrevented!=null?G.defaultPrevented:G.returnValue===!1)?e9:a3,this.isPropagationStopped=a3,this}return Bx(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!=="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=e9)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!=="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=e9)},persist:function(){},isPersistent:e9}),g}var C6={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sG=$0(C6),a7=Bx({},C6,{view:0,detail:0}),Cc=$0(a7),Co,qo,Pl,tG=Bx({},a7,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nw,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){if("movementX"in x)return x.movementX;return x!==Pl&&(Pl&&x.type==="mousemove"?(Co=x.screenX-Pl.screenX,qo=x.screenY-Pl.screenY):qo=Co=0,Pl=x),Co},movementY:function(x){return"movementY"in x?x.movementY:qo}}),E3=$0(tG),qc=Bx({},tG,{dataTransfer:0}),Mc=$0(qc),Yc=Bx({},a7,{relatedTarget:0}),Mo=$0(Yc),fc=Bx({},C6,{animationName:0,elapsedTime:0,pseudoElement:0}),cc=$0(fc),mc=Bx({},C6,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),bc=$0(mc),hc=Bx({},C6,{data:0}),n3=$0(hc),Kc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(x){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(x):(x=Lc[x])?!!g[x]:!1}function nw(){return Xc}var Fc=Bx({},a7,{key:function(x){if(x.key){var g=Kc[x.key]||x.key;if(g!=="Unidentified")return g}return x.type==="keypress"?(x=yG(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?Vc[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nw,charCode:function(x){return x.type==="keypress"?yG(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?yG(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),Ac=$0(Fc),uc=Bx({},tG,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$3=$0(uc),Sc=Bx({},a7,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nw}),Ic=$0(Sc),Zc=Bx({},C6,{propertyName:0,elapsedTime:0,pseudoElement:0}),jc=$0(Zc),rc=Bx({},tG,{deltaX:function(x){return"deltaX"in x?x.deltaX:("wheelDeltaX"in x)?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:("wheelDeltaY"in x)?-x.wheelDeltaY:("wheelDelta"in x)?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),Uc=$0(rc),Dc=Bx({},C6,{newState:0,oldState:0}),Qc=$0(Dc),ac=[9,13,27,32],$w=S_&&"CompositionEvent"in window,W7=null;S_&&"documentMode"in document&&(W7=document.documentMode);var Ec=S_&&"TextEvent"in window&&!W7,Y2=S_&&(!$w||W7&&8<W7&&11>=W7),B3=String.fromCharCode(32),H3=!1;function f2(x,g){switch(x){case"keyup":return ac.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c2(x){return x=x.detail,typeof x==="object"&&"data"in x?x.data:null}var w8=!1;function nc(x,g){switch(x){case"compositionend":return c2(g);case"keypress":if(g.which!==32)return null;return H3=!0,B3;case"textInput":return x=g.data,x===B3&&H3?null:x;default:return null}}function $c(x,g){if(w8)return x==="compositionend"||!$w&&f2(x,g)?(x=M2(),vG=Ew=kO=null,w8=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Y2&&g.locale!=="ko"?null:g.data;default:return null}}var Bc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P3(x){var g=x&&x.nodeName&&x.nodeName.toLowerCase();return g==="input"?!!Bc[x.type]:g==="textarea"?!0:!1}function m2(x,g,_,O){o8?Y8?Y8.push(O):Y8=[O]:o8=O,g=$G(g,"onChange"),0<g.length&&(_=new sG("onChange","change",null,_,O),x.push({event:_,listeners:g}))}var o7=null,K7=null;function Hc(x){ok(x,0)}function eG(x){var g=g7(x);if(y2(g))return x}function J3(x,g){if(x==="change")return g}var b2=!1;if(S_){if(S_){if(O7="oninput"in document,!O7)NG=document.createElement("div"),NG.setAttribute("oninput","return;"),O7=typeof NG.oninput==="function";_7=O7}else _7=!1;b2=_7&&(!document.documentMode||9<document.documentMode)}var _7,O7,NG;function i3(){o7&&(o7.detachEvent("onpropertychange",h2),K7=o7=null)}function h2(x){if(x.propertyName==="value"&&eG(K7)){var g=[];m2(g,K7,x,aw(x)),q2(Hc,g)}}function Pc(x,g,_){x==="focusin"?(i3(),o7=g,K7=_,o7.attachEvent("onpropertychange",h2)):x==="focusout"&&i3()}function Jc(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return eG(K7)}function ic(x,g){if(x==="click")return eG(g)}function Rc(x,g){if(x==="input"||x==="change")return eG(g)}function Tc(x,g){return x===g&&(x!==0||1/x===1/g)||x!==x&&g!==g}var Og=typeof Object.is==="function"?Object.is:Tc;function V7(x,g){if(Og(x,g))return!0;if(typeof x!=="object"||x===null||typeof g!=="object"||g===null)return!1;var _=Object.keys(x),O=Object.keys(g);if(_.length!==O.length)return!1;for(O=0;O<_.length;O++){var l=_[O];if(!Po.call(g,l)||!Og(x[l],g[l]))return!1}return!0}function R3(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function T3(x,g){var _=R3(x);x=0;for(var O;_;){if(_.nodeType===3){if(O=x+_.textContent.length,x<=g&&O>=g)return{node:_,offset:g-x};x=O}x:{for(;_;){if(_.nextSibling){_=_.nextSibling;break x}_=_.parentNode}_=void 0}_=R3(_)}}function K2(x,g){return x&&g?x===g?!0:x&&x.nodeType===3?!1:g&&g.nodeType===3?K2(x,g.parentNode):("contains"in x)?x.contains(g):x.compareDocumentPosition?!!(x.compareDocumentPosition(g)&16):!1:!1}function V2(x){x=x!=null&&x.ownerDocument!=null&&x.ownerDocument.defaultView!=null?x.ownerDocument.defaultView:window;for(var g=LG(x.document);g instanceof x.HTMLIFrameElement;){try{var _=typeof g.contentWindow.location.href==="string"}catch(O){_=!1}if(_)x=g.contentWindow;else break;g=LG(x.document)}return g}function Bw(x){var g=x&&x.nodeName&&x.nodeName.toLowerCase();return g&&(g==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||g==="textarea"||x.contentEditable==="true")}function sc(x,g){var _=V2(g);g=x.focusedElem;var O=x.selectionRange;if(_!==g&&g&&g.ownerDocument&&K2(g.ownerDocument.documentElement,g)){if(O!==null&&Bw(g)){if(x=O.start,_=O.end,_===void 0&&(_=x),"selectionStart"in g)g.selectionStart=x,g.selectionEnd=Math.min(_,g.value.length);else if(_=(x=g.ownerDocument||document)&&x.defaultView||window,_.getSelection){_=_.getSelection();var l=g.textContent.length,G=Math.min(O.start,l);O=O.end===void 0?G:Math.min(O.end,l),!_.extend&&G>O&&(l=O,O=G,G=l),l=T3(g,G);var p=T3(g,O);l&&p&&(_.rangeCount!==1||_.anchorNode!==l.node||_.anchorOffset!==l.offset||_.focusNode!==p.node||_.focusOffset!==p.offset)&&(x=x.createRange(),x.setStart(l.node,l.offset),_.removeAllRanges(),G>O?(_.addRange(x),_.extend(p.node,p.offset)):(x.setEnd(p.node,p.offset),_.addRange(x)))}}x=[];for(_=g;_=_.parentNode;)_.nodeType===1&&x.push({element:_,left:_.scrollLeft,top:_.scrollTop});typeof g.focus==="function"&&g.focus();for(g=0;g<x.length;g++)_=x[g],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}var tc=S_&&"documentMode"in document&&11>=document.documentMode,z8=null,to=null,w7=null,eo=!1;function s3(x,g,_){var O=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;eo||z8==null||z8!==LG(O)||(O=z8,("selectionStart"in O)&&Bw(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),w7&&V7(w7,O)||(w7=O,O=$G(to,"onSelect"),0<O.length&&(g=new sG("onSelect","select",null,g,_),x.push({event:g,listeners:O}),g.target=z8)))}function sO(x,g){var _={};return _[x.toLowerCase()]=g.toLowerCase(),_["Webkit"+x]="webkit"+g,_["Moz"+x]="moz"+g,_}var v8={animationend:sO("Animation","AnimationEnd"),animationiteration:sO("Animation","AnimationIteration"),animationstart:sO("Animation","AnimationStart"),transitionrun:sO("Transition","TransitionRun"),transitionstart:sO("Transition","TransitionStart"),transitioncancel:sO("Transition","TransitionCancel"),transitionend:sO("Transition","TransitionEnd")},Yo={},L2={};S_&&(L2=document.createElement("div").style,("AnimationEvent"in window)||(delete v8.animationend.animation,delete v8.animationiteration.animation,delete v8.animationstart.animation),("TransitionEvent"in window)||delete v8.transitionend.transition);function q6(x){if(Yo[x])return Yo[x];if(!v8[x])return x;var g=v8[x],_;for(_ in g)if(g.hasOwnProperty(_)&&_ in L2)return Yo[x]=g[_];return x}var X2=q6("animationend"),F2=q6("animationiteration"),A2=q6("animationstart"),ec=q6("transitionrun"),xm=q6("transitionstart"),gm=q6("transitioncancel"),u2=q6("transitionend"),S2=new Map,t3="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Zg(x,g){S2.set(x,g),d6(g,[x])}var yg=[],y8=0,Hw=0;function xp(){for(var x=y8,g=Hw=y8=0;g<x;){var _=yg[g];yg[g++]=null;var O=yg[g];yg[g++]=null;var l=yg[g];yg[g++]=null;var G=yg[g];if(yg[g++]=null,O!==null&&l!==null){var p=O.pending;p===null?l.next=l:(l.next=p.next,p.next=l),O.pending=l}G!==0&&I2(_,l,G)}}function gp(x,g,_,O){yg[y8++]=x,yg[y8++]=g,yg[y8++]=_,yg[y8++]=O,Hw|=O,x.lanes|=O,x=x.alternate,x!==null&&(x.lanes|=O)}function Pw(x,g,_,O){return gp(x,g,_,O),XG(x)}function bO(x,g){return gp(x,null,null,g),XG(x)}function I2(x,g,_){x.lanes|=_;var O=x.alternate;O!==null&&(O.lanes|=_);for(var l=!1,G=x.return;G!==null;)G.childLanes|=_,O=G.alternate,O!==null&&(O.childLanes|=_),G.tag===22&&(x=G.stateNode,x===null||x._visibility&1||(l=!0)),x=G,G=G.return;l&&g!==null&&x.tag===3&&(G=x.stateNode,l=31-gg(_),G=G.hiddenUpdates,x=G[l],x===null?G[l]=[g]:x.push(g),g.lane=_|536870912)}function XG(x){if(50<c7)throw c7=0,cw=null,Error(T(185));for(var g=x.return;g!==null;)x=g,g=x.return;return x.tag===3?x.stateNode:null}var N8={},e3=new WeakMap;function qg(x,g){if(typeof x==="object"&&x!==null){var _=e3.get(x);if(_!==void 0)return _;return g={value:x,source:g,stack:I3(g)},e3.set(x,g),g}return{value:x,source:g,stack:I3(g)}}var k8=[],d8=0,FG=null,AG=0,kg=[],dg=0,G6=null,L_=1,X_="";function x6(x,g){k8[d8++]=AG,k8[d8++]=FG,FG=x,AG=g}function Z2(x,g,_){kg[dg++]=L_,kg[dg++]=X_,kg[dg++]=G6,G6=x;var O=L_;x=X_;var l=32-gg(O)-1;O&=~(1<<l),_+=1;var G=32-gg(g)+l;if(30<G){var p=l-l%5;G=(O&(1<<p)-1).toString(32),O>>=p,l-=p,L_=1<<32-gg(g)+l|_<<l|O,X_=G+x}else L_=1<<G|_<<l|O,X_=x}function Jw(x){x.return!==null&&(x6(x,1),Z2(x,1,0))}function iw(x){for(;x===FG;)FG=k8[--d8],k8[d8]=null,AG=k8[--d8],k8[d8]=null;for(;x===G6;)G6=kg[--dg],kg[dg]=null,X_=kg[--dg],kg[dg]=null,L_=kg[--dg],kg[dg]=null}var I0=null,h0=null,Kx=!1,Sg=null,sg=!1,xw=Error(T(519));function z6(x){var g=Error(T(418,""));throw L7(qg(g,x)),xw}function xN(x){var{stateNode:g,type:_,memoizedProps:O}=x;switch(g[X0]=x,g[n0]=O,_){case"dialog":Yx("cancel",g),Yx("close",g);break;case"iframe":case"object":case"embed":Yx("load",g);break;case"video":case"audio":for(_=0;_<A7.length;_++)Yx(A7[_],g);break;case"source":Yx("error",g);break;case"img":case"image":case"link":Yx("error",g),Yx("load",g);break;case"details":Yx("toggle",g);break;case"input":Yx("invalid",g),N2(g,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0),VG(g);break;case"select":Yx("invalid",g);break;case"textarea":Yx("invalid",g),d2(g,O.value,O.defaultValue,O.children),VG(g)}_=O.children,typeof _!=="string"&&typeof _!=="number"&&typeof _!=="bigint"||g.textContent===""+_||O.suppressHydrationWarning===!0||zk(g.textContent,_)?(O.popover!=null&&(Yx("beforetoggle",g),Yx("toggle",g)),O.onScroll!=null&&Yx("scroll",g),O.onScrollEnd!=null&&Yx("scrollend",g),O.onClick!=null&&(g.onclick=op),g=!0):g=!1,g||z6(x)}function gN(x){for(I0=x.return;I0;)switch(I0.tag){case 3:case 27:sg=!0;return;case 5:case 13:sg=!1;return;default:I0=I0.return}}function Jl(x){if(x!==I0)return!1;if(!Kx)return gN(x),Kx=!0,!1;var g=!1,_;if(_=x.tag!==3&&x.tag!==27){if(_=x.tag===5)_=x.type,_=!(_!=="form"&&_!=="button")||Aw(x.type,x.memoizedProps);_=!_}if(_&&(g=!0),g&&h0&&z6(x),gN(x),x.tag===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(T(317));x:{x=x.nextSibling;for(g=0;x;){if(x.nodeType===8)if(_=x.data,_==="/$"){if(g===0){h0=Ig(x.nextSibling);break x}g--}else _!=="$"&&_!=="$!"&&_!=="$?"||g++;x=x.nextSibling}h0=null}}else h0=I0?Ig(x.stateNode.nextSibling):null;return!0}function E7(){h0=I0=null,Kx=!1}function L7(x){Sg===null?Sg=[x]:Sg.push(x)}var z7=Error(T(460)),j2=Error(T(474)),gw={then:function(){}};function _N(x){return x=x.status,x==="fulfilled"||x==="rejected"}function xG(){}function r2(x,g,_){switch(_=x[_],_===void 0?x.push(g):_!==g&&(g.then(xG,xG),g=_),g.status){case"fulfilled":return g.value;case"rejected":if(x=g.reason,x===z7)throw Error(T(483));throw x;default:if(typeof g.status==="string")g.then(xG,xG);else{if(x=Qx,x!==null&&100<x.shellSuspendCounter)throw Error(T(482));x=g,x.status="pending",x.then(function(O){if(g.status==="pending"){var l=g;l.status="fulfilled",l.value=O}},function(O){if(g.status==="pending"){var l=g;l.status="rejected",l.reason=O}})}switch(g.status){case"fulfilled":return g.value;case"rejected":if(x=g.reason,x===z7)throw Error(T(483));throw x}throw v7=g,z7}}var v7=null;function ON(){if(v7===null)throw Error(T(459));var x=v7;return v7=null,x}var f8=null,X7=0;function gG(x){var g=X7;return X7+=1,f8===null&&(f8=[]),r2(f8,x,g)}function il(x,g){g=g.props.ref,x.ref=g!==void 0?g:null}function _G(x,g){if(g.$$typeof===Ef)throw Error(T(525));throw x=Object.prototype.toString.call(g),Error(T(31,x==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":x))}function lN(x){var g=x._init;return g(x._payload)}function U2(x){function g(f,d){if(x){var M=f.deletions;M===null?(f.deletions=[d],f.flags|=16):M.push(d)}}function _(f,d){if(!x)return null;for(;d!==null;)g(f,d),d=d.sibling;return null}function O(f){for(var d=new Map;f!==null;)f.key!==null?d.set(f.key,f):d.set(f.index,f),f=f.sibling;return d}function l(f,d){return f=MO(f,d),f.index=0,f.sibling=null,f}function G(f,d,M){if(f.index=M,!x)return f.flags|=1048576,d;if(M=f.alternate,M!==null)return M=M.index,M<d?(f.flags|=33554434,d):M;return f.flags|=33554434,d}function p(f){return x&&f.alternate===null&&(f.flags|=33554434),f}function W(f,d,M,Y){if(d===null||d.tag!==6)return d=uo(M,f.mode,Y),d.return=f,d;return d=l(d,M),d.return=f,d}function w(f,d,M,Y){var K=M.type;if(K===p8)return v(f,d,M.props.children,Y,M.key);if(d!==null&&(d.elementType===K||typeof K==="object"&&K!==null&&K.$$typeof===WO&&lN(K)===d.type))return d=l(d,M.props),il(d,M),d.return=f,d;return d=MG(M.type,M.key,M.props,null,f.mode,Y),il(d,M),d.return=f,d}function o(f,d,M,Y){if(d===null||d.tag!==4||d.stateNode.containerInfo!==M.containerInfo||d.stateNode.implementation!==M.implementation)return d=So(M,f.mode,Y),d.return=f,d;return d=l(d,M.children||[]),d.return=f,d}function v(f,d,M,Y,K){if(d===null||d.tag!==7)return d=W6(M,f.mode,Y,K),d.return=f,d;return d=l(d,M),d.return=f,d}function N(f,d,M){if(typeof d==="string"&&d!==""||typeof d==="number"||typeof d==="bigint")return d=uo(""+d,f.mode,M),d.return=f,d;if(typeof d==="object"&&d!==null){switch(d.$$typeof){case R9:return M=MG(d.type,d.key,d.props,null,f.mode,M),il(M,d),M.return=f,M;case tl:return d=So(d,f.mode,M),d.return=f,d;case WO:var Y=d._init;return d=Y(d._payload),N(f,d,M)}if(x7(d)||Hl(d))return d=W6(d,f.mode,M,null),d.return=f,d;if(typeof d.then==="function")return N(f,gG(d),M);if(d.$$typeof===V_)return N(f,OG(f,d),M);_G(f,d)}return null}function k(f,d,M,Y){var K=d!==null?d.key:null;if(typeof M==="string"&&M!==""||typeof M==="number"||typeof M==="bigint")return K!==null?null:W(f,d,""+M,Y);if(typeof M==="object"&&M!==null){switch(M.$$typeof){case R9:return M.key===K?w(f,d,M,Y):null;case tl:return M.key===K?o(f,d,M,Y):null;case WO:return K=M._init,M=K(M._payload),k(f,d,M,Y)}if(x7(M)||Hl(M))return K!==null?null:v(f,d,M,Y,null);if(typeof M.then==="function")return k(f,d,gG(M),Y);if(M.$$typeof===V_)return k(f,d,OG(f,M),Y);_G(f,M)}return null}function C(f,d,M,Y,K){if(typeof Y==="string"&&Y!==""||typeof Y==="number"||typeof Y==="bigint")return f=f.get(M)||null,W(d,f,""+Y,K);if(typeof Y==="object"&&Y!==null){switch(Y.$$typeof){case R9:return f=f.get(Y.key===null?M:Y.key)||null,w(d,f,Y,K);case tl:return f=f.get(Y.key===null?M:Y.key)||null,o(d,f,Y,K);case WO:var h=Y._init;return Y=h(Y._payload),C(f,d,M,Y,K)}if(x7(Y)||Hl(Y))return f=f.get(M)||null,v(d,f,Y,K,null);if(typeof Y.then==="function")return C(f,d,M,gG(Y),K);if(Y.$$typeof===V_)return C(f,d,M,OG(d,Y),K);_G(d,Y)}return null}function c(f,d,M,Y){for(var K=null,h=null,V=d,F=d=0,D=null;V!==null&&F<M.length;F++){V.index>F?(D=V,V=null):D=V.sibling;var U=k(f,V,M[F],Y);if(U===null){V===null&&(V=D);break}x&&V&&U.alternate===null&&g(f,V),d=G(U,d,F),h===null?K=U:h.sibling=U,h=U,V=D}if(F===M.length)return _(f,V),Kx&&x6(f,F),K;if(V===null){for(;F<M.length;F++)V=N(f,M[F],Y),V!==null&&(d=G(V,d,F),h===null?K=V:h.sibling=V,h=V);return Kx&&x6(f,F),K}for(V=O(V);F<M.length;F++)D=C(V,f,F,M[F],Y),D!==null&&(x&&D.alternate!==null&&V.delete(D.key===null?F:D.key),d=G(D,d,F),h===null?K=D:h.sibling=D,h=D);return x&&V.forEach(function(Q){return g(f,Q)}),Kx&&x6(f,F),K}function m(f,d,M,Y){if(M==null)throw Error(T(151));for(var K=null,h=null,V=d,F=d=0,D=null,U=M.next();V!==null&&!U.done;F++,U=M.next()){V.index>F?(D=V,V=null):D=V.sibling;var Q=k(f,V,U.value,Y);if(Q===null){V===null&&(V=D);break}x&&V&&Q.alternate===null&&g(f,V),d=G(Q,d,F),h===null?K=Q:h.sibling=Q,h=Q,V=D}if(U.done)return _(f,V),Kx&&x6(f,F),K;if(V===null){for(;!U.done;F++,U=M.next())U=N(f,U.value,Y),U!==null&&(d=G(U,d,F),h===null?K=U:h.sibling=U,h=U);return Kx&&x6(f,F),K}for(V=O(V);!U.done;F++,U=M.next())U=C(V,f,F,U.value,Y),U!==null&&(x&&U.alternate!==null&&V.delete(U.key===null?F:U.key),d=G(U,d,F),h===null?K=U:h.sibling=U,h=U);return x&&V.forEach(function(L){return g(f,L)}),Kx&&x6(f,F),K}function b(f,d,M,Y){if(typeof M==="object"&&M!==null&&M.type===p8&&M.key===null&&(M=M.props.children),typeof M==="object"&&M!==null){switch(M.$$typeof){case R9:x:{for(var K=M.key;d!==null;){if(d.key===K){if(K=M.type,K===p8){if(d.tag===7){_(f,d.sibling),Y=l(d,M.props.children),Y.return=f,f=Y;break x}}else if(d.elementType===K||typeof K==="object"&&K!==null&&K.$$typeof===WO&&lN(K)===d.type){_(f,d.sibling),Y=l(d,M.props),il(Y,M),Y.return=f,f=Y;break x}_(f,d);break}else g(f,d);d=d.sibling}M.type===p8?(Y=W6(M.props.children,f.mode,Y,M.key),Y.return=f,f=Y):(Y=MG(M.type,M.key,M.props,null,f.mode,Y),il(Y,M),Y.return=f,f=Y)}return p(f);case tl:x:{for(K=M.key;d!==null;){if(d.key===K)if(d.tag===4&&d.stateNode.containerInfo===M.containerInfo&&d.stateNode.implementation===M.implementation){_(f,d.sibling),Y=l(d,M.children||[]),Y.return=f,f=Y;break x}else{_(f,d);break}else g(f,d);d=d.sibling}Y=So(M,f.mode,Y),Y.return=f,f=Y}return p(f);case WO:return K=M._init,M=K(M._payload),b(f,d,M,Y)}if(x7(M))return c(f,d,M,Y);if(Hl(M)){if(K=Hl(M),typeof K!=="function")throw Error(T(150));return M=K.call(M),m(f,d,M,Y)}if(typeof M.then==="function")return b(f,d,gG(M),Y);if(M.$$typeof===V_)return b(f,d,OG(f,M),Y);_G(f,M)}return typeof M==="string"&&M!==""||typeof M==="number"||typeof M==="bigint"?(M=""+M,d!==null&&d.tag===6?(_(f,d.sibling),Y=l(d,M),Y.return=f,f=Y):(_(f,d),Y=uo(M,f.mode,Y),Y.return=f,f=Y),p(f)):_(f,d)}return function(f,d,M,Y){try{X7=0;var K=b(f,d,M,Y);return f8=null,K}catch(V){if(V===z7)throw V;var h=Mg(29,V,null,f.mode);return h.lanes=Y,h.return=f,h}finally{}}}var v6=U2(!0),D2=U2(!1),X8=O_(null),uG=O_(0);function GN(x,g){x=j_,Hx(uG,x),Hx(X8,g),j_=x|g.baseLanes}function _w(){Hx(uG,j_),Hx(X8,X8.current)}function Rw(){j_=uG.current,m0(X8),m0(uG)}var fg=O_(null),g_=null;function wO(x){var g=x.alternate;Hx(d0,d0.current&1),Hx(fg,x),g_===null&&(g===null||X8.current!==null?g_=x:g.memoizedState!==null&&(g_=x))}function Q2(x){if(x.tag===22){if(Hx(d0,d0.current),Hx(fg,x),g_===null){var g=x.alternate;g!==null&&g.memoizedState!==null&&(g_=x)}}else zO(x)}function zO(){Hx(d0,d0.current),Hx(fg,fg.current)}function F_(x){m0(fg),g_===x&&(g_=null),m0(d0)}var d0=O_(0);function SG(x){for(var g=x;g!==null;){if(g.tag===13){var _=g.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===x)break;for(;g.sibling===null;){if(g.return===null||g.return===x)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var _m=typeof AbortController!=="undefined"?AbortController:function(){var x=[],g=this.signal={aborted:!1,addEventListener:function(_,O){x.push(O)}};this.abort=function(){g.aborted=!0,x.forEach(function(_){return _()})}},Om=e6,lm=t6,k0={$$typeof:V_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tw(){return{controller:new _m,data:new Map,refCount:0}}function n7(x){x.refCount--,x.refCount===0&&Om(lm,function(){x.controller.abort()})}var y7=null,Ow=0,F8=0,c8=null;function Gm(x,g){if(y7===null){var _=y7=[];Ow=0,F8=Yz(),c8={status:"pending",value:void 0,then:function(O){_.push(O)}}}return Ow++,g.then(pN,pN),g}function pN(){if(--Ow===0&&y7!==null){c8!==null&&(c8.status="fulfilled");var x=y7;y7=null,F8=0,c8=null;for(var g=0;g<x.length;g++)x[g]()}}function pm(x,g){var _=[],O={status:"pending",value:null,reason:null,then:function(l){_.push(l)}};return x.then(function(){O.status="fulfilled",O.value=g;for(var l=0;l<_.length;l++)_[l](g)},function(l){O.status="rejected",O.reason=l;for(l=0;l<_.length;l++)_[l](void 0)}),O}var WN=zx.S;zx.S=function(x,g){typeof g==="object"&&g!==null&&typeof g.then==="function"&&Gm(x,g),WN!==null&&WN(x,g)};var p6=O_(null);function sw(){var x=p6.current;return x!==null?x:Qx.pooledCache}function kG(x,g){g===null?Hx(p6,p6.current):Hx(p6,g.pool)}function a2(){var x=sw();return x===null?null:{parent:k0._currentValue,pool:x}}var hO=0,kx=null,Zx=null,v0=null,IG=!1,m8=!1,y6=!1,ZG=0,F7=0,b8=null,Wm=0;function G0(){throw Error(T(321))}function tw(x,g){if(g===null)return!1;for(var _=0;_<g.length&&_<x.length;_++)if(!Og(x[_],g[_]))return!1;return!0}function ew(x,g,_,O,l,G){return hO=G,kx=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,zx.H=x===null||x.memoizedState===null?M6:XO,y6=!1,G=_(O,l),y6=!1,m8&&(G=n2(g,_,O,l)),E2(x),G}function E2(x){zx.H=__;var g=Zx!==null&&Zx.next!==null;if(hO=0,v0=Zx=kx=null,IG=!1,F7=0,b8=null,g)throw Error(T(300));x===null||c0||(x=x.dependencies,x!==null&&UG(x)&&(c0=!0))}function n2(x,g,_,O){kx=x;var l=0;do{if(m8&&(b8=null),F7=0,m8=!1,25<=l)throw Error(T(301));if(l+=1,v0=Zx=null,x.updateQueue!=null){var G=x.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}zx.H=Y6,G=g(_,O)}while(m8);return G}function om(){var x=zx.H,g=x.useState()[0];return g=typeof g.then==="function"?$7(g):g,x=x.useState()[0],(Zx!==null?Zx.memoizedState:null)!==x&&(kx.flags|=1024),g}function xz(){var x=ZG!==0;return ZG=0,x}function gz(x,g,_){g.updateQueue=x.updateQueue,g.flags&=-2053,x.lanes&=~_}function _z(x){if(IG){for(x=x.memoizedState;x!==null;){var g=x.queue;g!==null&&(g.pending=null),x=x.next}IG=!1}hO=0,v0=Zx=kx=null,m8=!1,F7=ZG=0,b8=null}function E0(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return v0===null?kx.memoizedState=v0=x:v0=v0.next=x,v0}function y0(){if(Zx===null){var x=kx.alternate;x=x!==null?x.memoizedState:null}else x=Zx.next;var g=v0===null?kx.memoizedState:v0.next;if(g!==null)v0=g,Zx=x;else{if(x===null){if(kx.alternate===null)throw Error(T(467));throw Error(T(310))}Zx=x,x={memoizedState:Zx.memoizedState,baseState:Zx.baseState,baseQueue:Zx.baseQueue,queue:Zx.queue,next:null},v0===null?kx.memoizedState=v0=x:v0=v0.next=x}return v0}var _p;_p=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function $7(x){var g=F7;return F7+=1,b8===null&&(b8=[]),x=r2(b8,x,g),g=kx,(v0===null?g.memoizedState:v0.next)===null&&(g=g.alternate,zx.H=g===null||g.memoizedState===null?M6:XO),x}function Op(x){if(x!==null&&typeof x==="object"){if(typeof x.then==="function")return $7(x);if(x.$$typeof===V_)return F0(x)}throw Error(T(438,String(x)))}function Oz(x){var g=null,_=kx.updateQueue;if(_!==null&&(g=_.memoCache),g==null){var O=kx.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(g={data:O.data.map(function(l){return l.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),_===null&&(_=_p(),kx.updateQueue=_),_.memoCache=g,_=g.data[g.index],_===void 0)for(_=g.data[g.index]=Array(x),O=0;O<x;O++)_[O]=$f;return g.index++,_}function I_(x,g){return typeof g==="function"?g(x):g}function dG(x){var g=y0();return lz(g,Zx,x)}function lz(x,g,_){var O=x.queue;if(O===null)throw Error(T(311));O.lastRenderedReducer=_;var l=x.baseQueue,G=O.pending;if(G!==null){if(l!==null){var p=l.next;l.next=G.next,G.next=p}g.baseQueue=l=G,O.pending=null}if(G=x.baseState,l===null)x.memoizedState=G;else{g=l.next;var W=p=null,w=null,o=g,v=!1;do{var N=o.lane&-536870913;if(N!==o.lane?(mx&N)===N:(hO&N)===N){var k=o.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),N===F8&&(v=!0);else if((hO&k)===k){o=o.next,k===F8&&(v=!0);continue}else N={lane:0,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},w===null?(W=w=N,p=G):w=w.next=N,kx.lanes|=k,VO|=k;N=o.action,y6&&_(G,N),G=o.hasEagerState?o.eagerState:_(G,N)}else k={lane:N,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},w===null?(W=w=k,p=G):w=w.next=k,kx.lanes|=N,VO|=N;o=o.next}while(o!==null&&o!==g);if(w===null?p=G:w.next=W,!Og(G,x.memoizedState)&&(c0=!0,v&&(_=c8,_!==null)))throw _;x.memoizedState=G,x.baseState=p,x.baseQueue=w,O.lastRenderedState=G}return l===null&&(O.lanes=0),[x.memoizedState,O.dispatch]}function fo(x){var g=y0(),_=g.queue;if(_===null)throw Error(T(311));_.lastRenderedReducer=x;var{dispatch:O,pending:l}=_,G=g.memoizedState;if(l!==null){_.pending=null;var p=l=l.next;do G=x(G,p.action),p=p.next;while(p!==l);Og(G,g.memoizedState)||(c0=!0),g.memoizedState=G,g.baseQueue===null&&(g.baseState=G),_.lastRenderedState=G}return[G,O]}function $2(x,g,_){var O=kx,l=y0(),G=Kx;if(G){if(_===void 0)throw Error(T(407));_=_()}else _=g();var p=!Og((Zx||l).memoizedState,_);if(p&&(l.memoizedState=_,c0=!0),l=l.queue,Gz(P2.bind(null,O,l,x),[x]),l.getSnapshot!==g||p||v0!==null&&v0.memoizedState.tag&1){if(O.flags|=2048,A8(9,H2.bind(null,O,l,_,g),{destroy:void 0},null),Qx===null)throw Error(T(349));G||(hO&60)!==0||B2(O,g,_)}return _}function B2(x,g,_){x.flags|=16384,x={getSnapshot:g,value:_},g=kx.updateQueue,g===null?(g=_p(),kx.updateQueue=g,g.stores=[x]):(_=g.stores,_===null?g.stores=[x]:_.push(x))}function H2(x,g,_,O){g.value=_,g.getSnapshot=O,J2(g)&&i2(x)}function P2(x,g,_){return _(function(){J2(g)&&i2(x)})}function J2(x){var g=x.getSnapshot;x=x.value;try{var _=g();return!Og(x,_)}catch(O){return!0}}function i2(x){var g=bO(x,2);g!==null&&Z0(g,x,2)}function lw(x){var g=E0();if(typeof x==="function"){var _=x;if(x=_(),y6){NO(!0);try{_()}finally{NO(!1)}}}return g.memoizedState=g.baseState=x,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:x},g}function R2(x,g,_,O){return x.baseState=_,lz(x,Zx,typeof O==="function"?O:I_)}function wm(x,g,_,O,l){if(Gp(x))throw Error(T(485));if(x=g.action,x!==null){var G={payload:l,action:x,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){G.listeners.push(p)}};zx.T!==null?_(!0):G.isTransition=!1,O(G),_=g.pending,_===null?(G.next=g.pending=G,T2(g,G)):(G.next=_.next,g.pending=_.next=G)}}function T2(x,g){var{action:_,payload:O}=g,l=x.state;if(g.isTransition){var G=zx.T,p={};zx.T=p;try{var W=_(l,O),w=zx.S;w!==null&&w(p,W),oN(x,g,W)}catch(o){Gw(x,g,o)}finally{zx.T=G}}else try{G=_(l,O),oN(x,g,G)}catch(o){Gw(x,g,o)}}function oN(x,g,_){_!==null&&typeof _==="object"&&typeof _.then==="function"?_.then(function(O){wN(x,g,O)},function(O){return Gw(x,g,O)}):wN(x,g,_)}function wN(x,g,_){g.status="fulfilled",g.value=_,s2(g),x.state=_,g=x.pending,g!==null&&(_=g.next,_===g?x.pending=null:(_=_.next,g.next=_,T2(x,_)))}function Gw(x,g,_){var O=x.pending;if(x.pending=null,O!==null){O=O.next;do g.status="rejected",g.reason=_,s2(g),g=g.next;while(g!==O)}x.action=null}function s2(x){x=x.listeners;for(var g=0;g<x.length;g++)x[g]()}function t2(x,g){return g}function e2(x,g){if(Kx){var _=Qx.formState;if(_!==null){x:{var O=kx;if(Kx){if(h0){g:{var l=h0;for(var G=sg;l.nodeType!==8;){if(!G){l=null;break g}if(l=Ig(l.nextSibling),l===null){l=null;break g}}G=l.data,l=G==="F!"||G==="F"?l:null}if(l){h0=Ig(l.nextSibling),O=l.data==="F!";break x}}z6(O)}O=!1}O&&(g=_[0])}}return _=E0(),_.memoizedState=_.baseState=g,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t2,lastRenderedState:g},_.queue=O,_=C1.bind(null,kx,O),O.dispatch=_,O=lw(!1),G=wz.bind(null,kx,!1,O.queue),O=E0(),l={state:g,dispatch:null,action:x,pending:null},O.queue=l,_=wm.bind(null,kx,l,G,_),l.dispatch=_,O.memoizedState=x,[g,_,!1]}function x1(x){var g=y0();return g1(g,Zx,x)}function g1(x,g,_){g=lz(x,g,t2)[0],x=dG(I_)[0],g=typeof g==="object"&&g!==null&&typeof g.then==="function"?$7(g):g;var O=y0(),l=O.queue,G=l.dispatch;return _!==O.memoizedState&&(kx.flags|=2048,A8(9,zm.bind(null,l,_),{destroy:void 0},null)),[g,G,x]}function zm(x,g){x.action=g}function _1(x){var g=y0(),_=Zx;if(_!==null)return g1(g,_,x);y0(),g=g.memoizedState,_=y0();var O=_.queue.dispatch;return _.memoizedState=x,[g,O,!1]}function A8(x,g,_,O){return x={tag:x,create:g,inst:_,deps:O,next:null},g=kx.updateQueue,g===null&&(g=_p(),kx.updateQueue=g),_=g.lastEffect,_===null?g.lastEffect=x.next=x:(O=_.next,_.next=x,x.next=O,g.lastEffect=x),x}function O1(){return y0().memoizedState}function CG(x,g,_,O){var l=E0();kx.flags|=x,l.memoizedState=A8(1|g,_,{destroy:void 0},O===void 0?null:O)}function lp(x,g,_,O){var l=y0();O=O===void 0?null:O;var G=l.memoizedState.inst;Zx!==null&&O!==null&&tw(O,Zx.memoizedState.deps)?l.memoizedState=A8(g,_,G,O):(kx.flags|=x,l.memoizedState=A8(1|g,_,G,O))}function zN(x,g){CG(8390656,8,x,g)}function Gz(x,g){lp(2048,8,x,g)}function l1(x,g){return lp(4,2,x,g)}function G1(x,g){return lp(4,4,x,g)}function p1(x,g){if(typeof g==="function"){x=x();var _=g(x);return function(){typeof _==="function"?_():g(null)}}if(g!==null&&g!==void 0)return x=x(),g.current=x,function(){g.current=null}}function W1(x,g,_){_=_!==null&&_!==void 0?_.concat([x]):null,lp(4,4,p1.bind(null,g,x),_)}function pz(){}function o1(x,g){var _=y0();g=g===void 0?null:g;var O=_.memoizedState;if(g!==null&&tw(g,O[1]))return O[0];return _.memoizedState=[x,g],x}function w1(x,g){var _=y0();g=g===void 0?null:g;var O=_.memoizedState;if(g!==null&&tw(g,O[1]))return O[0];if(O=x(),y6){NO(!0);try{x()}finally{NO(!1)}}return _.memoizedState=[O,g],O}function Wz(x,g,_){if(_===void 0||(hO&1073741824)!==0)return x.memoizedState=g;return x.memoizedState=_,x=s1(),kx.lanes|=x,VO|=x,_}function z1(x,g,_,O){if(Og(_,g))return _;if(X8.current!==null)return x=Wz(x,_,O),Og(x,g)||(c0=!0),x;if((hO&42)===0)return c0=!0,x.memoizedState=_;return x=s1(),kx.lanes|=x,VO|=x,g}function v1(x,g,_,O,l){var G=$x.p;$x.p=G!==0&&8>G?G:8;var p=zx.T,W={};zx.T=W,wz(x,!1,g,_);try{var w=l(),o=zx.S;if(o!==null&&o(W,w),w!==null&&typeof w==="object"&&typeof w.then==="function"){var v=pm(w,O);N7(x,g,v,_g(x))}else N7(x,g,O,_g(x))}catch(N){N7(x,g,{then:function(){},status:"rejected",reason:N},_g())}finally{$x.p=G,zx.T=p}}function vm(){}function pw(x,g,_,O){if(x.tag!==5)throw Error(T(476));var l=y1(x).queue;v1(x,l,g,l6,_===null?vm:function(){return N1(x),_(O)})}function y1(x){var g=x.memoizedState;if(g!==null)return g;g={memoizedState:l6,baseState:l6,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:l6},next:null};var _={};return g.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:_},next:null},x.memoizedState=g,x=x.alternate,x!==null&&(x.memoizedState=g),g}function N1(x){var g=y1(x).next.queue;N7(x,g,{},_g())}function oz(){return F0(I7)}function k1(){return y0().memoizedState}function d1(){return y0().memoizedState}function ym(x){for(var g=x.return;g!==null;){switch(g.tag){case 24:case 3:var _=_g();x=CO(_);var O=qO(g,x,_);O!==null&&(Z0(O,g,_),d7(O,g,_)),g={cache:Tw()},x.payload=g;return}g=g.return}}function Nm(x,g,_){var O=_g();_={lane:O,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},Gp(x)?q1(g,_):(_=Pw(x,g,_,O),_!==null&&(Z0(_,x,O),M1(_,g,O)))}function C1(x,g,_){var O=_g();N7(x,g,_,O)}function N7(x,g,_,O){var l={lane:O,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(Gp(x))q1(g,l);else{var G=x.alternate;if(x.lanes===0&&(G===null||G.lanes===0)&&(G=g.lastRenderedReducer,G!==null))try{var p=g.lastRenderedState,W=G(p,_);if(l.hasEagerState=!0,l.eagerState=W,Og(W,p))return gp(x,g,l,0),Qx===null&&xp(),!1}catch(w){}finally{}if(_=Pw(x,g,l,O),_!==null)return Z0(_,x,O),M1(_,g,O),!0}return!1}function wz(x,g,_,O){if(O={lane:2,revertLane:Yz(),action:O,hasEagerState:!1,eagerState:null,next:null},Gp(x)){if(g)throw Error(T(479))}else g=Pw(x,_,O,2),g!==null&&Z0(g,x,2)}function Gp(x){var g=x.alternate;return x===kx||g!==null&&g===kx}function q1(x,g){m8=IG=!0;var _=x.pending;_===null?g.next=g:(g.next=_.next,_.next=g),x.pending=g}function M1(x,g,_){if((_&4194176)!==0){var O=g.lanes;O&=x.pendingLanes,_|=O,g.lanes=_,p2(x,_)}}var __={readContext:F0,use:Op,useCallback:G0,useContext:G0,useEffect:G0,useImperativeHandle:G0,useLayoutEffect:G0,useInsertionEffect:G0,useMemo:G0,useReducer:G0,useRef:G0,useState:G0,useDebugValue:G0,useDeferredValue:G0,useTransition:G0,useSyncExternalStore:G0,useId:G0};__.useCacheRefresh=G0;__.useMemoCache=G0;__.useHostTransitionStatus=G0;__.useFormState=G0;__.useActionState=G0;__.useOptimistic=G0;var M6={readContext:F0,use:Op,useCallback:function(x,g){return E0().memoizedState=[x,g===void 0?null:g],x},useContext:F0,useEffect:zN,useImperativeHandle:function(x,g,_){_=_!==null&&_!==void 0?_.concat([x]):null,CG(4194308,4,p1.bind(null,g,x),_)},useLayoutEffect:function(x,g){return CG(4194308,4,x,g)},useInsertionEffect:function(x,g){CG(4,2,x,g)},useMemo:function(x,g){var _=E0();g=g===void 0?null:g;var O=x();if(y6){NO(!0);try{x()}finally{NO(!1)}}return _.memoizedState=[O,g],O},useReducer:function(x,g,_){var O=E0();if(_!==void 0){var l=_(g);if(y6){NO(!0);try{_(g)}finally{NO(!1)}}}else l=g;return O.memoizedState=O.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:l},O.queue=x,x=x.dispatch=Nm.bind(null,kx,x),[O.memoizedState,x]},useRef:function(x){var g=E0();return x={current:x},g.memoizedState=x},useState:function(x){x=lw(x);var g=x.queue,_=C1.bind(null,kx,g);return g.dispatch=_,[x.memoizedState,_]},useDebugValue:pz,useDeferredValue:function(x,g){var _=E0();return Wz(_,x,g)},useTransition:function(){var x=lw(!1);return x=v1.bind(null,kx,x.queue,!0,!1),E0().memoizedState=x,[!1,x]},useSyncExternalStore:function(x,g,_){var O=kx,l=E0();if(Kx){if(_===void 0)throw Error(T(407));_=_()}else{if(_=g(),Qx===null)throw Error(T(349));(mx&60)!==0||B2(O,g,_)}l.memoizedState=_;var G={value:_,getSnapshot:g};return l.queue=G,zN(P2.bind(null,O,G,x),[x]),O.flags|=2048,A8(9,H2.bind(null,O,G,_,g),{destroy:void 0},null),_},useId:function(){var x=E0(),g=Qx.identifierPrefix;if(Kx){var _=X_,O=L_;_=(O&~(1<<32-gg(O)-1)).toString(32)+_,g=":"+g+"R"+_,_=ZG++,0<_&&(g+="H"+_.toString(32)),g+=":"}else _=Wm++,g=":"+g+"r"+_.toString(32)+":";return x.memoizedState=g},useCacheRefresh:function(){return E0().memoizedState=ym.bind(null,kx)}};M6.useMemoCache=Oz;M6.useHostTransitionStatus=oz;M6.useFormState=e2;M6.useActionState=e2;M6.useOptimistic=function(x){var g=E0();g.memoizedState=g.baseState=x;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=_,g=wz.bind(null,kx,!0,_),_.dispatch=g,[x,g]};var XO={readContext:F0,use:Op,useCallback:o1,useContext:F0,useEffect:Gz,useImperativeHandle:W1,useInsertionEffect:l1,useLayoutEffect:G1,useMemo:w1,useReducer:dG,useRef:O1,useState:function(){return dG(I_)},useDebugValue:pz,useDeferredValue:function(x,g){var _=y0();return z1(_,Zx.memoizedState,x,g)},useTransition:function(){var x=dG(I_)[0],g=y0().memoizedState;return[typeof x==="boolean"?x:$7(x),g]},useSyncExternalStore:$2,useId:k1};XO.useCacheRefresh=d1;XO.useMemoCache=Oz;XO.useHostTransitionStatus=oz;XO.useFormState=x1;XO.useActionState=x1;XO.useOptimistic=function(x,g){var _=y0();return R2(_,Zx,x,g)};var Y6={readContext:F0,use:Op,useCallback:o1,useContext:F0,useEffect:Gz,useImperativeHandle:W1,useInsertionEffect:l1,useLayoutEffect:G1,useMemo:w1,useReducer:fo,useRef:O1,useState:function(){return fo(I_)},useDebugValue:pz,useDeferredValue:function(x,g){var _=y0();return Zx===null?Wz(_,x,g):z1(_,Zx.memoizedState,x,g)},useTransition:function(){var x=fo(I_)[0],g=y0().memoizedState;return[typeof x==="boolean"?x:$7(x),g]},useSyncExternalStore:$2,useId:k1};Y6.useCacheRefresh=d1;Y6.useMemoCache=Oz;Y6.useHostTransitionStatus=oz;Y6.useFormState=_1;Y6.useActionState=_1;Y6.useOptimistic=function(x,g){var _=y0();if(Zx!==null)return R2(_,Zx,x,g);return _.baseState=x,[x,_.queue.dispatch]};function co(x,g,_,O){g=x.memoizedState,_=_(O,g),_=_===null||_===void 0?g:Bx({},g,_),x.memoizedState=_,x.lanes===0&&(x.updateQueue.baseState=_)}var Ww={isMounted:function(x){return(x=x._reactInternals)?Z8(x)===x:!1},enqueueSetState:function(x,g,_){x=x._reactInternals;var O=_g(),l=CO(O);l.payload=g,_!==void 0&&_!==null&&(l.callback=_),g=qO(x,l,O),g!==null&&(Z0(g,x,O),d7(g,x,O))},enqueueReplaceState:function(x,g,_){x=x._reactInternals;var O=_g(),l=CO(O);l.tag=1,l.payload=g,_!==void 0&&_!==null&&(l.callback=_),g=qO(x,l,O),g!==null&&(Z0(g,x,O),d7(g,x,O))},enqueueForceUpdate:function(x,g){x=x._reactInternals;var _=_g(),O=CO(_);O.tag=2,g!==void 0&&g!==null&&(O.callback=g),g=qO(x,O,_),g!==null&&(Z0(g,x,_),d7(g,x,_))}};function vN(x,g,_,O,l,G,p){return x=x.stateNode,typeof x.shouldComponentUpdate==="function"?x.shouldComponentUpdate(O,G,p):g.prototype&&g.prototype.isPureReactComponent?!V7(_,O)||!V7(l,G):!0}function yN(x,g,_,O){x=g.state,typeof g.componentWillReceiveProps==="function"&&g.componentWillReceiveProps(_,O),typeof g.UNSAFE_componentWillReceiveProps==="function"&&g.UNSAFE_componentWillReceiveProps(_,O),g.state!==x&&Ww.enqueueReplaceState(g,g.state,null)}function N6(x,g){var _=g;if("ref"in g){_={};for(var O in g)O!=="ref"&&(_[O]=g[O])}if(x=x.defaultProps){_===g&&(_=Bx({},_));for(var l in x)_[l]===void 0&&(_[l]=x[l])}return _}var jG=typeof reportError==="function"?reportError:function(x){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x==="object"&&x!==null&&typeof x.message==="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(g))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",x);return}console.error(x)};function Y1(x){jG(x)}function f1(x){console.error(x)}function c1(x){jG(x)}function rG(x,g){try{var _=x.onUncaughtError;_(g.value,{componentStack:g.stack})}catch(O){setTimeout(function(){throw O})}}function NN(x,g,_){try{var O=x.onCaughtError;O(_.value,{componentStack:_.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function ow(x,g,_){return _=CO(_),_.tag=3,_.payload={element:null},_.callback=function(){rG(x,g)},_}function m1(x){return x=CO(x),x.tag=3,x}function b1(x,g,_,O){var l=_.type.getDerivedStateFromError;if(typeof l==="function"){var G=O.value;x.payload=function(){return l(G)},x.callback=function(){NN(g,_,O)}}var p=_.stateNode;p!==null&&typeof p.componentDidCatch==="function"&&(x.callback=function(){NN(g,_,O),typeof l!=="function"&&(YO===null?YO=new Set([this]):YO.add(this));var W=O.stack;this.componentDidCatch(O.value,{componentStack:W!==null?W:""})})}function km(x,g,_,O,l){if(_.flags|=32768,O!==null&&typeof O==="object"&&typeof O.then==="function"){if(g=_.alternate,g!==null&&B7(g,_,l,!0),_=fg.current,_!==null){switch(_.tag){case 13:return g_===null?bw():_.alternate===null&&g0===0&&(g0=3),_.flags&=-257,_.flags|=65536,_.lanes=l,O===gw?_.flags|=16384:(g=_.updateQueue,g===null?_.updateQueue=new Set([O]):g.add(O),Zo(x,O,l)),!1;case 22:return _.flags|=65536,O===gw?_.flags|=16384:(g=_.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([O])},_.updateQueue=g):(_=g.retryQueue,_===null?g.retryQueue=new Set([O]):_.add(O)),Zo(x,O,l)),!1}throw Error(T(435,_.tag))}return Zo(x,O,l),bw(),!1}if(Kx)return g=fg.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=l,O!==xw&&(x=Error(T(422),{cause:O}),L7(qg(x,_)))):(O!==xw&&(g=Error(T(423),{cause:O}),L7(qg(g,_))),x=x.current.alternate,x.flags|=65536,l&=-l,x.lanes|=l,O=qg(O,_),l=ow(x.stateNode,O,l),Lo(x,l),g0!==4&&(g0=2)),!1;var G=Error(T(520),{cause:O});if(G=qg(G,_),Y7===null?Y7=[G]:Y7.push(G),g0!==4&&(g0=2),g===null)return!0;O=qg(O,_),_=g;do{switch(_.tag){case 3:return _.flags|=65536,x=l&-l,_.lanes|=x,x=ow(_.stateNode,O,x),Lo(_,x),!1;case 1:if(g=_.type,G=_.stateNode,(_.flags&128)===0&&(typeof g.getDerivedStateFromError==="function"||G!==null&&typeof G.componentDidCatch==="function"&&(YO===null||!YO.has(G))))return _.flags|=65536,l&=-l,_.lanes|=l,l=m1(l),b1(l,x,_,O),Lo(_,l),!1}_=_.return}while(_!==null);return!1}var h1=Error(T(461)),c0=!1;function b0(x,g,_,O){g.child=x===null?D2(g,null,_,O):v6(g,x.child,_,O)}function kN(x,g,_,O,l){_=_.render;var G=g.ref;if("ref"in O){var p={};for(var W in O)W!=="ref"&&(p[W]=O[W])}else p=O;if(k6(g),O=ew(x,g,_,p,G,l),W=xz(),x!==null&&!c0)return gz(x,g,l),Z_(x,g,l);return Kx&&W&&Jw(g),g.flags|=1,b0(x,g,O,l),g.child}function dN(x,g,_,O,l){if(x===null){var G=_.type;if(typeof G==="function"&&!kz(G)&&G.defaultProps===void 0&&_.compare===null)return g.tag=15,g.type=G,K1(x,g,G,O,l);return x=MG(_.type,null,O,g,g.mode,l),x.ref=g.ref,x.return=g,g.child=x}if(G=x.child,!zz(x,l)){var p=G.memoizedProps;if(_=_.compare,_=_!==null?_:V7,_(p,O)&&x.ref===g.ref)return Z_(x,g,l)}return g.flags|=1,x=MO(G,O),x.ref=g.ref,x.return=g,g.child=x}function K1(x,g,_,O,l){if(x!==null){var G=x.memoizedProps;if(V7(G,O)&&x.ref===g.ref)if(c0=!1,g.pendingProps=O=G,zz(x,l))(x.flags&131072)!==0&&(c0=!0);else return g.lanes=x.lanes,Z_(x,g,l)}return ww(x,g,_,O,l)}function V1(x,g,_){var O=g.pendingProps,l=O.children,G=(g.stateNode._pendingVisibility&2)!==0,p=x!==null?x.memoizedState:null;if(k7(x,g),O.mode==="hidden"||G){if((g.flags&128)!==0){if(O=p!==null?p.baseLanes|_:_,x!==null){l=g.child=x.child;for(G=0;l!==null;)G=G|l.lanes|l.childLanes,l=l.sibling;g.childLanes=G&~O}else g.childLanes=0,g.child=null;return CN(x,g,O,_)}if((_&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},x!==null&&kG(g,p!==null?p.cachePool:null),p!==null?GN(g,p):_w(),Q2(g);else return g.lanes=g.childLanes=536870912,CN(x,g,p!==null?p.baseLanes|_:_,_)}else p!==null?(kG(g,p.cachePool),GN(g,p),zO(g),g.memoizedState=null):(x!==null&&kG(g,null),_w(),zO(g));return b0(x,g,l,_),g.child}function CN(x,g,_,O){var l=sw();return l=l===null?null:{parent:k0._currentValue,pool:l},g.memoizedState={baseLanes:_,cachePool:l},x!==null&&kG(g,null),_w(),Q2(g),x!==null&&B7(x,g,O,!0),null}function k7(x,g){var _=g.ref;if(_===null)x!==null&&x.ref!==null&&(g.flags|=2097664);else{if(typeof _!=="function"&&typeof _!=="object")throw Error(T(284));if(x===null||x.ref!==_)g.flags|=2097664}}function ww(x,g,_,O,l){if(k6(g),_=ew(x,g,_,O,void 0,l),O=xz(),x!==null&&!c0)return gz(x,g,l),Z_(x,g,l);return Kx&&O&&Jw(g),g.flags|=1,b0(x,g,_,l),g.child}function qN(x,g,_,O,l,G){if(k6(g),g.updateQueue=null,_=n2(g,O,_,l),E2(x),O=xz(),x!==null&&!c0)return gz(x,g,G),Z_(x,g,G);return Kx&&O&&Jw(g),g.flags|=1,b0(x,g,_,G),g.child}function MN(x,g,_,O,l){if(k6(g),g.stateNode===null){var G=N8,p=_.contextType;typeof p==="object"&&p!==null&&(G=F0(p)),G=new _(O,G),g.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=Ww,g.stateNode=G,G._reactInternals=g,G=g.stateNode,G.props=O,G.state=g.memoizedState,G.refs={},vz(g),p=_.contextType,G.context=typeof p==="object"&&p!==null?F0(p):N8,G.state=g.memoizedState,p=_.getDerivedStateFromProps,typeof p==="function"&&(co(g,_,p,O),G.state=g.memoizedState),typeof _.getDerivedStateFromProps==="function"||typeof G.getSnapshotBeforeUpdate==="function"||typeof G.UNSAFE_componentWillMount!=="function"&&typeof G.componentWillMount!=="function"||(p=G.state,typeof G.componentWillMount==="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount==="function"&&G.UNSAFE_componentWillMount(),p!==G.state&&Ww.enqueueReplaceState(G,G.state,null),q7(g,O,G,l),C7(),G.state=g.memoizedState),typeof G.componentDidMount==="function"&&(g.flags|=4194308),O=!0}else if(x===null){G=g.stateNode;var W=g.memoizedProps,w=N6(_,W);G.props=w;var o=G.context,v=_.contextType;p=N8,typeof v==="object"&&v!==null&&(p=F0(v));var N=_.getDerivedStateFromProps;v=typeof N==="function"||typeof G.getSnapshotBeforeUpdate==="function",W=g.pendingProps!==W,v||typeof G.UNSAFE_componentWillReceiveProps!=="function"&&typeof G.componentWillReceiveProps!=="function"||(W||o!==p)&&yN(g,G,O,p),oO=!1;var k=g.memoizedState;G.state=k,q7(g,O,G,l),C7(),o=g.memoizedState,W||k!==o||oO?(typeof N==="function"&&(co(g,_,N,O),o=g.memoizedState),(w=oO||vN(g,_,w,O,k,o,p))?(v||typeof G.UNSAFE_componentWillMount!=="function"&&typeof G.componentWillMount!=="function"||(typeof G.componentWillMount==="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount==="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount==="function"&&(g.flags|=4194308)):(typeof G.componentDidMount==="function"&&(g.flags|=4194308),g.memoizedProps=O,g.memoizedState=o),G.props=O,G.state=o,G.context=p,O=w):(typeof G.componentDidMount==="function"&&(g.flags|=4194308),O=!1)}else{G=g.stateNode,dw(x,g),p=g.memoizedProps,v=N6(_,p),G.props=v,N=g.pendingProps,k=G.context,o=_.contextType,w=N8,typeof o==="object"&&o!==null&&(w=F0(o)),W=_.getDerivedStateFromProps,(o=typeof W==="function"||typeof G.getSnapshotBeforeUpdate==="function")||typeof G.UNSAFE_componentWillReceiveProps!=="function"&&typeof G.componentWillReceiveProps!=="function"||(p!==N||k!==w)&&yN(g,G,O,w),oO=!1,k=g.memoizedState,G.state=k,q7(g,O,G,l),C7();var C=g.memoizedState;p!==N||k!==C||oO||x!==null&&x.dependencies!==null&&UG(x.dependencies)?(typeof W==="function"&&(co(g,_,W,O),C=g.memoizedState),(v=oO||vN(g,_,v,O,k,C,w)||x!==null&&x.dependencies!==null&&UG(x.dependencies))?(o||typeof G.UNSAFE_componentWillUpdate!=="function"&&typeof G.componentWillUpdate!=="function"||(typeof G.componentWillUpdate==="function"&&G.componentWillUpdate(O,C,w),typeof G.UNSAFE_componentWillUpdate==="function"&&G.UNSAFE_componentWillUpdate(O,C,w)),typeof G.componentDidUpdate==="function"&&(g.flags|=4),typeof G.getSnapshotBeforeUpdate==="function"&&(g.flags|=1024)):(typeof G.componentDidUpdate!=="function"||p===x.memoizedProps&&k===x.memoizedState||(g.flags|=4),typeof G.getSnapshotBeforeUpdate!=="function"||p===x.memoizedProps&&k===x.memoizedState||(g.flags|=1024),g.memoizedProps=O,g.memoizedState=C),G.props=O,G.state=C,G.context=w,O=v):(typeof G.componentDidUpdate!=="function"||p===x.memoizedProps&&k===x.memoizedState||(g.flags|=4),typeof G.getSnapshotBeforeUpdate!=="function"||p===x.memoizedProps&&k===x.memoizedState||(g.flags|=1024),O=!1)}return G=O,k7(x,g),O=(g.flags&128)!==0,G||O?(G=g.stateNode,_=O&&typeof _.getDerivedStateFromError!=="function"?null:G.render(),g.flags|=1,x!==null&&O?(g.child=v6(g,x.child,null,l),g.child=v6(g,null,_,l)):b0(x,g,_,l),g.memoizedState=G.state,x=g.child):x=Z_(x,g,l),x}function YN(x,g,_,O){return E7(),g.flags|=256,b0(x,g,_,O),g.child}var mo={dehydrated:null,treeContext:null,retryLane:0};function bo(x){return{baseLanes:x,cachePool:a2()}}function ho(x,g,_){return x=x!==null?x.childLanes&~_:0,g&&(x|=Yg),x}function L1(x,g,_){var O=g.pendingProps,l=!1,G=(g.flags&128)!==0,p;if((p=G)||(p=x!==null&&x.memoizedState===null?!1:(d0.current&2)!==0),p&&(l=!0,g.flags&=-129),p=(g.flags&32)!==0,g.flags&=-33,x===null){if(Kx){if(l?wO(g):zO(g),Kx){var W=h0,w;if(w=W){x:{w=W;for(W=sg;w.nodeType!==8;){if(!W){W=null;break x}if(w=Ig(w.nextSibling),w===null){W=null;break x}}W=w}W!==null?(g.memoizedState={dehydrated:W,treeContext:G6!==null?{id:L_,overflow:X_}:null,retryLane:536870912},w=Mg(18,null,null,0),w.stateNode=W,w.return=g,g.child=w,I0=g,h0=null,w=!0):w=!1}w||z6(g)}if(W=g.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return W.data==="$!"?g.lanes=16:g.lanes=536870912,null;F_(g)}if(W=O.children,O=O.fallback,l)return zO(g),l=g.mode,W=vw({mode:"hidden",children:W},l),O=W6(O,l,_,null),W.return=g,O.return=g,W.sibling=O,g.child=W,l=g.child,l.memoizedState=bo(_),l.childLanes=ho(x,p,_),g.memoizedState=mo,O;return wO(g),zw(g,W)}if(w=x.memoizedState,w!==null&&(W=w.dehydrated,W!==null)){if(G)g.flags&256?(wO(g),g.flags&=-257,g=Ko(x,g,_)):g.memoizedState!==null?(zO(g),g.child=x.child,g.flags|=128,g=null):(zO(g),l=O.fallback,W=g.mode,O=vw({mode:"visible",children:O.children},W),l=W6(l,W,_,null),l.flags|=2,O.return=g,l.return=g,O.sibling=l,g.child=O,v6(g,x.child,null,_),O=g.child,O.memoizedState=bo(_),O.childLanes=ho(x,p,_),g.memoizedState=mo,g=l);else if(wO(g),W.data==="$!"){if(p=W.nextSibling&&W.nextSibling.dataset,p)var o=p.dgst;p=o,O=Error(T(419)),O.stack="",O.digest=p,L7({value:O,source:null,stack:null}),g=Ko(x,g,_)}else if(c0||B7(x,g,_,!1),p=(_&x.childLanes)!==0,c0||p){if(p=Qx,p!==null){if(O=_&-_,(O&42)!==0)O=1;else switch(O){case 2:O=1;break;case 8:O=4;break;case 32:O=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:O=64;break;case 268435456:O=134217728;break;default:O=0}if(O=(O&(p.suspendedLanes|_))!==0?0:O,O!==0&&O!==w.retryLane)throw w.retryLane=O,bO(x,O),Z0(p,x,O),h1}W.data==="$?"||bw(),g=Ko(x,g,_)}else W.data==="$?"?(g.flags|=128,g.child=x.child,g=Fm.bind(null,x),W._reactRetry=g,g=null):(x=w.treeContext,h0=Ig(W.nextSibling),I0=g,Kx=!0,Sg=null,sg=!1,x!==null&&(kg[dg++]=L_,kg[dg++]=X_,kg[dg++]=G6,L_=x.id,X_=x.overflow,G6=g),g=zw(g,O.children),g.flags|=4096);return g}if(l)return zO(g),l=O.fallback,W=g.mode,w=x.child,o=w.sibling,O=MO(w,{mode:"hidden",children:O.children}),O.subtreeFlags=w.subtreeFlags&31457280,o!==null?l=MO(o,l):(l=W6(l,W,_,null),l.flags|=2),l.return=g,O.return=g,O.sibling=l,g.child=O,O=l,l=g.child,W=x.child.memoizedState,W===null?W=bo(_):(w=W.cachePool,w!==null?(o=k0._currentValue,w=w.parent!==o?{parent:o,pool:o}:w):w=a2(),W={baseLanes:W.baseLanes|_,cachePool:w}),l.memoizedState=W,l.childLanes=ho(x,p,_),g.memoizedState=mo,O;return wO(g),_=x.child,x=_.sibling,_=MO(_,{mode:"visible",children:O.children}),_.return=g,_.sibling=null,x!==null&&(p=g.deletions,p===null?(g.deletions=[x],g.flags|=16):p.push(x)),g.child=_,g.memoizedState=null,_}function zw(x,g){return g=vw({mode:"visible",children:g},x.mode),g.return=x,x.child=g}function vw(x,g){return R1(x,g,0,null)}function Ko(x,g,_){return v6(g,x.child,null,_),x=zw(g,g.pendingProps.children),x.flags|=2,g.memoizedState=null,x}function fN(x,g,_){x.lanes|=g;var O=x.alternate;O!==null&&(O.lanes|=g),Nw(x.return,g,_)}function Vo(x,g,_,O,l){var G=x.memoizedState;G===null?x.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:O,tail:_,tailMode:l}:(G.isBackwards=g,G.rendering=null,G.renderingStartTime=0,G.last=O,G.tail=_,G.tailMode=l)}function X1(x,g,_){var O=g.pendingProps,l=O.revealOrder,G=O.tail;if(b0(x,g,O.children,_),O=d0.current,(O&2)!==0)O=O&1|2,g.flags|=128;else{if(x!==null&&(x.flags&128)!==0)x:for(x=g.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&fN(x,_,g);else if(x.tag===19)fN(x,_,g);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===g)break x;for(;x.sibling===null;){if(x.return===null||x.return===g)break x;x=x.return}x.sibling.return=x.return,x=x.sibling}O&=1}switch(Hx(d0,O),l){case"forwards":_=g.child;for(l=null;_!==null;)x=_.alternate,x!==null&&SG(x)===null&&(l=_),_=_.sibling;_=l,_===null?(l=g.child,g.child=null):(l=_.sibling,_.sibling=null),Vo(g,!1,l,_,G);break;case"backwards":_=null,l=g.child;for(g.child=null;l!==null;){if(x=l.alternate,x!==null&&SG(x)===null){g.child=l;break}x=l.sibling,l.sibling=_,_=l,l=x}Vo(g,!0,_,null,G);break;case"together":Vo(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Z_(x,g,_){if(x!==null&&(g.dependencies=x.dependencies),VO|=g.lanes,(_&g.childLanes)===0)if(x!==null){if(B7(x,g,_,!1),(_&g.childLanes)===0)return null}else return null;if(x!==null&&g.child!==x.child)throw Error(T(153));if(g.child!==null){x=g.child,_=MO(x,x.pendingProps),g.child=_;for(_.return=g;x.sibling!==null;)x=x.sibling,_=_.sibling=MO(x,x.pendingProps),_.return=g;_.sibling=null}return g.child}function zz(x,g){if((x.lanes&g)!==0)return!0;return x=x.dependencies,x!==null&&UG(x)?!0:!1}function dm(x,g,_){switch(g.tag){case 3:bG(g,g.stateNode.containerInfo),vO(g,k0,x.memoizedState.cache),E7();break;case 27:case 5:Ho(g);break;case 4:bG(g,g.stateNode.containerInfo);break;case 10:vO(g,g.type,g.memoizedProps.value);break;case 13:var O=g.memoizedState;if(O!==null){if(O.dehydrated!==null)return wO(g),g.flags|=128,null;if((_&g.child.childLanes)!==0)return L1(x,g,_);return wO(g),x=Z_(x,g,_),x!==null?x.sibling:null}wO(g);break;case 19:var l=(x.flags&128)!==0;if(O=(_&g.childLanes)!==0,O||(B7(x,g,_,!1),O=(_&g.childLanes)!==0),l){if(O)return X1(x,g,_);g.flags|=128}if(l=g.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Hx(d0,d0.current),O)break;else return null;case 22:case 23:return g.lanes=0,V1(x,g,_);case 24:vO(g,k0,x.memoizedState.cache)}return Z_(x,g,_)}function F1(x,g,_){if(x!==null)if(x.memoizedProps!==g.pendingProps)c0=!0;else{if(!zz(x,_)&&(g.flags&128)===0)return c0=!1,dm(x,g,_);c0=(x.flags&131072)!==0?!0:!1}else c0=!1,Kx&&(g.flags&1048576)!==0&&Z2(g,AG,g.index);switch(g.lanes=0,g.tag){case 16:x:{x=g.pendingProps;var O=g.elementType,l=O._init;if(O=l(O._payload),g.type=O,typeof O==="function")kz(O)?(x=N6(O,x),g.tag=1,g=MN(null,g,O,x,_)):(g.tag=0,g=ww(null,g,O,x,_));else{if(O!==void 0&&O!==null){if(l=O.$$typeof,l===jw){g.tag=11,g=kN(null,g,O,x,_);break x}else if(l===rw){g.tag=14,g=dN(null,g,O,x,_);break x}}throw g=$o(O)||O,Error(T(306,g,""))}}return g;case 0:return ww(x,g,g.type,g.pendingProps,_);case 1:return O=g.type,l=N6(O,g.pendingProps),MN(x,g,O,l,_);case 3:x:{if(bG(g,g.stateNode.containerInfo),x===null)throw Error(T(387));var G=g.pendingProps;l=g.memoizedState,O=l.element,dw(x,g),q7(g,G,null,_);var p=g.memoizedState;if(G=p.cache,vO(g,k0,G),G!==l.cache&&kw(g,[k0],_,!0),C7(),G=p.element,l.isDehydrated)if(l={element:G,isDehydrated:!1,cache:p.cache},g.updateQueue.baseState=l,g.memoizedState=l,g.flags&256){g=YN(x,g,G,_);break x}else if(G!==O){O=qg(Error(T(424)),g),L7(O),g=YN(x,g,G,_);break x}else for(h0=Ig(g.stateNode.containerInfo.firstChild),I0=g,Kx=!0,Sg=null,sg=!0,_=D2(g,null,G,_),g.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(E7(),G===O){g=Z_(x,g,_);break x}b0(x,g,G,_)}g=g.child}return g;case 26:return k7(x,g),x===null?(_=DN(g.type,null,g.pendingProps,null))?g.memoizedState=_:Kx||(_=g.type,x=g.pendingProps,O=BG(dO.current).createElement(_),O[X0]=g,O[n0]=x,K0(O,_,x),f0(O),g.stateNode=O):g.memoizedState=DN(g.type,x.memoizedProps,g.pendingProps,x.memoizedState),null;case 27:return Ho(g),x===null&&Kx&&(O=g.stateNode=Nk(g.type,g.pendingProps,dO.current),I0=g,sg=!0,h0=Ig(O.firstChild)),O=g.pendingProps.children,x!==null||Kx?b0(x,g,O,_):g.child=v6(g,null,O,_),k7(x,g),g.child;case 5:if(x===null&&Kx){if(l=O=h0)O=$m(O,g.type,g.pendingProps,sg),O!==null?(g.stateNode=O,I0=g,h0=Ig(O.firstChild),sg=!1,l=!0):l=!1;l||z6(g)}return Ho(g),l=g.type,G=g.pendingProps,p=x!==null?x.memoizedProps:null,O=G.children,Aw(l,G)?O=null:p!==null&&Aw(l,p)&&(g.flags|=32),g.memoizedState!==null&&(l=ew(x,g,om,null,null,_),I7._currentValue=l),k7(x,g),b0(x,g,O,_),g.child;case 6:if(x===null&&Kx){if(x=_=h0)_=Bm(_,g.pendingProps,sg),_!==null?(g.stateNode=_,I0=g,h0=null,x=!0):x=!1;x||z6(g)}return null;case 13:return L1(x,g,_);case 4:return bG(g,g.stateNode.containerInfo),O=g.pendingProps,x===null?g.child=v6(g,null,O,_):b0(x,g,O,_),g.child;case 11:return kN(x,g,g.type,g.pendingProps,_);case 7:return b0(x,g,g.pendingProps,_),g.child;case 8:return b0(x,g,g.pendingProps.children,_),g.child;case 12:return b0(x,g,g.pendingProps.children,_),g.child;case 10:return O=g.pendingProps,vO(g,g.type,O.value),b0(x,g,O.children,_),g.child;case 9:return l=g.type._context,O=g.pendingProps.children,k6(g),l=F0(l),O=O(l),g.flags|=1,b0(x,g,O,_),g.child;case 14:return dN(x,g,g.type,g.pendingProps,_);case 15:return K1(x,g,g.type,g.pendingProps,_);case 19:return X1(x,g,_);case 22:return V1(x,g,_);case 24:return k6(g),O=F0(k0),x===null?(l=sw(),l===null&&(l=Qx,G=Tw(),l.pooledCache=G,G.refCount++,G!==null&&(l.pooledCacheLanes|=_),l=G),g.memoizedState={parent:O,cache:l},vz(g),vO(g,k0,l)):((x.lanes&_)!==0&&(dw(x,g),q7(g,null,null,_),C7()),l=x.memoizedState,G=g.memoizedState,l.parent!==O?(l={parent:O,cache:O},g.memoizedState=l,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=l),vO(g,k0,O)):(O=G.cache,vO(g,k0,O),O!==l.cache&&kw(g,[k0],_,!0))),b0(x,g,g.pendingProps.children,_),g.child;case 29:throw g.pendingProps}throw Error(T(156,g.tag))}var yw=O_(null),f6=null,A_=null;function vO(x,g,_){Hx(yw,g._currentValue),g._currentValue=_}function u_(x){x._currentValue=yw.current,m0(yw)}function Nw(x,g,_){for(;x!==null;){var O=x.alternate;if((x.childLanes&g)!==g?(x.childLanes|=g,O!==null&&(O.childLanes|=g)):O!==null&&(O.childLanes&g)!==g&&(O.childLanes|=g),x===_)break;x=x.return}}function kw(x,g,_,O){var l=x.child;l!==null&&(l.return=x);for(;l!==null;){var G=l.dependencies;if(G!==null){var p=l.child;G=G.firstContext;x:for(;G!==null;){var W=G;G=l;for(var w=0;w<g.length;w++)if(W.context===g[w]){G.lanes|=_,W=G.alternate,W!==null&&(W.lanes|=_),Nw(G.return,_,x),O||(p=null);break x}G=W.next}}else if(l.tag===18){if(p=l.return,p===null)throw Error(T(341));p.lanes|=_,G=p.alternate,G!==null&&(G.lanes|=_),Nw(p,_,x),p=null}else p=l.child;if(p!==null)p.return=l;else for(p=l;p!==null;){if(p===x){p=null;break}if(l=p.sibling,l!==null){l.return=p.return,p=l;break}p=p.return}l=p}}function B7(x,g,_,O){x=null;for(var l=g,G=!1;l!==null;){if(!G){if((l.flags&524288)!==0)G=!0;else if((l.flags&262144)!==0)break}if(l.tag===10){var p=l.alternate;if(p===null)throw Error(T(387));if(p=p.memoizedProps,p!==null){var W=l.type;Og(l.pendingProps.value,p.value)||(x!==null?x.push(W):x=[W])}}else if(l===mG.current){if(p=l.alternate,p===null)throw Error(T(387));p.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(x!==null?x.push(I7):x=[I7])}l=l.return}x!==null&&kw(g,x,_,O),g.flags|=262144}function UG(x){for(x=x.firstContext;x!==null;){if(!Og(x.context._currentValue,x.memoizedValue))return!0;x=x.next}return!1}function k6(x){f6=x,A_=null,x=x.dependencies,x!==null&&(x.firstContext=null)}function F0(x){return A1(f6,x)}function OG(x,g){return f6===null&&k6(x),A1(x,g)}function A1(x,g){var _=g._currentValue;if(g={context:g,memoizedValue:_,next:null},A_===null){if(x===null)throw Error(T(308));A_=g,x.dependencies={lanes:0,firstContext:g},x.flags|=524288}else A_=A_.next=g;return _}var oO=!1;function vz(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dw(x,g){x=x.updateQueue,g.updateQueue===x&&(g.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,callbacks:null})}function CO(x){return{lane:x,tag:0,payload:null,callback:null,next:null}}function qO(x,g,_){var O=x.updateQueue;if(O===null)return null;if(O=O.shared,(sx&2)!==0){var l=O.pending;return l===null?g.next=g:(g.next=l.next,l.next=g),O.pending=g,g=XG(x),I2(x,null,_),g}return gp(x,O,g,_),XG(x)}function d7(x,g,_){if(g=g.updateQueue,g!==null&&(g=g.shared,(_&4194176)!==0)){var O=g.lanes;O&=x.pendingLanes,_|=O,g.lanes=_,p2(x,_)}}function Lo(x,g){var{updateQueue:_,alternate:O}=x;if(O!==null&&(O=O.updateQueue,_===O)){var l=null,G=null;if(_=_.firstBaseUpdate,_!==null){do{var p={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};G===null?l=G=p:G=G.next=p,_=_.next}while(_!==null);G===null?l=G=g:G=G.next=g}else l=G=g;_={baseState:O.baseState,firstBaseUpdate:l,lastBaseUpdate:G,shared:O.shared,callbacks:O.callbacks},x.updateQueue=_;return}x=_.lastBaseUpdate,x===null?_.firstBaseUpdate=g:x.next=g,_.lastBaseUpdate=g}var Cw=!1;function C7(){if(Cw){var x=c8;if(x!==null)throw x}}function q7(x,g,_,O){Cw=!1;var l=x.updateQueue;oO=!1;var{firstBaseUpdate:G,lastBaseUpdate:p}=l,W=l.shared.pending;if(W!==null){l.shared.pending=null;var w=W,o=w.next;w.next=null,p===null?G=o:p.next=o,p=w;var v=x.alternate;v!==null&&(v=v.updateQueue,W=v.lastBaseUpdate,W!==p&&(W===null?v.firstBaseUpdate=o:W.next=o,v.lastBaseUpdate=w))}if(G!==null){var N=l.baseState;p=0,v=o=w=null,W=G;do{var k=W.lane&-536870913,C=k!==W.lane;if(C?(mx&k)===k:(O&k)===k){k!==0&&k===F8&&(Cw=!0),v!==null&&(v=v.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});x:{var c=x,m=W;k=g;var b=_;switch(m.tag){case 1:if(c=m.payload,typeof c==="function"){N=c.call(b,N,k);break x}N=c;break x;case 3:c.flags=c.flags&-65537|128;case 0:if(c=m.payload,k=typeof c==="function"?c.call(b,N,k):c,k===null||k===void 0)break x;N=Bx({},N,k);break x;case 2:oO=!0}}k=W.callback,k!==null&&(x.flags|=64,C&&(x.flags|=8192),C=l.callbacks,C===null?l.callbacks=[k]:C.push(k))}else C={lane:k,tag:W.tag,payload:W.payload,callback:W.callback,next:null},v===null?(o=v=C,w=N):v=v.next=C,p|=k;if(W=W.next,W===null)if(W=l.shared.pending,W===null)break;else C=W,W=C.next,C.next=null,l.lastBaseUpdate=C,l.shared.pending=null}while(1);v===null&&(w=N),l.baseState=w,l.firstBaseUpdate=o,l.lastBaseUpdate=v,G===null&&(l.shared.lanes=0),VO|=p,x.lanes=p,x.memoizedState=N}}function u1(x,g){if(typeof x!=="function")throw Error(T(191,x));x.call(g)}function S1(x,g){var _=x.callbacks;if(_!==null)for(x.callbacks=null,x=0;x<_.length;x++)u1(_[x],g)}function H7(x,g){try{var _=g.updateQueue,O=_!==null?_.lastEffect:null;if(O!==null){var l=O.next;_=l;do{if((_.tag&x)===x){O=void 0;var{create:G,inst:p}=_;O=G(),p.destroy=O}_=_.next}while(_!==l)}}catch(W){jx(g,g.return,W)}}function KO(x,g,_){try{var O=g.updateQueue,l=O!==null?O.lastEffect:null;if(l!==null){var G=l.next;O=G;do{if((O.tag&x)===x){var p=O.inst,W=p.destroy;if(W!==void 0){p.destroy=void 0,l=g;var w=_;try{W()}catch(o){jx(l,w,o)}}}O=O.next}while(O!==G)}}catch(o){jx(g,g.return,o)}}function I1(x){var g=x.updateQueue;if(g!==null){var _=x.stateNode;try{S1(g,_)}catch(O){jx(x,x.return,O)}}}function Z1(x,g,_){_.props=N6(x.type,x.memoizedProps),_.state=x.memoizedState;try{_.componentWillUnmount()}catch(O){jx(x,g,O)}}function O6(x,g){try{var _=x.ref;if(_!==null){var O=x.stateNode;switch(x.tag){case 26:case 27:case 5:var l=O;break;default:l=O}typeof _==="function"?x.refCleanup=_(l):_.current=l}}catch(G){jx(x,g,G)}}function e0(x,g){var{ref:_,refCleanup:O}=x;if(_!==null)if(typeof O==="function")try{O()}catch(l){jx(x,g,l)}finally{x.refCleanup=null,x=x.alternate,x!=null&&(x.refCleanup=null)}else if(typeof _==="function")try{_(null)}catch(l){jx(x,g,l)}else _.current=null}function j1(x){var{type:g,memoizedProps:_,stateNode:O}=x;try{x:switch(g){case"button":case"input":case"select":case"textarea":_.autoFocus&&O.focus();break x;case"img":_.src?O.src=_.src:_.srcSet&&(O.srcset=_.srcSet)}}catch(l){jx(x,x.return,l)}}function cN(x,g,_){try{var O=x.stateNode;Dm(O,x.type,_,g),O[n0]=g}catch(l){jx(x,x.return,l)}}function r1(x){return x.tag===5||x.tag===3||x.tag===26||x.tag===27||x.tag===4}function Xo(x){x:for(;;){for(;x.sibling===null;){if(x.return===null||r1(x.return))return null;x=x.return}x.sibling.return=x.return;for(x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==27&&x.tag!==18;){if(x.flags&2)continue x;if(x.child===null||x.tag===4)continue x;else x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function qw(x,g,_){var O=x.tag;if(O===5||O===6)x=x.stateNode,g?_.nodeType===8?_.parentNode.insertBefore(x,g):_.insertBefore(x,g):(_.nodeType===8?(g=_.parentNode,g.insertBefore(x,_)):(g=_,g.appendChild(x)),_=_._reactRootContainer,_!==null&&_!==void 0||g.onclick!==null||(g.onclick=op));else if(O!==4&&O!==27&&(x=x.child,x!==null))for(qw(x,g,_),x=x.sibling;x!==null;)qw(x,g,_),x=x.sibling}function DG(x,g,_){var O=x.tag;if(O===5||O===6)x=x.stateNode,g?_.insertBefore(x,g):_.appendChild(x);else if(O!==4&&O!==27&&(x=x.child,x!==null))for(DG(x,g,_),x=x.sibling;x!==null;)DG(x,g,_),x=x.sibling}var b_=!1,x0=!1,Fo=!1,mN=typeof WeakSet==="function"?WeakSet:Set,Y0=null,bN=!1;function Cm(x,g){if(x=x.containerInfo,Xw=iG,x=V2(x),Bw(x)){if("selectionStart"in x)var _={start:x.selectionStart,end:x.selectionEnd};else x:{_=(_=x.ownerDocument)&&_.defaultView||window;var O=_.getSelection&&_.getSelection();if(O&&O.rangeCount!==0){_=O.anchorNode;var{anchorOffset:l,focusNode:G}=O;O=O.focusOffset;try{_.nodeType,G.nodeType}catch(m){_=null;break x}var p=0,W=-1,w=-1,o=0,v=0,N=x,k=null;g:for(;;){for(var C;;){if(N!==_||l!==0&&N.nodeType!==3||(W=p+l),N!==G||O!==0&&N.nodeType!==3||(w=p+O),N.nodeType===3&&(p+=N.nodeValue.length),(C=N.firstChild)===null)break;k=N,N=C}for(;;){if(N===x)break g;if(k===_&&++o===l&&(W=p),k===G&&++v===O&&(w=p),(C=N.nextSibling)!==null)break;N=k,k=N.parentNode}N=C}_=W===-1||w===-1?null:{start:W,end:w}}else _=null}_=_||{start:0,end:0}}else _=null;Fw={focusedElem:x,selectionRange:_},iG=!1;for(Y0=g;Y0!==null;)if(g=Y0,x=g.child,(g.subtreeFlags&1028)!==0&&x!==null)x.return=g,Y0=x;else for(;Y0!==null;){switch(g=Y0,G=g.alternate,x=g.flags,g.tag){case 0:break;case 11:case 15:break;case 1:if((x&1024)!==0&&G!==null){x=void 0,_=g,l=G.memoizedProps,G=G.memoizedState,O=_.stateNode;try{var c=N6(_.type,l,_.elementType===_.type);x=O.getSnapshotBeforeUpdate(c,G),O.__reactInternalSnapshotBeforeUpdate=x}catch(m){jx(_,_.return,m)}}break;case 3:if((x&1024)!==0){if(x=g.stateNode.containerInfo,_=x.nodeType,_===9)uw(x);else if(_===1)switch(x.nodeName){case"HEAD":case"HTML":case"BODY":uw(x);break;default:x.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((x&1024)!==0)throw Error(T(163))}if(x=g.sibling,x!==null){x.return=g.return,Y0=x;break}Y0=g.return}return c=bN,bN=!1,c}function U1(x,g,_){var O=_.flags;switch(_.tag){case 0:case 11:case 15:c_(x,_),O&4&&H7(5,_);break;case 1:if(c_(x,_),O&4)if(x=_.stateNode,g===null)try{x.componentDidMount()}catch(W){jx(_,_.return,W)}else{var l=N6(_.type,g.memoizedProps);g=g.memoizedState;try{x.componentDidUpdate(l,g,x.__reactInternalSnapshotBeforeUpdate)}catch(W){jx(_,_.return,W)}}O&64&&I1(_),O&512&&O6(_,_.return);break;case 3:if(c_(x,_),O&64&&(O=_.updateQueue,O!==null)){if(x=null,_.child!==null)switch(_.child.tag){case 27:case 5:x=_.child.stateNode;break;case 1:x=_.child.stateNode}try{S1(O,x)}catch(W){jx(_,_.return,W)}}break;case 26:c_(x,_),O&512&&O6(_,_.return);break;case 27:case 5:c_(x,_),g===null&&O&4&&j1(_),O&512&&O6(_,_.return);break;case 12:c_(x,_);break;case 13:c_(x,_),O&4&&a1(x,_);break;case 22:if(l=_.memoizedState!==null||b_,!l){g=g!==null&&g.memoizedState!==null||x0;var G=b_,p=x0;b_=l,(x0=g)&&!p?pO(x,_,(_.subtreeFlags&8772)!==0):c_(x,_),b_=G,x0=p}O&512&&(_.memoizedProps.mode==="manual"?O6(_,_.return):e0(_,_.return));break;default:c_(x,_)}}function D1(x){var g=x.alternate;g!==null&&(x.alternate=null,D1(g)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(g=x.stateNode,g!==null&&Dw(g)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}var z0=null,s0=!1;function f_(x,g,_){for(_=_.child;_!==null;)Q1(x,g,_),_=_.sibling}function Q1(x,g,_){if(xg&&typeof xg.onCommitFiberUnmount==="function")try{xg.onCommitFiberUnmount(U7,_)}catch(p){}switch(_.tag){case 26:x0||e0(_,g),f_(x,g,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:x0||e0(_,g);var O=z0,l=s0;z0=_.stateNode,f_(x,g,_),_=_.stateNode;for(g=_.attributes;g.length;)_.removeAttributeNode(g[0]);Dw(_),z0=O,s0=l;break;case 5:x0||e0(_,g);case 6:l=z0;var G=s0;if(z0=null,f_(x,g,_),z0=l,s0=G,z0!==null)if(s0)try{x=z0,O=_.stateNode,x.nodeType===8?x.parentNode.removeChild(O):x.removeChild(O)}catch(p){jx(_,g,p)}else try{z0.removeChild(_.stateNode)}catch(p){jx(_,g,p)}break;case 18:z0!==null&&(s0?(g=z0,_=_.stateNode,g.nodeType===8?Qo(g.parentNode,_):g.nodeType===1&&Qo(g,_),r7(g)):Qo(z0,_.stateNode));break;case 4:O=z0,l=s0,z0=_.stateNode.containerInfo,s0=!0,f_(x,g,_),z0=O,s0=l;break;case 0:case 11:case 14:case 15:x0||KO(2,_,g),x0||KO(4,_,g),f_(x,g,_);break;case 1:x0||(e0(_,g),O=_.stateNode,typeof O.componentWillUnmount==="function"&&Z1(_,g,O)),f_(x,g,_);break;case 21:f_(x,g,_);break;case 22:x0||e0(_,g),x0=(O=x0)||_.memoizedState!==null,f_(x,g,_),x0=O;break;default:f_(x,g,_)}}function a1(x,g){if(g.memoizedState===null&&(x=g.alternate,x!==null&&(x=x.memoizedState,x!==null&&(x=x.dehydrated,x!==null))))try{r7(x)}catch(_){jx(g,g.return,_)}}function qm(x){switch(x.tag){case 13:case 19:var g=x.stateNode;return g===null&&(g=x.stateNode=new mN),g;case 22:return x=x.stateNode,g=x._retryCache,g===null&&(g=x._retryCache=new mN),g;default:throw Error(T(435,x.tag))}}function Ao(x,g){var _=qm(x);g.forEach(function(O){var l=Am.bind(null,x,O);_.has(O)||(_.add(O),O.then(l,l))})}function zg(x,g){var _=g.deletions;if(_!==null)for(var O=0;O<_.length;O++){var l=_[O],G=x,p=g,W=p;x:for(;W!==null;){switch(W.tag){case 27:case 5:z0=W.stateNode,s0=!1;break x;case 3:z0=W.stateNode.containerInfo,s0=!0;break x;case 4:z0=W.stateNode.containerInfo,s0=!0;break x}W=W.return}if(z0===null)throw Error(T(160));Q1(G,p,l),z0=null,s0=!1,G=l.alternate,G!==null&&(G.return=null),l.return=null}if(g.subtreeFlags&13878)for(g=g.child;g!==null;)E1(g,x),g=g.sibling}var ug=null;function E1(x,g){var{alternate:_,flags:O}=x;switch(x.tag){case 0:case 11:case 14:case 15:zg(g,x),vg(x),O&4&&(KO(3,x,x.return),H7(3,x),KO(5,x,x.return));break;case 1:zg(g,x),vg(x),O&512&&(x0||_===null||e0(_,_.return)),O&64&&b_&&(x=x.updateQueue,x!==null&&(O=x.callbacks,O!==null&&(_=x.shared.hiddenCallbacks,x.shared.hiddenCallbacks=_===null?O:_.concat(O))));break;case 26:var l=ug;if(zg(g,x),vg(x),O&512&&(x0||_===null||e0(_,_.return)),O&4){var G=_!==null?_.memoizedState:null;if(O=x.memoizedState,_===null)if(O===null)if(x.stateNode===null){x:{O=x.type,_=x.memoizedProps,l=l.ownerDocument||l;g:switch(O){case"title":if(G=l.getElementsByTagName("title")[0],!G||G[b7]||G[X0]||G.namespaceURI==="http://www.w3.org/2000/svg"||G.hasAttribute("itemprop"))G=l.createElement(O),l.head.insertBefore(G,l.querySelector("head > title"));K0(G,O,_),G[X0]=x,f0(G),O=G;break x;case"link":var p=aN("link","href",l).get(O+(_.href||""));if(p){for(var W=0;W<p.length;W++)if(G=p[W],G.getAttribute("href")===(_.href==null?null:_.href)&&G.getAttribute("rel")===(_.rel==null?null:_.rel)&&G.getAttribute("title")===(_.title==null?null:_.title)&&G.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){p.splice(W,1);break g}}G=l.createElement(O),K0(G,O,_),l.head.appendChild(G);break;case"meta":if(p=aN("meta","content",l).get(O+(_.content||""))){for(W=0;W<p.length;W++)if(G=p[W],G.getAttribute("content")===(_.content==null?null:""+_.content)&&G.getAttribute("name")===(_.name==null?null:_.name)&&G.getAttribute("property")===(_.property==null?null:_.property)&&G.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&G.getAttribute("charset")===(_.charSet==null?null:_.charSet)){p.splice(W,1);break g}}G=l.createElement(O),K0(G,O,_),l.head.appendChild(G);break;default:throw Error(T(468,O))}G[X0]=x,f0(G),O=G}x.stateNode=O}else EN(l,x.type,x.stateNode);else x.stateNode=QN(l,O,x.memoizedProps);else G!==O?(G===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):G.count--,O===null?EN(l,x.type,x.stateNode):QN(l,O,x.memoizedProps)):O===null&&x.stateNode!==null&&cN(x,x.memoizedProps,_.memoizedProps)}break;case 27:if(O&4&&x.alternate===null){l=x.stateNode,G=x.memoizedProps;try{for(var w=l.firstChild;w;){var{nextSibling:o,nodeName:v}=w;w[b7]||v==="HEAD"||v==="BODY"||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&w.rel.toLowerCase()==="stylesheet"||l.removeChild(w),w=o}for(var N=x.type,k=l.attributes;k.length;)l.removeAttributeNode(k[0]);K0(l,N,G),l[X0]=x,l[n0]=G}catch(c){jx(x,x.return,c)}}case 5:if(zg(g,x),vg(x),O&512&&(x0||_===null||e0(_,_.return)),x.flags&32){l=x.stateNode;try{L8(l,"")}catch(c){jx(x,x.return,c)}}O&4&&x.stateNode!=null&&(l=x.memoizedProps,cN(x,l,_!==null?_.memoizedProps:l)),O&1024&&(Fo=!0);break;case 6:if(zg(g,x),vg(x),O&4){if(x.stateNode===null)throw Error(T(162));O=x.memoizedProps,_=x.stateNode;try{_.nodeValue=O}catch(c){jx(x,x.return,c)}}break;case 3:if(fG=null,l=ug,ug=HG(g.containerInfo),zg(g,x),ug=l,vg(x),O&4&&_!==null&&_.memoizedState.isDehydrated)try{r7(g.containerInfo)}catch(c){jx(x,x.return,c)}Fo&&(Fo=!1,n1(x));break;case 4:O=ug,ug=HG(x.stateNode.containerInfo),zg(g,x),vg(x),ug=O;break;case 12:zg(g,x),vg(x);break;case 13:zg(g,x),vg(x),x.child.flags&8192&&x.memoizedState!==null!==(_!==null&&_.memoizedState!==null)&&(qz=x_()),O&4&&(O=x.updateQueue,O!==null&&(x.updateQueue=null,Ao(x,O)));break;case 22:if(O&512&&(x0||_===null||e0(_,_.return)),w=x.memoizedState!==null,o=_!==null&&_.memoizedState!==null,v=b_,N=x0,b_=v||w,x0=N||o,zg(g,x),x0=N,b_=v,vg(x),g=x.stateNode,g._current=x,g._visibility&=-3,g._visibility|=g._pendingVisibility&2,O&8192&&(g._visibility=w?g._visibility&-2:g._visibility|1,w&&(g=b_||x0,_===null||o||g||_8(x)),x.memoizedProps===null||x.memoizedProps.mode!=="manual"))x:for(_=null,g=x;;){if(g.tag===5||g.tag===26||g.tag===27){if(_===null){o=_=g;try{if(l=o.stateNode,w)G=l.style,typeof G.setProperty==="function"?G.setProperty("display","none","important"):G.display="none";else{p=o.stateNode,W=o.memoizedProps.style;var C=W!==void 0&&W!==null&&W.hasOwnProperty("display")?W.display:null;p.style.display=C==null||typeof C==="boolean"?"":(""+C).trim()}}catch(c){jx(o,o.return,c)}}}else if(g.tag===6){if(_===null){o=g;try{o.stateNode.nodeValue=w?"":o.memoizedProps}catch(c){jx(o,o.return,c)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===x)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===x)break x;for(;g.sibling===null;){if(g.return===null||g.return===x)break x;_===g&&(_=null),g=g.return}_===g&&(_=null),g.sibling.return=g.return,g=g.sibling}O&4&&(O=x.updateQueue,O!==null&&(_=O.retryQueue,_!==null&&(O.retryQueue=null,Ao(x,_))));break;case 19:zg(g,x),vg(x),O&4&&(O=x.updateQueue,O!==null&&(x.updateQueue=null,Ao(x,O)));break;case 21:break;default:zg(g,x),vg(x)}}function vg(x){var g=x.flags;if(g&2){try{if(x.tag!==27){x:{for(var _=x.return;_!==null;){if(r1(_)){var O=_;break x}_=_.return}throw Error(T(160))}switch(O.tag){case 27:var l=O.stateNode,G=Xo(x);DG(x,G,l);break;case 5:var p=O.stateNode;O.flags&32&&(L8(p,""),O.flags&=-33);var W=Xo(x);DG(x,W,p);break;case 3:case 4:var w=O.stateNode.containerInfo,o=Xo(x);qw(x,o,w);break;default:throw Error(T(161))}}}catch(v){jx(x,x.return,v)}x.flags&=-3}g&4096&&(x.flags&=-4097)}function n1(x){if(x.subtreeFlags&1024)for(x=x.child;x!==null;){var g=x;n1(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),x=x.sibling}}function c_(x,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)U1(x,g.alternate,g),g=g.sibling}function _8(x){for(x=x.child;x!==null;){var g=x;switch(g.tag){case 0:case 11:case 14:case 15:KO(4,g,g.return),_8(g);break;case 1:e0(g,g.return);var _=g.stateNode;typeof _.componentWillUnmount==="function"&&Z1(g,g.return,_),_8(g);break;case 26:case 27:case 5:e0(g,g.return),_8(g);break;case 22:e0(g,g.return),g.memoizedState===null&&_8(g);break;default:_8(g)}x=x.sibling}}function pO(x,g,_){_=_&&(g.subtreeFlags&8772)!==0;for(g=g.child;g!==null;){var O=g.alternate,l=x,G=g,p=G.flags;switch(G.tag){case 0:case 11:case 15:pO(l,G,_),H7(4,G);break;case 1:if(pO(l,G,_),O=G,l=O.stateNode,typeof l.componentDidMount==="function")try{l.componentDidMount()}catch(o){jx(O,O.return,o)}if(O=G,l=O.updateQueue,l!==null){var W=O.stateNode;try{var w=l.shared.hiddenCallbacks;if(w!==null)for(l.shared.hiddenCallbacks=null,l=0;l<w.length;l++)u1(w[l],W)}catch(o){jx(O,O.return,o)}}_&&p&64&&I1(G),O6(G,G.return);break;case 26:case 27:case 5:pO(l,G,_),_&&O===null&&p&4&&j1(G),O6(G,G.return);break;case 12:pO(l,G,_);break;case 13:pO(l,G,_),_&&p&4&&a1(l,G);break;case 22:G.memoizedState===null&&pO(l,G,_),O6(G,G.return);break;default:pO(l,G,_)}g=g.sibling}}function yz(x,g){var _=null;x!==null&&x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(_=x.memoizedState.cachePool.pool),x=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(x=g.memoizedState.cachePool.pool),x!==_&&(x!=null&&x.refCount++,_!=null&&n7(_))}function Nz(x,g){x=null,g.alternate!==null&&(x=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==x&&(g.refCount++,x!=null&&n7(x))}function GO(x,g,_,O){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)$1(x,g,_,O),g=g.sibling}function $1(x,g,_,O){var l=g.flags;switch(g.tag){case 0:case 11:case 15:GO(x,g,_,O),l&2048&&H7(9,g);break;case 3:GO(x,g,_,O),l&2048&&(x=null,g.alternate!==null&&(x=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==x&&(g.refCount++,x!=null&&n7(x)));break;case 12:if(l&2048){GO(x,g,_,O),x=g.stateNode;try{var G=g.memoizedProps,p=G.id,W=G.onPostCommit;typeof W==="function"&&W(p,g.alternate===null?"mount":"update",x.passiveEffectDuration,-0)}catch(w){jx(g,g.return,w)}}else GO(x,g,_,O);break;case 23:break;case 22:G=g.stateNode,g.memoizedState!==null?G._visibility&4?GO(x,g,_,O):M7(x,g):G._visibility&4?GO(x,g,_,O):(G._visibility|=4,O8(x,g,_,O,(g.subtreeFlags&10256)!==0)),l&2048&&yz(g.alternate,g);break;case 24:GO(x,g,_,O),l&2048&&Nz(g.alternate,g);break;default:GO(x,g,_,O)}}function O8(x,g,_,O,l){l=l&&(g.subtreeFlags&10256)!==0;for(g=g.child;g!==null;){var G=x,p=g,W=_,w=O,o=p.flags;switch(p.tag){case 0:case 11:case 15:O8(G,p,W,w,l),H7(8,p);break;case 23:break;case 22:var v=p.stateNode;p.memoizedState!==null?v._visibility&4?O8(G,p,W,w,l):M7(G,p):(v._visibility|=4,O8(G,p,W,w,l)),l&&o&2048&&yz(p.alternate,p);break;case 24:O8(G,p,W,w,l),l&&o&2048&&Nz(p.alternate,p);break;default:O8(G,p,W,w,l)}g=g.sibling}}function M7(x,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var _=x,O=g,l=O.flags;switch(O.tag){case 22:M7(_,O),l&2048&&yz(O.alternate,O);break;case 24:M7(_,O),l&2048&&Nz(O.alternate,O);break;default:M7(_,O)}g=g.sibling}}var l7=8192;function x8(x){if(x.subtreeFlags&l7)for(x=x.child;x!==null;)B1(x),x=x.sibling}function B1(x){switch(x.tag){case 26:x8(x),x.flags&l7&&x.memoizedState!==null&&Ob(ug,x.memoizedState,x.memoizedProps);break;case 5:x8(x);break;case 3:case 4:var g=ug;ug=HG(x.stateNode.containerInfo),x8(x),ug=g;break;case 22:x.memoizedState===null&&(g=x.alternate,g!==null&&g.memoizedState!==null?(g=l7,l7=16777216,x8(x),l7=g):x8(x));break;default:x8(x)}}function H1(x){var g=x.alternate;if(g!==null&&(x=g.child,x!==null)){g.child=null;do g=x.sibling,x.sibling=null,x=g;while(x!==null)}}function Rl(x){var g=x.deletions;if((x.flags&16)!==0){if(g!==null)for(var _=0;_<g.length;_++){var O=g[_];Y0=O,J1(O,x)}H1(x)}if(x.subtreeFlags&10256)for(x=x.child;x!==null;)P1(x),x=x.sibling}function P1(x){switch(x.tag){case 0:case 11:case 15:Rl(x),x.flags&2048&&KO(9,x,x.return);break;case 3:Rl(x);break;case 12:Rl(x);break;case 22:var g=x.stateNode;x.memoizedState!==null&&g._visibility&4&&(x.return===null||x.return.tag!==13)?(g._visibility&=-5,qG(x)):Rl(x);break;default:Rl(x)}}function qG(x){var g=x.deletions;if((x.flags&16)!==0){if(g!==null)for(var _=0;_<g.length;_++){var O=g[_];Y0=O,J1(O,x)}H1(x)}for(x=x.child;x!==null;){switch(g=x,g.tag){case 0:case 11:case 15:KO(8,g,g.return),qG(g);break;case 22:_=g.stateNode,_._visibility&4&&(_._visibility&=-5,qG(g));break;default:qG(g)}x=x.sibling}}function J1(x,g){for(;Y0!==null;){var _=Y0;switch(_.tag){case 0:case 11:case 15:KO(8,_,g);break;case 23:case 22:if(_.memoizedState!==null&&_.memoizedState.cachePool!==null){var O=_.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:n7(_.memoizedState.cache)}if(O=_.child,O!==null)O.return=_,Y0=O;else x:for(_=x;Y0!==null;){O=Y0;var{sibling:l,return:G}=O;if(D1(O),O===_){Y0=null;break x}if(l!==null){l.return=G,Y0=l;break x}Y0=G}}}function Mm(x,g,_,O){this.tag=x,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mg(x,g,_,O){return new Mm(x,g,_,O)}function kz(x){return x=x.prototype,!(!x||!x.isReactComponent)}function MO(x,g){var _=x.alternate;return _===null?(_=Mg(x.tag,g,x.key,x.mode),_.elementType=x.elementType,_.type=x.type,_.stateNode=x.stateNode,_.alternate=x,x.alternate=_):(_.pendingProps=g,_.type=x.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=x.flags&31457280,_.childLanes=x.childLanes,_.lanes=x.lanes,_.child=x.child,_.memoizedProps=x.memoizedProps,_.memoizedState=x.memoizedState,_.updateQueue=x.updateQueue,g=x.dependencies,_.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},_.sibling=x.sibling,_.index=x.index,_.ref=x.ref,_.refCleanup=x.refCleanup,_}function i1(x,g){x.flags&=31457282;var _=x.alternate;return _===null?(x.childLanes=0,x.lanes=g,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=_.childLanes,x.lanes=_.lanes,x.child=_.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=_.memoizedProps,x.memoizedState=_.memoizedState,x.updateQueue=_.updateQueue,x.type=_.type,g=_.dependencies,x.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),x}function MG(x,g,_,O,l,G){var p=0;if(O=x,typeof x==="function")kz(x)&&(p=1);else if(typeof x==="string")p=gb(x,_,eg.current)?26:x==="html"||x==="head"||x==="body"?27:5;else x:switch(x){case p8:return W6(_.children,l,G,g);case RN:p=8,l|=24;break;case ao:return x=Mg(12,_,g,l|2),x.elementType=ao,x.lanes=G,x;case Eo:return x=Mg(13,_,g,l),x.elementType=Eo,x.lanes=G,x;case no:return x=Mg(19,_,g,l),x.elementType=no,x.lanes=G,x;case sN:return R1(_,l,G,g);default:if(typeof x==="object"&&x!==null)switch(x.$$typeof){case nf:case V_:p=10;break x;case TN:p=9;break x;case jw:p=11;break x;case rw:p=14;break x;case WO:p=16,O=null;break x}p=29,_=Error(T(130,x===null?"null":typeof x,"")),O=null}return g=Mg(p,_,g,l),g.elementType=x,g.type=O,g.lanes=G,g}function W6(x,g,_,O){return x=Mg(7,x,O,g),x.lanes=_,x}function R1(x,g,_,O){x=Mg(22,x,O,g),x.elementType=sN,x.lanes=_;var l={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var G=l._current;if(G===null)throw Error(T(456));if((l._pendingVisibility&2)===0){var p=bO(G,2);p!==null&&(l._pendingVisibility|=2,Z0(p,G,2))}},attach:function(){var G=l._current;if(G===null)throw Error(T(456));if((l._pendingVisibility&2)!==0){var p=bO(G,2);p!==null&&(l._pendingVisibility&=-3,Z0(p,G,2))}}};return x.stateNode=l,x}function uo(x,g,_){return x=Mg(6,x,null,g),x.lanes=_,x}function So(x,g,_){return g=Mg(4,x.children!==null?x.children:[],x.key,g),g.lanes=_,g.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},g}function m_(x){x.flags|=4}function hN(x,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)x.flags&=-16777217;else if(x.flags|=16777216,!Ck(g)){if(g=fg.current,g!==null&&((mx&4194176)===mx?g_!==null:(mx&62914560)!==mx&&(mx&536870912)===0||g!==g_))throw v7=gw,j2;x.flags|=8192}}function lG(x,g){g!==null&&(x.flags|=4),x.flags&16384&&(g=x.tag!==22?l2():536870912,x.lanes|=g,u8|=g)}function Tl(x,g){if(!Kx)switch(x.tailMode){case"hidden":g=x.tail;for(var _=null;g!==null;)g.alternate!==null&&(_=g),g=g.sibling;_===null?x.tail=null:_.sibling=null;break;case"collapsed":_=x.tail;for(var O=null;_!==null;)_.alternate!==null&&(O=_),_=_.sibling;O===null?g||x.tail===null?x.tail=null:x.tail.sibling=null:O.sibling=null}}function Tx(x){var g=x.alternate!==null&&x.alternate.child===x.child,_=0,O=0;if(g)for(var l=x.child;l!==null;)_|=l.lanes|l.childLanes,O|=l.subtreeFlags&31457280,O|=l.flags&31457280,l.return=x,l=l.sibling;else for(l=x.child;l!==null;)_|=l.lanes|l.childLanes,O|=l.subtreeFlags,O|=l.flags,l.return=x,l=l.sibling;return x.subtreeFlags|=O,x.childLanes=_,g}function Ym(x,g,_){var O=g.pendingProps;switch(iw(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tx(g),null;case 1:return Tx(g),null;case 3:if(_=g.stateNode,O=null,x!==null&&(O=x.memoizedState.cache),g.memoizedState.cache!==O&&(g.flags|=2048),u_(k0),K8(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),x===null||x.child===null)Jl(g)?m_(g):x===null||x.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,Sg!==null&&(mw(Sg),Sg=null));return Tx(g),null;case 26:return _=g.memoizedState,x===null?(m_(g),_!==null?(Tx(g),hN(g,_)):(Tx(g),g.flags&=-16777217)):_?_!==x.memoizedState?(m_(g),Tx(g),hN(g,_)):(Tx(g),g.flags&=-16777217):(x.memoizedProps!==O&&m_(g),Tx(g),g.flags&=-16777217),null;case 27:hG(g),_=dO.current;var l=g.type;if(x!==null&&g.stateNode!=null)x.memoizedProps!==O&&m_(g);else{if(!O){if(g.stateNode===null)throw Error(T(166));return Tx(g),null}x=eg.current,Jl(g)?xN(g,x):(x=Nk(l,O,_),g.stateNode=x,m_(g))}return Tx(g),null;case 5:if(hG(g),_=g.type,x!==null&&g.stateNode!=null)x.memoizedProps!==O&&m_(g);else{if(!O){if(g.stateNode===null)throw Error(T(166));return Tx(g),null}if(x=eg.current,Jl(g))xN(g,x);else{switch(l=BG(dO.current),x){case 1:x=l.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:x=l.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":x=l.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":x=l.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":x=l.createElement("div"),x.innerHTML="<script></script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof O.is==="string"?l.createElement("select",{is:O.is}):l.createElement("select"),O.multiple?x.multiple=!0:O.size&&(x.size=O.size);break;default:x=typeof O.is==="string"?l.createElement(_,{is:O.is}):l.createElement(_)}}x[X0]=g,x[n0]=O;x:for(l=g.child;l!==null;){if(l.tag===5||l.tag===6)x.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===g)break x;for(;l.sibling===null;){if(l.return===null||l.return===g)break x;l=l.return}l.sibling.return=l.return,l=l.sibling}g.stateNode=x;x:switch(K0(x,_,O),_){case"button":case"input":case"select":case"textarea":x=!!O.autoFocus;break x;case"img":x=!0;break x;default:x=!1}x&&m_(g)}}return Tx(g),g.flags&=-16777217,null;case 6:if(x&&g.stateNode!=null)x.memoizedProps!==O&&m_(g);else{if(typeof O!=="string"&&g.stateNode===null)throw Error(T(166));if(x=dO.current,Jl(g)){if(x=g.stateNode,_=g.memoizedProps,O=null,l=I0,l!==null)switch(l.tag){case 27:case 5:O=l.memoizedProps}x[X0]=g,x=x.nodeValue===_||O!==null&&O.suppressHydrationWarning===!0||zk(x.nodeValue,_)?!0:!1,x||z6(g)}else x=BG(x).createTextNode(O),x[X0]=g,g.stateNode=x}return Tx(g),null;case 13:if(O=g.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(l=Jl(g),O!==null&&O.dehydrated!==null){if(x===null){if(!l)throw Error(T(318));if(l=g.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(T(317));l[X0]=g}else E7(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Tx(g),l=!1}else Sg!==null&&(mw(Sg),Sg=null),l=!0;if(!l){if(g.flags&256)return F_(g),g;return F_(g),null}}if(F_(g),(g.flags&128)!==0)return g.lanes=_,g;if(_=O!==null,x=x!==null&&x.memoizedState!==null,_){O=g.child,l=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(l=O.alternate.memoizedState.cachePool.pool);var G=null;O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(G=O.memoizedState.cachePool.pool),G!==l&&(O.flags|=2048)}return _!==x&&_&&(g.child.flags|=8192),lG(g,g.updateQueue),Tx(g),null;case 4:return K8(),x===null&&fz(g.stateNode.containerInfo),Tx(g),null;case 10:return u_(g.type),Tx(g),null;case 19:if(m0(d0),l=g.memoizedState,l===null)return Tx(g),null;if(O=(g.flags&128)!==0,G=l.rendering,G===null)if(O)Tl(l,!1);else{if(g0!==0||x!==null&&(x.flags&128)!==0)for(x=g.child;x!==null;){if(G=SG(x),G!==null){g.flags|=128,Tl(l,!1),x=G.updateQueue,g.updateQueue=x,lG(g,x),g.subtreeFlags=0,x=_;for(_=g.child;_!==null;)i1(_,x),_=_.sibling;return Hx(d0,d0.current&1|2),g.child}x=x.sibling}l.tail!==null&&x_()>QG&&(g.flags|=128,O=!0,Tl(l,!1),g.lanes=4194304)}else{if(!O)if(x=SG(G),x!==null){if(g.flags|=128,O=!0,x=x.updateQueue,g.updateQueue=x,lG(g,x),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!G.alternate&&!Kx)return Tx(g),null}else 2*x_()-l.renderingStartTime>QG&&_!==536870912&&(g.flags|=128,O=!0,Tl(l,!1),g.lanes=4194304);l.isBackwards?(G.sibling=g.child,g.child=G):(x=l.last,x!==null?x.sibling=G:g.child=G,l.last=G)}if(l.tail!==null)return g=l.tail,l.rendering=g,l.tail=g.sibling,l.renderingStartTime=x_(),g.sibling=null,x=d0.current,Hx(d0,O?x&1|2:x&1),g;return Tx(g),null;case 22:case 23:return F_(g),Rw(),O=g.memoizedState!==null,x!==null?x.memoizedState!==null!==O&&(g.flags|=8192):O&&(g.flags|=8192),O?(_&536870912)!==0&&(g.flags&128)===0&&(Tx(g),g.subtreeFlags&6&&(g.flags|=8192)):Tx(g),_=g.updateQueue,_!==null&&lG(g,_.retryQueue),_=null,x!==null&&x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(_=x.memoizedState.cachePool.pool),O=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(O=g.memoizedState.cachePool.pool),O!==_&&(g.flags|=2048),x!==null&&m0(p6),null;case 24:return _=null,x!==null&&(_=x.memoizedState.cache),g.memoizedState.cache!==_&&(g.flags|=2048),u_(k0),Tx(g),null;case 25:return null}throw Error(T(156,g.tag))}function fm(x,g){switch(iw(g),g.tag){case 1:return x=g.flags,x&65536?(g.flags=x&-65537|128,g):null;case 3:return u_(k0),K8(),x=g.flags,(x&65536)!==0&&(x&128)===0?(g.flags=x&-65537|128,g):null;case 26:case 27:case 5:return hG(g),null;case 13:if(F_(g),x=g.memoizedState,x!==null&&x.dehydrated!==null){if(g.alternate===null)throw Error(T(340));E7()}return x=g.flags,x&65536?(g.flags=x&-65537|128,g):null;case 19:return m0(d0),null;case 4:return K8(),null;case 10:return u_(g.type),null;case 22:case 23:return F_(g),Rw(),x!==null&&m0(p6),x=g.flags,x&65536?(g.flags=x&-65537|128,g):null;case 24:return u_(k0),null;case 25:return null;default:return null}}function T1(x,g){switch(iw(g),g.tag){case 3:u_(k0),K8();break;case 26:case 27:case 5:hG(g);break;case 4:K8();break;case 13:F_(g);break;case 19:m0(d0);break;case 10:u_(g.type);break;case 22:case 23:F_(g),Rw(),x!==null&&m0(p6);break;case 24:u_(k0)}}var cm={getCacheForType:function(x){var g=F0(k0),_=g.data.get(x);return _===void 0&&(_=x(),g.data.set(x,_)),_}},mm=typeof WeakMap==="function"?WeakMap:Map,sx=0,Qx=null,dx=null,mx=0,Dx=0,t0=null,h_=!1,U8=!1,dz=!1,j_=0,g0=0,VO=0,o6=0,Cz=0,Yg=0,u8=0,Y7=null,tg=null,Mw=!1,qz=0,QG=1/0,aG=null,YO=null,GG=!1,g6=null,f7=0,Yw=0,fw=null,c7=0,cw=null;function _g(){if((sx&2)!==0&&mx!==0)return mx&-mx;if(zx.T!==null){var x=F8;return x!==0?x:Yz()}return o2()}function s1(){Yg===0&&(Yg=(mx&536870912)===0||Kx?O2():536870912);var x=fg.current;return x!==null&&(x.flags|=32),Yg}function Z0(x,g,_){if(x===Qx&&Dx===2||x.cancelPendingCommit!==null)S8(x,0),K_(x,mx,Yg,!1);if(Q7(x,_),(sx&2)===0||x!==Qx)x===Qx&&((sx&2)===0&&(o6|=_),g0===4&&K_(x,mx,Yg,!1)),l_(x)}function t1(x,g,_){if((sx&6)!==0)throw Error(T(327));var O=!_&&(g&60)===0&&(g&x.expiredLanes)===0||D7(x,g),l=O?Km(x,g):Io(x,g,!0),G=O;do{if(l===0){U8&&!O&&K_(x,g,0,!1);break}else if(l===6)K_(x,g,0,!h_);else{if(_=x.current.alternate,G&&!bm(_)){l=Io(x,g,!1),G=!1;continue}if(l===2){if(G=g,x.errorRecoveryDisabledLanes&G)var p=0;else p=x.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){g=p;x:{var W=x;l=Y7;var w=W.current.memoizedState.isDehydrated;if(w&&(S8(W,p).flags|=256),p=Io(W,p,!1),p!==2){if(dz&&!w){W.errorRecoveryDisabledLanes|=G,o6|=G,l=4;break x}G=tg,tg=l,G!==null&&mw(G)}l=p}if(G=!1,l!==2)continue}}if(l===1){S8(x,0),K_(x,g,0,!0);break}x:{switch(O=x,l){case 0:case 1:throw Error(T(345));case 4:if((g&4194176)===g){K_(O,g,Yg,!h_);break x}break;case 2:tg=null;break;case 3:case 5:break;default:throw Error(T(329))}if(O.finishedWork=_,O.finishedLanes=g,(g&62914560)===g&&(G=qz+300-x_(),10<G)){if(K_(O,g,Yg,!h_),TG(O,0)!==0)break x;O.timeoutHandle=yk(KN.bind(null,O,_,tg,aG,Mw,g,Yg,o6,u8,h_,2,-0,0),G);break x}KN(O,_,tg,aG,Mw,g,Yg,o6,u8,h_,0,-0,0)}}break}while(1);l_(x)}function mw(x){tg===null?tg=x:tg.push.apply(tg,x)}function KN(x,g,_,O,l,G,p,W,w,o,v,N,k){var C=g.subtreeFlags;if(C&8192||(C&16785408)===16785408){if(S7={stylesheets:null,count:0,unsuspend:_b},B1(g),g=lb(),g!==null){x.cancelPendingCommit=g(LN.bind(null,x,_,O,l,p,W,w,1,N,k)),K_(x,G,p,!o);return}}LN(x,_,O,l,p,W,w,v,N,k)}function bm(x){for(var g=x;;){var _=g.tag;if((_===0||_===11||_===15)&&g.flags&16384&&(_=g.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var O=0;O<_.length;O++){var l=_[O],G=l.getSnapshot;l=l.value;try{if(!Og(G(),l))return!1}catch(p){return!1}}if(_=g.child,g.subtreeFlags&16384&&_!==null)_.return=g,g=_;else{if(g===x)break;for(;g.sibling===null;){if(g.return===null||g.return===x)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function K_(x,g,_,O){g&=~Cz,g&=~o6,x.suspendedLanes|=g,x.pingedLanes&=~g,O&&(x.warmLanes|=g),O=x.expirationTimes;for(var l=g;0<l;){var G=31-gg(l),p=1<<G;O[G]=-1,l&=~p}_!==0&&G2(x,_,g)}function pp(){return(sx&6)===0?(P7(0,!1),!1):!0}function Mz(){if(dx!==null){if(Dx===0)var x=dx.return;else x=dx,A_=f6=null,_z(x),f8=null,X7=0,x=dx;for(;x!==null;)T1(x.alternate,x),x=x.return;dx=null}}function S8(x,g){x.finishedWork=null,x.finishedLanes=0;var _=x.timeoutHandle;_!==-1&&(x.timeoutHandle=-1,am(_)),_=x.cancelPendingCommit,_!==null&&(x.cancelPendingCommit=null,_()),Mz(),Qx=x,dx=_=MO(x.current,null),mx=g,Dx=0,t0=null,h_=!1,U8=D7(x,g),dz=!1,u8=Yg=Cz=o6=VO=g0=0,tg=Y7=null,Mw=!1,(g&8)!==0&&(g|=g&32);var O=x.entangledLanes;if(O!==0)for(x=x.entanglements,O&=g;0<O;){var l=31-gg(O),G=1<<l;g|=x[l],O&=~G}return j_=g,xp(),_}function e1(x,g){kx=null,zx.H=__,g===z7?(g=ON(),Dx=3):g===j2?(g=ON(),Dx=4):Dx=g===h1?8:g!==null&&typeof g==="object"&&typeof g.then==="function"?6:1,t0=g,dx===null&&(g0=1,rG(x,qg(g,x.current)))}function xk(){var x=zx.H;return zx.H=__,x===null?__:x}function gk(){var x=zx.A;return zx.A=cm,x}function bw(){g0=4,h_||(mx&4194176)!==mx&&fg.current!==null||(U8=!0),(VO&134217727)===0&&(o6&134217727)===0||Qx===null||K_(Qx,mx,Yg,!1)}function Io(x,g,_){var O=sx;sx|=2;var l=xk(),G=gk();if(Qx!==x||mx!==g)aG=null,S8(x,g);g=!1;var p=g0;x:do try{if(Dx!==0&&dx!==null){var W=dx,w=t0;switch(Dx){case 8:Mz(),p=6;break x;case 3:case 2:case 6:fg.current===null&&(g=!0);var o=Dx;if(Dx=0,t0=null,C8(x,W,w,o),_&&U8){p=0;break x}break;default:o=Dx,Dx=0,t0=null,C8(x,W,w,o)}}hm(),p=g0;break}catch(v){e1(x,v)}while(1);return g&&x.shellSuspendCounter++,A_=f6=null,sx=O,zx.H=l,zx.A=G,dx===null&&(Qx=null,mx=0,xp()),p}function hm(){for(;dx!==null;)_k(dx)}function Km(x,g){var _=sx;sx|=2;var O=xk(),l=gk();Qx!==x||mx!==g?(aG=null,QG=x_()+500,S8(x,g)):U8=D7(x,g);x:do try{if(Dx!==0&&dx!==null){g=dx;var G=t0;g:switch(Dx){case 1:Dx=0,t0=null,C8(x,g,G,1);break;case 2:if(_N(G)){Dx=0,t0=null,VN(g);break}g=function(){Dx===2&&Qx===x&&(Dx=7),l_(x)},G.then(g,g);break x;case 3:Dx=7;break x;case 4:Dx=5;break x;case 7:_N(G)?(Dx=0,t0=null,VN(g)):(Dx=0,t0=null,C8(x,g,G,7));break;case 5:var p=null;switch(dx.tag){case 26:p=dx.memoizedState;case 5:case 27:var W=dx;if(p?Ck(p):1){Dx=0,t0=null;var w=W.sibling;if(w!==null)dx=w;else{var o=W.return;o!==null?(dx=o,Wp(o)):dx=null}break g}}Dx=0,t0=null,C8(x,g,G,5);break;case 6:Dx=0,t0=null,C8(x,g,G,6);break;case 8:Mz(),g0=6;break x;default:throw Error(T(462))}}Vm();break}catch(v){e1(x,v)}while(1);if(A_=f6=null,zx.H=O,zx.A=l,sx=_,dx!==null)return 0;return Qx=null,mx=0,xp(),g0}function Vm(){for(;dx!==null&&!Jf();)_k(dx)}function _k(x){var g=F1(x.alternate,x,j_);x.memoizedProps=x.pendingProps,g===null?Wp(x):dx=g}function VN(x){var g=x,_=g.alternate;switch(g.tag){case 15:case 0:g=qN(_,g,g.pendingProps,g.type,void 0,mx);break;case 11:g=qN(_,g,g.pendingProps,g.type.render,g.ref,mx);break;case 5:_z(g);default:T1(_,g),g=dx=i1(g,j_),g=F1(_,g,j_)}x.memoizedProps=x.pendingProps,g===null?Wp(x):dx=g}function C8(x,g,_,O){A_=f6=null,_z(g),f8=null,X7=0;var l=g.return;try{if(km(x,l,g,_,mx)){g0=1,rG(x,qg(_,x.current)),dx=null;return}}catch(G){if(l!==null)throw dx=l,G;g0=1,rG(x,qg(_,x.current)),dx=null;return}if(g.flags&32768){if(Kx||O===1)x=!0;else if(U8||(mx&536870912)!==0)x=!1;else if(h_=x=!0,O===2||O===3||O===6)O=fg.current,O!==null&&O.tag===13&&(O.flags|=16384);Ok(g,x)}else Wp(g)}function Wp(x){var g=x;do{if((g.flags&32768)!==0){Ok(g,h_);return}x=g.return;var _=Ym(g.alternate,g,j_);if(_!==null){dx=_;return}if(g=g.sibling,g!==null){dx=g;return}dx=g=x}while(g!==null);g0===0&&(g0=5)}function Ok(x,g){do{var _=fm(x.alternate,x);if(_!==null){_.flags&=32767,dx=_;return}if(_=x.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!g&&(x=x.sibling,x!==null)){dx=x;return}dx=x=_}while(x!==null);g0=6,dx=null}function LN(x,g,_,O,l,G,p,W,w,o){var v=zx.T,N=$x.p;try{$x.p=2,zx.T=null,Lm(x,g,_,O,N,l,G,p,W,w,o)}finally{zx.T=v,$x.p=N}}function Lm(x,g,_,O,l,G,p,W){do h8();while(g6!==null);if((sx&6)!==0)throw Error(T(327));var w=x.finishedWork;if(O=x.finishedLanes,w===null)return null;if(x.finishedWork=null,x.finishedLanes=0,w===x.current)throw Error(T(177));x.callbackNode=null,x.callbackPriority=0,x.cancelPendingCommit=null;var o=w.lanes|w.childLanes;if(o|=Hw,Gc(x,O,o,G,p,W),x===Qx&&(dx=Qx=null,mx=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||GG||(GG=!0,Yw=o,fw=_,um(KG,function(){return h8(!0),null})),_=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||_?(_=zx.T,zx.T=null,G=$x.p,$x.p=2,p=sx,sx|=4,Cm(x,w),E1(w,x),sc(Fw,x.containerInfo),iG=!!Xw,Fw=Xw=null,x.current=w,U1(x,w.alternate,w),Rf(),sx=p,$x.p=G,zx.T=_):x.current=w,GG?(GG=!1,g6=x,f7=O):lk(x,o),o=x.pendingLanes,o===0&&(YO=null),xc(w.stateNode,l),l_(x),g!==null)for(l=x.onRecoverableError,w=0;w<g.length;w++)o=g[w],l(o.value,{componentStack:o.stack});return(f7&3)!==0&&h8(),o=x.pendingLanes,(O&4194218)!==0&&(o&42)!==0?x===cw?c7++:(c7=0,cw=x):c7=0,P7(0,!1),null}function lk(x,g){(x.pooledCacheLanes&=g)===0&&(g=x.pooledCache,g!=null&&(x.pooledCache=null,n7(g)))}function h8(){if(g6!==null){var x=g6,g=Yw;Yw=0;var _=W2(f7),O=zx.T,l=$x.p;try{if($x.p=32>_?32:_,zx.T=null,g6===null)var G=!1;else{_=fw,fw=null;var p=g6,W=f7;if(g6=null,f7=0,(sx&6)!==0)throw Error(T(331));var w=sx;if(sx|=4,P1(p.current),$1(p,p.current,W,_),sx=w,P7(0,!1),xg&&typeof xg.onPostCommitFiberRoot==="function")try{xg.onPostCommitFiberRoot(U7,p)}catch(o){}G=!0}return G}finally{$x.p=l,zx.T=O,lk(x,g)}}return!1}function XN(x,g,_){g=qg(_,g),g=ow(x.stateNode,g,2),x=qO(x,g,2),x!==null&&(Q7(x,2),l_(x))}function jx(x,g,_){if(x.tag===3)XN(x,x,_);else for(;g!==null;){if(g.tag===3){XN(g,x,_);break}else if(g.tag===1){var O=g.stateNode;if(typeof g.type.getDerivedStateFromError==="function"||typeof O.componentDidCatch==="function"&&(YO===null||!YO.has(O))){x=qg(_,x),_=m1(2),O=qO(g,_,2),O!==null&&(b1(_,O,g,x),Q7(O,2),l_(O));break}}g=g.return}}function Zo(x,g,_){var O=x.pingCache;if(O===null){O=x.pingCache=new mm;var l=new Set;O.set(g,l)}else l=O.get(g),l===void 0&&(l=new Set,O.set(g,l));l.has(_)||(dz=!0,l.add(_),x=Xm.bind(null,x,g,_),g.then(x,x))}function Xm(x,g,_){var O=x.pingCache;O!==null&&O.delete(g),x.pingedLanes|=x.suspendedLanes&_,x.warmLanes&=~_,Qx===x&&(mx&_)===_&&(g0===4||g0===3&&(mx&62914560)===mx&&300>x_()-qz?(sx&2)===0&&S8(x,0):Cz|=_,u8===mx&&(u8=0)),l_(x)}function Gk(x,g){g===0&&(g=l2()),x=bO(x,g),x!==null&&(Q7(x,g),l_(x))}function Fm(x){var g=x.memoizedState,_=0;g!==null&&(_=g.retryLane),Gk(x,_)}function Am(x,g){var _=0;switch(x.tag){case 13:var{stateNode:O,memoizedState:l}=x;l!==null&&(_=l.retryLane);break;case 19:O=x.stateNode;break;case 22:O=x.stateNode._retryCache;break;default:throw Error(T(314))}O!==null&&O.delete(g),Gk(x,_)}function um(x,g){return Uw(x,g)}var EG=null,l8=null,hw=!1,nG=!1,jo=!1,w6=0;function l_(x){x!==l8&&x.next===null&&(l8===null?EG=l8=x:l8=l8.next=x),nG=!0,hw||(hw=!0,Im(Sm))}function P7(x,g){if(!jo&&nG){jo=!0;do{var _=!1;for(var O=EG;O!==null;){if(!g)if(x!==0){var l=O.pendingLanes;if(l===0)var G=0;else{var{suspendedLanes:p,pingedLanes:W}=O;G=(1<<31-gg(42|x)+1)-1,G&=l&~(p&~W),G=G&201326677?G&201326677|1:G?G|2:0}G!==0&&(_=!0,FN(O,G))}else G=mx,G=TG(O,O===Qx?G:0),(G&3)===0||D7(O,G)||(_=!0,FN(O,G));O=O.next}}while(_);jo=!1}}function Sm(){nG=hw=!1;var x=0;w6!==0&&(Qm()&&(x=w6),w6=0);for(var g=x_(),_=null,O=EG;O!==null;){var l=O.next,G=pk(O,g);if(G===0)O.next=null,_===null?EG=l:_.next=l,l===null&&(l8=_);else if(_=O,x!==0||(G&3)!==0)nG=!0;O=l}P7(x,!1)}function pk(x,g){for(var{suspendedLanes:_,pingedLanes:O,expirationTimes:l}=x,G=x.pendingLanes&-62914561;0<G;){var p=31-gg(G),W=1<<p,w=l[p];if(w===-1){if((W&_)===0||(W&O)!==0)l[p]=lc(W,g)}else w<=g&&(x.expiredLanes|=W);G&=~W}if(g=Qx,_=mx,_=TG(x,x===g?_:0),O=x.callbackNode,_===0||x===g&&Dx===2||x.cancelPendingCommit!==null)return O!==null&&O!==null&&yo(O),x.callbackNode=null,x.callbackPriority=0;if((_&3)===0||D7(x,_)){if(g=_&-_,g===x.callbackPriority)return g;switch(O!==null&&yo(O),W2(_)){case 2:case 8:_=g2;break;case 32:_=KG;break;case 268435456:_=_2;break;default:_=KG}return O=Wk.bind(null,x),_=Uw(_,O),x.callbackPriority=g,x.callbackNode=_,g}return O!==null&&O!==null&&yo(O),x.callbackPriority=2,x.callbackNode=null,2}function Wk(x,g){var _=x.callbackNode;if(h8()&&x.callbackNode!==_)return null;var O=mx;if(O=TG(x,x===Qx?O:0),O===0)return null;return t1(x,O,g),pk(x,x_()),x.callbackNode!=null&&x.callbackNode===_?Wk.bind(null,x):null}function FN(x,g){if(h8())return null;t1(x,g,!0)}function Im(x){Em(function(){(sx&6)!==0?Uw(x2,x):x()})}function Yz(){return w6===0&&(w6=O2()),w6}function AN(x){return x==null||typeof x==="symbol"||typeof x==="boolean"?null:typeof x==="function"?x:zG(""+x)}function uN(x,g){var _=g.ownerDocument.createElement("input");return _.name=g.name,_.value=g.value,x.id&&_.setAttribute("form",x.id),g.parentNode.insertBefore(_,g),x=new FormData(x),_.parentNode.removeChild(_),x}function Zm(x,g,_,O,l){if(g==="submit"&&_&&_.stateNode===l){var G=AN((l[n0]||null).action),p=O.submitter;p&&(g=(g=p[n0]||null)?AN(g.formAction):p.getAttribute("formAction"),g!==null&&(G=g,p=null));var W=new sG("action","action",null,O,l);x.push({event:W,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(w6!==0){var w=p?uN(l,p):new FormData(l);pw(_,{pending:!0,data:w,method:l.method,action:G},null,w)}}else typeof G==="function"&&(W.preventDefault(),w=p?uN(l,p):new FormData(l),pw(_,{pending:!0,data:w,method:l.method,action:G},G,w))},currentTarget:l}]})}}for(G7=0;G7<t3.length;G7++)p7=t3[G7],Kw=p7.toLowerCase(),Vw=p7[0].toUpperCase()+p7.slice(1),Zg(Kw,"on"+Vw);var p7,Kw,Vw,G7;Zg(X2,"onAnimationEnd");Zg(F2,"onAnimationIteration");Zg(A2,"onAnimationStart");Zg("dblclick","onDoubleClick");Zg("focusin","onFocus");Zg("focusout","onBlur");Zg(ec,"onTransitionRun");Zg(xm,"onTransitionStart");Zg(gm,"onTransitionCancel");Zg(u2,"onTransitionEnd");V8("onMouseEnter",["mouseout","mouseover"]);V8("onMouseLeave",["mouseout","mouseover"]);V8("onPointerEnter",["pointerout","pointerover"]);V8("onPointerLeave",["pointerout","pointerover"]);d6("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));d6("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));d6("onBeforeInput",["compositionend","keypress","textInput","paste"]);d6("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));d6("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));d6("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var A7="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(A7));function ok(x,g){g=(g&4)!==0;for(var _=0;_<x.length;_++){var O=x[_],l=O.event;O=O.listeners;x:{var G=void 0;if(g)for(var p=O.length-1;0<=p;p--){var W=O[p],w=W.instance,o=W.currentTarget;if(W=W.listener,w!==G&&l.isPropagationStopped())break x;G=W,l.currentTarget=o;try{G(l)}catch(v){jG(v)}l.currentTarget=null,G=w}else for(p=0;p<O.length;p++){if(W=O[p],w=W.instance,o=W.currentTarget,W=W.listener,w!==G&&l.isPropagationStopped())break x;G=W,l.currentTarget=o;try{G(l)}catch(v){jG(v)}l.currentTarget=null,G=w}}}}function Yx(x,g){var _=g[Jo];_===void 0&&(_=g[Jo]=new Set);var O=x+"__bubble";_.has(O)||(wk(g,x,2,!1),_.add(O))}function ro(x,g,_){var O=0;g&&(O|=4),wk(_,x,O,g)}var pG="_reactListening"+Math.random().toString(36).slice(2);function fz(x){if(!x[pG]){x[pG]=!0,w2.forEach(function(_){_!=="selectionchange"&&(jm.has(_)||ro(_,!1,x),ro(_,!0,x))});var g=x.nodeType===9?x:x.ownerDocument;g===null||g[pG]||(g[pG]=!0,ro("selectionchange",!1,g))}}function wk(x,g,_,O){switch(ck(g)){case 2:var l=Wb;break;case 8:l=ob;break;default:l=hz}_=l.bind(null,g,_,x),l=void 0,!so||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(l=!0),O?l!==void 0?x.addEventListener(g,_,{capture:!0,passive:l}):x.addEventListener(g,_,!0):l!==void 0?x.addEventListener(g,_,{passive:l}):x.addEventListener(g,_,!1)}function Uo(x,g,_,O,l){var G=O;if((g&1)===0&&(g&2)===0&&O!==null)x:for(;;){if(O===null)return;var p=O.tag;if(p===3||p===4){var W=O.stateNode.containerInfo;if(W===l||W.nodeType===8&&W.parentNode===l)break;if(p===4)for(p=O.return;p!==null;){var w=p.tag;if(w===3||w===4){if(w=p.stateNode.containerInfo,w===l||w.nodeType===8&&w.parentNode===l)return}p=p.return}for(;W!==null;){if(p=_6(W),p===null)return;if(w=p.tag,w===5||w===6||w===26||w===27){O=G=p;continue x}W=W.parentNode}}O=O.return}q2(function(){var o=G,v=aw(_),N=[];x:{var k=S2.get(x);if(k!==void 0){var C=sG,c=x;switch(x){case"keypress":if(yG(_)===0)break x;case"keydown":case"keyup":C=Ac;break;case"focusin":c="focus",C=Mo;break;case"focusout":c="blur",C=Mo;break;case"beforeblur":case"afterblur":C=Mo;break;case"click":if(_.button===2)break x;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=E3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Ic;break;case X2:case F2:case A2:C=cc;break;case u2:C=jc;break;case"scroll":case"scrollend":C=Cc;break;case"wheel":C=Uc;break;case"copy":case"cut":case"paste":C=bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=$3;break;case"toggle":case"beforetoggle":C=Qc}var m=(g&4)!==0,b=!m&&(x==="scroll"||x==="scrollend"),f=m?k!==null?k+"Capture":null:k;m=[];for(var d=o,M;d!==null;){var Y=d;if(M=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||M===null||f===null||(Y=h7(d,f),Y!=null&&m.push(u7(d,Y,M))),b)break;d=d.return}0<m.length&&(k=new C(k,c,null,_,v),N.push({event:k,listeners:m}))}}if((g&7)===0){x:{if(k=x==="mouseover"||x==="pointerover",C=x==="mouseout"||x==="pointerout",k&&_!==To&&(c=_.relatedTarget||_.fromElement)&&(_6(c)||c[j8]))break x;if(C||k){if(k=v.window===v?v:(k=v.ownerDocument)?k.defaultView||k.parentWindow:window,C){if(c=_.relatedTarget||_.toElement,C=o,c=c?_6(c):null,c!==null&&(b=Z8(c),m=c.tag,c!==b||m!==5&&m!==27&&m!==6))c=null}else C=null,c=o;if(C!==c){if(m=E3,Y="onMouseLeave",f="onMouseEnter",d="mouse",x==="pointerout"||x==="pointerover")m=$3,Y="onPointerLeave",f="onPointerEnter",d="pointer";if(b=C==null?k:g7(C),M=c==null?k:g7(c),k=new m(Y,d+"leave",C,_,v),k.target=b,k.relatedTarget=M,Y=null,_6(v)===o&&(m=new m(f,d+"enter",c,_,v),m.target=M,m.relatedTarget=b,Y=m),b=Y,C&&c)g:{m=C,f=c,d=0;for(M=m;M;M=g8(M))d++;M=0;for(Y=f;Y;Y=g8(Y))M++;for(;0<d-M;)m=g8(m),d--;for(;0<M-d;)f=g8(f),M--;for(;d--;){if(m===f||f!==null&&m===f.alternate)break g;m=g8(m),f=g8(f)}m=null}else m=null;C!==null&&SN(N,k,C,m,!1),c!==null&&b!==null&&SN(N,b,c,m,!0)}}}x:{if(k=o?g7(o):window,C=k.nodeName&&k.nodeName.toLowerCase(),C==="select"||C==="input"&&k.type==="file")var K=J3;else if(P3(k))if(b2)K=Rc;else{K=Jc;var h=Pc}else C=k.nodeName,!C||C.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?o&&Qw(o.elementType)&&(K=J3):K=ic;if(K&&(K=K(x,o))){m2(N,K,_,v);break x}h&&h(x,k,o),x==="focusout"&&o&&k.type==="number"&&o.memoizedProps.value!=null&&Ro(k,"number",k.value)}switch(h=o?g7(o):window,x){case"focusin":if(P3(h)||h.contentEditable==="true")z8=h,to=o,w7=null;break;case"focusout":w7=to=z8=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,s3(N,_,v);break;case"selectionchange":if(tc)break;case"keydown":case"keyup":s3(N,_,v)}var V;if($w)x:{switch(x){case"compositionstart":var F="onCompositionStart";break x;case"compositionend":F="onCompositionEnd";break x;case"compositionupdate":F="onCompositionUpdate";break x}F=void 0}else w8?f2(x,_)&&(F="onCompositionEnd"):x==="keydown"&&_.keyCode===229&&(F="onCompositionStart");if(F&&(Y2&&_.locale!=="ko"&&(w8||F!=="onCompositionStart"?F==="onCompositionEnd"&&w8&&(V=M2()):(kO=v,Ew=("value"in kO)?kO.value:kO.textContent,w8=!0)),h=$G(o,F),0<h.length&&(F=new n3(F,x,null,_,v),N.push({event:F,listeners:h}),V?F.data=V:(V=c2(_),V!==null&&(F.data=V)))),V=Ec?nc(x,_):$c(x,_))F=$G(o,"onBeforeInput"),0<F.length&&(h=new n3("onBeforeInput","beforeinput",null,_,v),N.push({event:h,listeners:F}),h.data=V);Zm(N,x,o,_,v)}ok(N,g)})}function u7(x,g,_){return{instance:x,listener:g,currentTarget:_}}function $G(x,g){for(var _=g+"Capture",O=[];x!==null;){var l=x,G=l.stateNode;l=l.tag,l!==5&&l!==26&&l!==27||G===null||(l=h7(x,_),l!=null&&O.unshift(u7(x,l,G)),l=h7(x,g),l!=null&&O.push(u7(x,l,G))),x=x.return}return O}function g8(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5&&x.tag!==27);return x?x:null}function SN(x,g,_,O,l){for(var G=g._reactName,p=[];_!==null&&_!==O;){var W=_,w=W.alternate,o=W.stateNode;if(W=W.tag,w!==null&&w===O)break;W!==5&&W!==26&&W!==27||o===null||(w=o,l?(o=h7(_,G),o!=null&&p.unshift(u7(_,o,w))):l||(o=h7(_,G),o!=null&&p.push(u7(_,o,w)))),_=_.return}p.length!==0&&x.push({event:g,listeners:p})}var rm=/\r\n?/g,Um=/\u0000|\uFFFD/g;function IN(x){return(typeof x==="string"?x:""+x).replace(rm,`
`).replace(Um,"")}function zk(x,g){return g=IN(g),IN(x)===g?!0:!1}function op(){}function Ix(x,g,_,O,l,G){switch(_){case"children":typeof O==="string"?g==="body"||g==="textarea"&&O===""||L8(x,O):(typeof O==="number"||typeof O==="bigint")&&g!=="body"&&L8(x,""+O);break;case"className":t9(x,"class",O);break;case"tabIndex":t9(x,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":t9(x,_,O);break;case"style":C2(x,O,G);break;case"data":if(g!=="object"){t9(x,"data",O);break}case"src":case"href":if(O===""&&(g!=="a"||_!=="href")){x.removeAttribute(_);break}if(O==null||typeof O==="function"||typeof O==="symbol"||typeof O==="boolean"){x.removeAttribute(_);break}O=zG(""+O),x.setAttribute(_,O);break;case"action":case"formAction":if(typeof O==="function"){x.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof G==="function"&&(_==="formAction"?(g!=="input"&&Ix(x,g,"name",l.name,l,null),Ix(x,g,"formEncType",l.formEncType,l,null),Ix(x,g,"formMethod",l.formMethod,l,null),Ix(x,g,"formTarget",l.formTarget,l,null)):(Ix(x,g,"encType",l.encType,l,null),Ix(x,g,"method",l.method,l,null),Ix(x,g,"target",l.target,l,null)));if(O==null||typeof O==="symbol"||typeof O==="boolean"){x.removeAttribute(_);break}O=zG(""+O),x.setAttribute(_,O);break;case"onClick":O!=null&&(x.onclick=op);break;case"onScroll":O!=null&&Yx("scroll",x);break;case"onScrollEnd":O!=null&&Yx("scrollend",x);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!=="object"||!("__html"in O))throw Error(T(61));if(_=O.__html,_!=null){if(l.children!=null)throw Error(T(60));x.innerHTML=_}}break;case"multiple":x.multiple=O&&typeof O!=="function"&&typeof O!=="symbol";break;case"muted":x.muted=O&&typeof O!=="function"&&typeof O!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O==="function"||typeof O==="boolean"||typeof O==="symbol"){x.removeAttribute("xlink:href");break}_=zG(""+O),x.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!=="function"&&typeof O!=="symbol"?x.setAttribute(_,""+O):x.removeAttribute(_);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!=="function"&&typeof O!=="symbol"?x.setAttribute(_,""):x.removeAttribute(_);break;case"capture":case"download":O===!0?x.setAttribute(_,""):O!==!1&&O!=null&&typeof O!=="function"&&typeof O!=="symbol"?x.setAttribute(_,O):x.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!=="function"&&typeof O!=="symbol"&&!isNaN(O)&&1<=O?x.setAttribute(_,O):x.removeAttribute(_);break;case"rowSpan":case"start":O==null||typeof O==="function"||typeof O==="symbol"||isNaN(O)?x.removeAttribute(_):x.setAttribute(_,O);break;case"popover":Yx("beforetoggle",x),Yx("toggle",x),wG(x,"popover",O);break;case"xlinkActuate":Y_(x,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":Y_(x,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":Y_(x,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":Y_(x,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":Y_(x,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":Y_(x,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":Y_(x,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":Y_(x,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":Y_(x,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":wG(x,"is",O);break;case"innerText":case"textContent":break;default:if(!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N")_=kc.get(_)||_,wG(x,_,O)}}function Lw(x,g,_,O,l,G){switch(_){case"style":C2(x,O,G);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!=="object"||!("__html"in O))throw Error(T(61));if(_=O.__html,_!=null){if(l.children!=null)throw Error(T(60));x.innerHTML=_}}break;case"children":typeof O==="string"?L8(x,O):(typeof O==="number"||typeof O==="bigint")&&L8(x,""+O);break;case"onScroll":O!=null&&Yx("scroll",x);break;case"onScrollEnd":O!=null&&Yx("scrollend",x);break;case"onClick":O!=null&&(x.onclick=op);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!z2.hasOwnProperty(_))x:{if(_[0]==="o"&&_[1]==="n"&&(l=_.endsWith("Capture"),g=_.slice(2,l?_.length-7:void 0),G=x[n0]||null,G=G!=null?G[_]:null,typeof G==="function"&&x.removeEventListener(g,G,l),typeof O==="function")){typeof G!=="function"&&G!==null&&(_ in x?x[_]=null:x.hasAttribute(_)&&x.removeAttribute(_)),x.addEventListener(g,O,l);break x}_ in x?x[_]=O:O===!0?x.setAttribute(_,""):wG(x,_,O)}}}function K0(x,g,_){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yx("error",x),Yx("load",x);var O=!1,l=!1,G;for(G in _)if(_.hasOwnProperty(G)){var p=_[G];if(p!=null)switch(G){case"src":O=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(T(137,g));default:Ix(x,g,G,p,_,null)}}l&&Ix(x,g,"srcSet",_.srcSet,_,null),O&&Ix(x,g,"src",_.src,_,null);return;case"input":Yx("invalid",x);var W=G=p=l=null,w=null,o=null;for(O in _)if(_.hasOwnProperty(O)){var v=_[O];if(v!=null)switch(O){case"name":l=v;break;case"type":p=v;break;case"checked":w=v;break;case"defaultChecked":o=v;break;case"value":G=v;break;case"defaultValue":W=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(T(137,g));break;default:Ix(x,g,O,v,_,null)}}N2(x,G,W,w,o,p,l,!1),VG(x);return;case"select":Yx("invalid",x),O=p=G=null;for(l in _)if(_.hasOwnProperty(l)&&(W=_[l],W!=null))switch(l){case"value":G=W;break;case"defaultValue":p=W;break;case"multiple":O=W;default:Ix(x,g,l,W,_,null)}g=G,_=p,x.multiple=!!O,g!=null?M8(x,!!O,g,!1):_!=null&&M8(x,!!O,_,!0);return;case"textarea":Yx("invalid",x),G=l=O=null;for(p in _)if(_.hasOwnProperty(p)&&(W=_[p],W!=null))switch(p){case"value":O=W;break;case"defaultValue":l=W;break;case"children":G=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(T(91));break;default:Ix(x,g,p,W,_,null)}d2(x,O,l,G),VG(x);return;case"option":for(w in _)if(_.hasOwnProperty(w)&&(O=_[w],O!=null))switch(w){case"selected":x.selected=O&&typeof O!=="function"&&typeof O!=="symbol";break;default:Ix(x,g,w,O,_,null)}return;case"dialog":Yx("cancel",x),Yx("close",x);break;case"iframe":case"object":Yx("load",x);break;case"video":case"audio":for(O=0;O<A7.length;O++)Yx(A7[O],x);break;case"image":Yx("error",x),Yx("load",x);break;case"details":Yx("toggle",x);break;case"embed":case"source":case"link":Yx("error",x),Yx("load",x);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(o in _)if(_.hasOwnProperty(o)&&(O=_[o],O!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(T(137,g));default:Ix(x,g,o,O,_,null)}return;default:if(Qw(g)){for(v in _)_.hasOwnProperty(v)&&(O=_[v],O!==void 0&&Lw(x,g,v,O,_,void 0));return}}for(W in _)_.hasOwnProperty(W)&&(O=_[W],O!=null&&Ix(x,g,W,O,_,null))}function Dm(x,g,_,O){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,G=null,p=null,W=null,w=null,o=null,v=null;for(C in _){var N=_[C];if(_.hasOwnProperty(C)&&N!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":w=N;default:O.hasOwnProperty(C)||Ix(x,g,C,null,O,N)}}for(var k in O){var C=O[k];if(N=_[k],O.hasOwnProperty(k)&&(C!=null||N!=null))switch(k){case"type":G=C;break;case"name":l=C;break;case"checked":o=C;break;case"defaultChecked":v=C;break;case"value":p=C;break;case"defaultValue":W=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(T(137,g));break;default:C!==N&&Ix(x,g,k,C,O,N)}}io(x,p,W,w,o,v,G,l);return;case"select":C=p=W=k=null;for(G in _)if(w=_[G],_.hasOwnProperty(G)&&w!=null)switch(G){case"value":break;case"multiple":C=w;default:O.hasOwnProperty(G)||Ix(x,g,G,null,O,w)}for(l in O)if(G=O[l],w=_[l],O.hasOwnProperty(l)&&(G!=null||w!=null))switch(l){case"value":k=G;break;case"defaultValue":W=G;break;case"multiple":p=G;default:G!==w&&Ix(x,g,l,G,O,w)}g=W,_=p,O=C,k!=null?M8(x,!!_,k,!1):!!O!==!!_&&(g!=null?M8(x,!!_,g,!0):M8(x,!!_,_?[]:"",!1));return;case"textarea":C=k=null;for(W in _)if(l=_[W],_.hasOwnProperty(W)&&l!=null&&!O.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:Ix(x,g,W,null,O,l)}for(p in O)if(l=O[p],G=_[p],O.hasOwnProperty(p)&&(l!=null||G!=null))switch(p){case"value":k=l;break;case"defaultValue":C=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(T(91));break;default:l!==G&&Ix(x,g,p,l,O,G)}k2(x,k,C);return;case"option":for(var c in _)if(k=_[c],_.hasOwnProperty(c)&&k!=null&&!O.hasOwnProperty(c))switch(c){case"selected":x.selected=!1;break;default:Ix(x,g,c,null,O,k)}for(w in O)if(k=O[w],C=_[w],O.hasOwnProperty(w)&&k!==C&&(k!=null||C!=null))switch(w){case"selected":x.selected=k&&typeof k!=="function"&&typeof k!=="symbol";break;default:Ix(x,g,w,k,O,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in _)k=_[m],_.hasOwnProperty(m)&&k!=null&&!O.hasOwnProperty(m)&&Ix(x,g,m,null,O,k);for(o in O)if(k=O[o],C=_[o],O.hasOwnProperty(o)&&k!==C&&(k!=null||C!=null))switch(o){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(T(137,g));break;default:Ix(x,g,o,k,O,C)}return;default:if(Qw(g)){for(var b in _)k=_[b],_.hasOwnProperty(b)&&k!==void 0&&!O.hasOwnProperty(b)&&Lw(x,g,b,void 0,O,k);for(v in O)k=O[v],C=_[v],!O.hasOwnProperty(v)||k===C||k===void 0&&C===void 0||Lw(x,g,v,k,O,C);return}}for(var f in _)k=_[f],_.hasOwnProperty(f)&&k!=null&&!O.hasOwnProperty(f)&&Ix(x,g,f,null,O,k);for(N in O)k=O[N],C=_[N],!O.hasOwnProperty(N)||k===C||k==null&&C==null||Ix(x,g,N,k,O,C)}var Xw=null,Fw=null;function BG(x){return x.nodeType===9?x:x.ownerDocument}function ZN(x){switch(x){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vk(x,g){if(x===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return x===1&&g==="foreignObject"?0:x}function Aw(x,g){return x==="textarea"||x==="noscript"||typeof g.children==="string"||typeof g.children==="number"||typeof g.children==="bigint"||typeof g.dangerouslySetInnerHTML==="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var Do=null;function Qm(){var x=window.event;if(x&&x.type==="popstate"){if(x===Do)return!1;return Do=x,!0}return Do=null,!1}var yk=typeof setTimeout==="function"?setTimeout:void 0,am=typeof clearTimeout==="function"?clearTimeout:void 0,jN=typeof Promise==="function"?Promise:void 0,Em=typeof queueMicrotask==="function"?queueMicrotask:typeof jN!=="undefined"?function(x){return jN.resolve(null).then(x).catch(nm)}:yk;function nm(x){setTimeout(function(){throw x})}function Qo(x,g){var _=g,O=0;do{var l=_.nextSibling;if(x.removeChild(_),l&&l.nodeType===8)if(_=l.data,_==="/$"){if(O===0){x.removeChild(l),r7(g);return}O--}else _!=="$"&&_!=="$?"&&_!=="$!"||O++;_=l}while(_);r7(g)}function uw(x){var g=x.firstChild;g&&g.nodeType===10&&(g=g.nextSibling);for(;g;){var _=g;switch(g=g.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":uw(_),Dw(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}x.removeChild(_)}}function $m(x,g,_,O){for(;x.nodeType===1;){var l=_;if(x.nodeName.toLowerCase()!==g.toLowerCase()){if(!O&&(x.nodeName!=="INPUT"||x.type!=="hidden"))break}else if(!O)if(g==="input"&&x.type==="hidden"){var G=l.name==null?null:""+l.name;if(l.type==="hidden"&&x.getAttribute("name")===G)return x}else return x;else if(!x[b7])switch(g){case"meta":if(!x.hasAttribute("itemprop"))break;return x;case"link":if(G=x.getAttribute("rel"),G==="stylesheet"&&x.hasAttribute("data-precedence"))break;else if(G!==l.rel||x.getAttribute("href")!==(l.href==null?null:l.href)||x.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||x.getAttribute("title")!==(l.title==null?null:l.title))break;return x;case"style":if(x.hasAttribute("data-precedence"))break;return x;case"script":if(G=x.getAttribute("src"),(G!==(l.src==null?null:l.src)||x.getAttribute("type")!==(l.type==null?null:l.type)||x.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&G&&x.hasAttribute("async")&&!x.hasAttribute("itemprop"))break;return x;default:return x}if(x=Ig(x.nextSibling),x===null)break}return null}function Bm(x,g,_){if(g==="")return null;for(;x.nodeType!==3;){if((x.nodeType!==1||x.nodeName!=="INPUT"||x.type!=="hidden")&&!_)return null;if(x=Ig(x.nextSibling),x===null)return null}return x}function Ig(x){for(;x!=null;x=x.nextSibling){var g=x.nodeType;if(g===1||g===3)break;if(g===8){if(g=x.data,g==="$"||g==="$!"||g==="$?"||g==="F!"||g==="F")break;if(g==="/$")return null}}return x}function rN(x){x=x.previousSibling;for(var g=0;x;){if(x.nodeType===8){var _=x.data;if(_==="$"||_==="$!"||_==="$?"){if(g===0)return x;g--}else _==="/$"&&g++}x=x.previousSibling}return null}function Nk(x,g,_){switch(g=BG(_),x){case"html":if(x=g.documentElement,!x)throw Error(T(452));return x;case"head":if(x=g.head,!x)throw Error(T(453));return x;case"body":if(x=g.body,!x)throw Error(T(454));return x;default:throw Error(T(451))}}var cg=new Map,UN=new Set;function HG(x){return typeof x.getRootNode==="function"?x.getRootNode():x.ownerDocument}var r_=$x.d;$x.d={f:Hm,r:Pm,D:Jm,C:im,L:Rm,m:Tm,X:tm,S:sm,M:em};function Hm(){var x=r_.f(),g=pp();return x||g}function Pm(x){var g=r8(x);g!==null&&g.tag===5&&g.type==="form"?N1(g):r_.r(x)}var D8=typeof document==="undefined"?null:document;function kk(x,g,_){var O=D8;if(O&&typeof g==="string"&&g){var l=Cg(g);l='link[rel="'+x+'"][href="'+l+'"]',typeof _==="string"&&(l+='[crossorigin="'+_+'"]'),UN.has(l)||(UN.add(l),x={rel:x,crossOrigin:_,href:g},O.querySelector(l)===null&&(g=O.createElement("link"),K0(g,"link",x),f0(g),O.head.appendChild(g)))}}function Jm(x){r_.D(x),kk("dns-prefetch",x,null)}function im(x,g){r_.C(x,g),kk("preconnect",x,g)}function Rm(x,g,_){r_.L(x,g,_);var O=D8;if(O&&x&&g){var l='link[rel="preload"][as="'+Cg(g)+'"]';g==="image"?_&&_.imageSrcSet?(l+='[imagesrcset="'+Cg(_.imageSrcSet)+'"]',typeof _.imageSizes==="string"&&(l+='[imagesizes="'+Cg(_.imageSizes)+'"]')):l+='[href="'+Cg(x)+'"]':l+='[href="'+Cg(x)+'"]';var G=l;switch(g){case"style":G=I8(x);break;case"script":G=Q8(x)}cg.has(G)||(x=Bx({rel:"preload",href:g==="image"&&_&&_.imageSrcSet?void 0:x,as:g},_),cg.set(G,x),O.querySelector(l)!==null||g==="style"&&O.querySelector(J7(G))||g==="script"&&O.querySelector(i7(G))||(g=O.createElement("link"),K0(g,"link",x),f0(g),O.head.appendChild(g)))}}function Tm(x,g){r_.m(x,g);var _=D8;if(_&&x){var O=g&&typeof g.as==="string"?g.as:"script",l='link[rel="modulepreload"][as="'+Cg(O)+'"][href="'+Cg(x)+'"]',G=l;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":G=Q8(x)}if(!cg.has(G)&&(x=Bx({rel:"modulepreload",href:x},g),cg.set(G,x),_.querySelector(l)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(i7(G)))return}O=_.createElement("link"),K0(O,"link",x),f0(O),_.head.appendChild(O)}}}function sm(x,g,_){r_.S(x,g,_);var O=D8;if(O&&x){var l=q8(O).hoistableStyles,G=I8(x);g=g||"default";var p=l.get(G);if(!p){var W={loading:0,preload:null};if(p=O.querySelector(J7(G)))W.loading=5;else{x=Bx({rel:"stylesheet",href:x,"data-precedence":g},_),(_=cg.get(G))&&cz(x,_);var w=p=O.createElement("link");f0(w),K0(w,"link",x),w._p=new Promise(function(o,v){w.onload=o,w.onerror=v}),w.addEventListener("load",function(){W.loading|=1}),w.addEventListener("error",function(){W.loading|=2}),W.loading|=4,YG(p,g,O)}p={type:"stylesheet",instance:p,count:1,state:W},l.set(G,p)}}}function tm(x,g){r_.X(x,g);var _=D8;if(_&&x){var O=q8(_).hoistableScripts,l=Q8(x),G=O.get(l);G||(G=_.querySelector(i7(l)),G||(x=Bx({src:x,async:!0},g),(g=cg.get(l))&&mz(x,g),G=_.createElement("script"),f0(G),K0(G,"link",x),_.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},O.set(l,G))}}function em(x,g){r_.M(x,g);var _=D8;if(_&&x){var O=q8(_).hoistableScripts,l=Q8(x),G=O.get(l);G||(G=_.querySelector(i7(l)),G||(x=Bx({src:x,async:!0,type:"module"},g),(g=cg.get(l))&&mz(x,g),G=_.createElement("script"),f0(G),K0(G,"link",x),_.head.appendChild(G)),G={type:"script",instance:G,count:1,state:null},O.set(l,G))}}function DN(x,g,_,O){var l=(l=dO.current)?HG(l):null;if(!l)throw Error(T(446));switch(x){case"meta":case"title":return null;case"style":return typeof _.precedence==="string"&&typeof _.href==="string"?(g=I8(_.href),_=q8(l).hoistableStyles,O=_.get(g),O||(O={type:"style",instance:null,count:0,state:null},_.set(g,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href==="string"&&typeof _.precedence==="string"){x=I8(_.href);var G=q8(l).hoistableStyles,p=G.get(x);if(p||(l=l.ownerDocument||l,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},G.set(x,p),(G=l.querySelector(J7(x)))&&!G._p&&(p.instance=G,p.state.loading=5),cg.has(x)||(_={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy},cg.set(x,_),G||xb(l,x,_,p.state))),g&&O===null)throw Error(T(528,""));return p}if(g&&O!==null)throw Error(T(529,""));return null;case"script":return g=_.async,_=_.src,typeof _==="string"&&g&&typeof g!=="function"&&typeof g!=="symbol"?(g=Q8(_),_=q8(l).hoistableScripts,O=_.get(g),O||(O={type:"script",instance:null,count:0,state:null},_.set(g,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(T(444,x))}}function I8(x){return'href="'+Cg(x)+'"'}function J7(x){return'link[rel="stylesheet"]['+x+"]"}function dk(x){return Bx({},x,{"data-precedence":x.precedence,precedence:null})}function xb(x,g,_,O){x.querySelector('link[rel="preload"][as="style"]['+g+"]")?O.loading=1:(g=x.createElement("link"),O.preload=g,g.addEventListener("load",function(){return O.loading|=1}),g.addEventListener("error",function(){return O.loading|=2}),K0(g,"link",_),f0(g),x.head.appendChild(g))}function Q8(x){return'[src="'+Cg(x)+'"]'}function i7(x){return"script[async]"+x}function QN(x,g,_){if(g.count++,g.instance===null)switch(g.type){case"style":var O=x.querySelector('style[data-href~="'+Cg(_.href)+'"]');if(O)return g.instance=O,f0(O),O;var l=Bx({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return O=(x.ownerDocument||x).createElement("style"),f0(O),K0(O,"style",l),YG(O,_.precedence,x),g.instance=O;case"stylesheet":l=I8(_.href);var G=x.querySelector(J7(l));if(G)return g.state.loading|=4,g.instance=G,f0(G),G;O=dk(_),(l=cg.get(l))&&cz(O,l),G=(x.ownerDocument||x).createElement("link"),f0(G);var p=G;return p._p=new Promise(function(W,w){p.onload=W,p.onerror=w}),K0(G,"link",O),g.state.loading|=4,YG(G,_.precedence,x),g.instance=G;case"script":if(G=Q8(_.src),l=x.querySelector(i7(G)))return g.instance=l,f0(l),l;if(O=_,l=cg.get(G))O=Bx({},_),mz(O,l);return x=x.ownerDocument||x,l=x.createElement("script"),f0(l),K0(l,"link",O),x.head.appendChild(l),g.instance=l;case"void":return null;default:throw Error(T(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(O=g.instance,g.state.loading|=4,YG(O,_.precedence,x));return g.instance}function YG(x,g,_){for(var O=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=O.length?O[O.length-1]:null,G=l,p=0;p<O.length;p++){var W=O[p];if(W.dataset.precedence===g)G=W;else if(G!==l)break}G?G.parentNode.insertBefore(x,G.nextSibling):(g=_.nodeType===9?_.head:_,g.insertBefore(x,g.firstChild))}function cz(x,g){x.crossOrigin==null&&(x.crossOrigin=g.crossOrigin),x.referrerPolicy==null&&(x.referrerPolicy=g.referrerPolicy),x.title==null&&(x.title=g.title)}function mz(x,g){x.crossOrigin==null&&(x.crossOrigin=g.crossOrigin),x.referrerPolicy==null&&(x.referrerPolicy=g.referrerPolicy),x.integrity==null&&(x.integrity=g.integrity)}var fG=null;function aN(x,g,_){if(fG===null){var O=new Map,l=fG=new Map;l.set(_,O)}else l=fG,O=l.get(_),O||(O=new Map,l.set(_,O));if(O.has(x))return O;O.set(x,null),_=_.getElementsByTagName(x);for(l=0;l<_.length;l++){var G=_[l];if(!(G[b7]||G[X0]||x==="link"&&G.getAttribute("rel")==="stylesheet")&&G.namespaceURI!=="http://www.w3.org/2000/svg"){var p=G.getAttribute(g)||"";p=x+p;var W=O.get(p);W?W.push(G):O.set(p,[G])}}return O}function EN(x,g,_){x=x.ownerDocument||x,x.head.insertBefore(_,g==="title"?x.querySelector("head > title"):null)}function gb(x,g,_){if(_===1||g.itemProp!=null)return!1;switch(x){case"meta":case"title":return!0;case"style":if(typeof g.precedence!=="string"||typeof g.href!=="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!=="string"||typeof g.href!=="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return x=g.disabled,typeof g.precedence==="string"&&x==null;default:return!0}case"script":if(g.async&&typeof g.async!=="function"&&typeof g.async!=="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src==="string")return!0}return!1}function Ck(x){return x.type==="stylesheet"&&(x.state.loading&3)===0?!1:!0}var S7=null;function _b(){}function Ob(x,g,_){if(S7===null)throw Error(T(475));var O=S7;if(g.type==="stylesheet"&&(typeof _.media!=="string"||matchMedia(_.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var l=I8(_.href),G=x.querySelector(J7(l));if(G){x=G._p,x!==null&&typeof x==="object"&&typeof x.then==="function"&&(O.count++,O=PG.bind(O),x.then(O,O)),g.state.loading|=4,g.instance=G,f0(G);return}G=x.ownerDocument||x,_=dk(_),(l=cg.get(l))&&cz(_,l),G=G.createElement("link"),f0(G);var p=G;p._p=new Promise(function(W,w){p.onload=W,p.onerror=w}),K0(G,"link",_),g.instance=G}O.stylesheets===null&&(O.stylesheets=new Map),O.stylesheets.set(g,x),(x=g.state.preload)&&(g.state.loading&3)===0&&(O.count++,g=PG.bind(O),x.addEventListener("load",g),x.addEventListener("error",g))}}function lb(){if(S7===null)throw Error(T(475));var x=S7;return x.stylesheets&&x.count===0&&Sw(x,x.stylesheets),0<x.count?function(g){var _=setTimeout(function(){if(x.stylesheets&&Sw(x,x.stylesheets),x.unsuspend){var O=x.unsuspend;x.unsuspend=null,O()}},60000);return x.unsuspend=g,function(){x.unsuspend=null,clearTimeout(_)}}:null}function PG(){if(this.count--,this.count===0){if(this.stylesheets)Sw(this,this.stylesheets);else if(this.unsuspend){var x=this.unsuspend;this.unsuspend=null,x()}}}var JG=null;function Sw(x,g){x.stylesheets=null,x.unsuspend!==null&&(x.count++,JG=new Map,g.forEach(Gb,x),JG=null,PG.call(x))}function Gb(x,g){if(!(g.state.loading&4)){var _=JG.get(x);if(_)var O=_.get(null);else{_=new Map,JG.set(x,_);for(var l=x.querySelectorAll("link[data-precedence],style[data-precedence]"),G=0;G<l.length;G++){var p=l[G];if(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")_.set(p.dataset.precedence,p),O=p}O&&_.set(null,O)}l=g.instance,p=l.getAttribute("data-precedence"),G=_.get(p)||O,G===O&&_.set(null,l),_.set(p,l),this.count++,O=PG.bind(this),l.addEventListener("load",O),l.addEventListener("error",O),G?G.parentNode.insertBefore(l,G.nextSibling):(x=x.nodeType===9?x.head:x,x.insertBefore(l,x.firstChild)),g.state.loading|=4}}var I7={$$typeof:V_,Provider:null,Consumer:null,_currentValue:l6,_currentValue2:l6,_threadCount:0};function pb(x,g,_,O,l,G,p,W){this.tag=1,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=No(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.hiddenUpdates=No(null),this.identifierPrefix=O,this.onUncaughtError=l,this.onCaughtError=G,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function qk(x,g,_,O,l,G,p,W,w,o,v,N){return x=new pb(x,g,_,p,W,w,o,N),g=1,G===!0&&(g|=24),G=Mg(3,null,null,g),x.current=G,G.stateNode=x,g=Tw(),g.refCount++,x.pooledCache=g,g.refCount++,G.memoizedState={element:O,isDehydrated:_,cache:g},vz(G),x}function Mk(x){if(!x)return N8;return x=N8,x}function Yk(x,g,_,O,l,G){l=Mk(l),O.context===null?O.context=l:O.pendingContext=l,O=CO(g),O.payload={element:_},G=G===void 0?null:G,G!==null&&(O.callback=G),_=qO(x,O,g),_!==null&&(Z0(_,x,g),d7(_,x,g))}function nN(x,g){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var _=x.retryLane;x.retryLane=_!==0&&_<g?_:g}}function bz(x,g){nN(x,g),(x=x.alternate)&&nN(x,g)}function fk(x){if(x.tag===13){var g=bO(x,67108864);g!==null&&Z0(g,x,67108864),bz(x,67108864)}}var iG=!0;function Wb(x,g,_,O){var l=zx.T;zx.T=null;var G=$x.p;try{$x.p=2,hz(x,g,_,O)}finally{$x.p=G,zx.T=l}}function ob(x,g,_,O){var l=zx.T;zx.T=null;var G=$x.p;try{$x.p=8,hz(x,g,_,O)}finally{$x.p=G,zx.T=l}}function hz(x,g,_,O){if(iG){var l=Iw(O);if(l===null)Uo(x,g,O,RG,_),$N(x,O);else if(zb(l,x,g,_,O))O.stopPropagation();else if($N(x,O),g&4&&-1<wb.indexOf(x)){for(;l!==null;){var G=r8(l);if(G!==null)switch(G.tag){case 3:if(G=G.stateNode,G.current.memoizedState.isDehydrated){var p=tO(G.pendingLanes);if(p!==0){var W=G;W.pendingLanes|=2;for(W.entangledLanes|=2;p;){var w=1<<31-gg(p);W.entanglements[1]|=w,p&=~w}l_(G),(sx&6)===0&&(QG=x_()+500,P7(0,!1))}}break;case 13:W=bO(G,2),W!==null&&Z0(W,G,2),pp(),bz(G,2)}if(G=Iw(O),G===null&&Uo(x,g,O,RG,_),G===l)break;l=G}l!==null&&O.stopPropagation()}else Uo(x,g,O,null,_)}}function Iw(x){return x=aw(x),Kz(x)}var RG=null;function Kz(x){if(RG=null,x=_6(x),x!==null){var g=Z8(x);if(g===null)x=null;else{var _=g.tag;if(_===13){if(x=tN(g),x!==null)return x;x=null}else if(_===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;x=null}else g!==x&&(x=null)}}return RG=x,null}function ck(x){switch(x){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tf()){case x2:return 2;case g2:return 8;case KG:case sf:return 32;case _2:return 268435456;default:return 32}default:return 32}}var Zw=!1,fO=null,cO=null,mO=null,Z7=new Map,j7=new Map,yO=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $N(x,g){switch(x){case"focusin":case"focusout":fO=null;break;case"dragenter":case"dragleave":cO=null;break;case"mouseover":case"mouseout":mO=null;break;case"pointerover":case"pointerout":Z7.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":j7.delete(g.pointerId)}}function sl(x,g,_,O,l,G){if(x===null||x.nativeEvent!==G)return x={blockedOn:g,domEventName:_,eventSystemFlags:O,nativeEvent:G,targetContainers:[l]},g!==null&&(g=r8(g),g!==null&&fk(g)),x;return x.eventSystemFlags|=O,g=x.targetContainers,l!==null&&g.indexOf(l)===-1&&g.push(l),x}function zb(x,g,_,O,l){switch(g){case"focusin":return fO=sl(fO,x,g,_,O,l),!0;case"dragenter":return cO=sl(cO,x,g,_,O,l),!0;case"mouseover":return mO=sl(mO,x,g,_,O,l),!0;case"pointerover":var G=l.pointerId;return Z7.set(G,sl(Z7.get(G)||null,x,g,_,O,l)),!0;case"gotpointercapture":return G=l.pointerId,j7.set(G,sl(j7.get(G)||null,x,g,_,O,l)),!0}return!1}function mk(x){var g=_6(x.target);if(g!==null){var _=Z8(g);if(_!==null){if(g=_.tag,g===13){if(g=tN(_),g!==null){x.blockedOn=g,pc(x.priority,function(){if(_.tag===13){var O=_g(),l=bO(_,O);l!==null&&Z0(l,_,O),bz(_,O)}});return}}else if(g===3&&_.stateNode.current.memoizedState.isDehydrated){x.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}x.blockedOn=null}function cG(x){if(x.blockedOn!==null)return!1;for(var g=x.targetContainers;0<g.length;){var _=Iw(x.nativeEvent);if(_===null){_=x.nativeEvent;var O=new _.constructor(_.type,_);To=O,_.target.dispatchEvent(O),To=null}else return g=r8(_),g!==null&&fk(g),x.blockedOn=_,!1;g.shift()}return!0}function BN(x,g,_){cG(x)&&_.delete(g)}function vb(){Zw=!1,fO!==null&&cG(fO)&&(fO=null),cO!==null&&cG(cO)&&(cO=null),mO!==null&&cG(mO)&&(mO=null),Z7.forEach(BN),j7.forEach(BN)}function WG(x,g){x.blockedOn===g&&(x.blockedOn=null,Zw||(Zw=!0,e6(t6,vb)))}var oG=null;function HN(x){oG!==x&&(oG=x,e6(t6,function(){oG===x&&(oG=null);for(var g=0;g<x.length;g+=3){var _=x[g],O=x[g+1],l=x[g+2];if(typeof O!=="function")if(Kz(O||_)===null)continue;else break;var G=r8(_);G!==null&&(x.splice(g,3),g-=3,pw(G,{pending:!0,data:l,method:_.method,action:O},O,l))}}))}function r7(x){function g(w){return WG(w,x)}fO!==null&&WG(fO,x),cO!==null&&WG(cO,x),mO!==null&&WG(mO,x),Z7.forEach(g),j7.forEach(g);for(var _=0;_<yO.length;_++){var O=yO[_];O.blockedOn===x&&(O.blockedOn=null)}for(;0<yO.length&&(_=yO[0],_.blockedOn===null);)mk(_),_.blockedOn===null&&yO.shift();if(_=(x.ownerDocument||x).$$reactFormReplay,_!=null)for(O=0;O<_.length;O+=3){var l=_[O],G=_[O+1],p=l[n0]||null;if(typeof G==="function")p||HN(_);else if(p){var W=null;if(G&&G.hasAttribute("formAction")){if(l=G,p=G[n0]||null)W=p.formAction;else if(Kz(l)!==null)continue}else W=p.action;typeof W==="function"?_[O+1]=W:(_.splice(O,3),O-=3),HN(_)}}}function Vz(x){this._internalRoot=x}wp.prototype.render=Vz.prototype.render=function(x){var g=this._internalRoot;if(g===null)throw Error(T(409));var _=g.current,O=_g();Yk(_,O,x,g,null,null)};wp.prototype.unmount=Vz.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var g=x.containerInfo;x.tag===0&&h8(),Yk(x.current,2,null,x,null,null),pp(),g[j8]=null}};function wp(x){this._internalRoot=x}wp.prototype.unstable_scheduleHydration=function(x){if(x){var g=o2();x={blockedOn:null,target:x,priority:g};for(var _=0;_<yO.length&&g!==0&&g<yO[_].priority;_++);yO.splice(_,0,x),_===0&&mk(x)}};var PN=oo;if(PN!=="19.0.0")throw Error(T(527,PN,"19.0.0"));$x.findDOMNode=function(x){var g=x._reactInternals;if(g===void 0){if(typeof x.render==="function")throw Error(T(188));throw x=Object.keys(x).join(","),Error(T(268,x))}return x=Pf(g),x=x!==null?eN(x):null,x=x===null?null:x.stateNode,x};var yb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:zx,findFiberByHostInstance:_6,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"){if(G8=__REACT_DEVTOOLS_GLOBAL_HOOK__,!G8.isDisabled&&G8.supportsFiber)try{U7=G8.inject(yb),xg=G8}catch(x){}}var G8;Nb.createRoot=function(x,g){if(!iN(x))throw Error(T(299));var _=!1,O="",l=Y1,G=f1,p=c1,W=null;return g!==null&&g!==void 0&&(g.unstable_strictMode===!0&&(_=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onUncaughtError!==void 0&&(l=g.onUncaughtError),g.onCaughtError!==void 0&&(G=g.onCaughtError),g.onRecoverableError!==void 0&&(p=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(W=g.unstable_transitionCallbacks)),g=qk(x,1,!1,null,null,_,O,l,G,p,W,null),x[j8]=g.current,fz(x.nodeType===8?x.parentNode:x),new Vz(g)};Nb.hydrateRoot=function(x,g,_){if(!iN(x))throw Error(T(299));var O=!1,l="",G=Y1,p=f1,W=c1,w=null,o=null;return _!==null&&_!==void 0&&(_.unstable_strictMode===!0&&(O=!0),_.identifierPrefix!==void 0&&(l=_.identifierPrefix),_.onUncaughtError!==void 0&&(G=_.onUncaughtError),_.onCaughtError!==void 0&&(p=_.onCaughtError),_.onRecoverableError!==void 0&&(W=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(w=_.unstable_transitionCallbacks),_.formState!==void 0&&(o=_.formState)),g=qk(x,1,!0,g,_!=null?_:null,O,l,G,p,W,w,o),g.context=Mk(null),_=g.current,O=_g(),l=CO(O),l.callback=null,qO(_,l,O),g.current.lanes=O,Q7(g,O),l_(g),x[j8]=g.current,fz(x),new wp(g)};Nb.version="19.0.0"});var Vk=px((DA,Kk)=>{function hk(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=="function")return;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hk)}catch(x){console.error(x)}}hk(),Kk.exports=bk()});var Iz={};Yf(Iz,{default:()=>ak});var cb,yp,mb,bb,hb,Kb,Vb=(x,g)=>()=>(x&&(g=x(x=0)),g),Lx=(x,g)=>()=>(g||x((g={exports:{}}).exports,g),g.exports),Ak=(x,g)=>{for(var _ in g)yp(x,_,{get:g[_],enumerable:!0})},zp=(x,g,_,O)=>{if(g&&typeof g=="object"||typeof g=="function")for(let l of bb(g))!Kb.call(x,l)&&l!==_&&yp(x,l,{get:()=>g[l],enumerable:!(O=mb(g,l))||O.enumerable});return x},uk=(x,g,_)=>(zp(x,g,"default"),_&&zp(_,g,"default")),vp=(x,g,_)=>(_=x!=null?cb(hb(x)):{},zp(g||!x||!x.__esModule?yp(_,"default",{value:x,enumerable:!0}):_,x)),c6=(x)=>zp(yp({},"__esModule",{value:!0}),x),Lb,Xb,FO,C0,U_,Lz,B0,Np,Fk,Q_,Sk,m6,b6,h6,Fb,a8,Xz,Fz,Az,Ab,uz,ub,Sb,Ik,kp,Zk,Ib,D_,jk,rk,Sz,Zb,Uk,jb,Dk,Qk,ak;var Zz=BW(()=>{cb=Object.create,yp=Object.defineProperty,mb=Object.getOwnPropertyDescriptor,bb=Object.getOwnPropertyNames,hb=Object.getPrototypeOf,Kb=Object.prototype.hasOwnProperty,Lb=Lx((x)=>{x.byteLength=w,x.toByteArray=v,x.fromByteArray=C;var g=[],_=[],O=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(G=0,p=l.length;G<p;++G)g[G]=l[G],_[l.charCodeAt(G)]=G;var G,p;_[45]=62,_[95]=63;function W(c){var m=c.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=c.indexOf("=");b===-1&&(b=m);var f=b===m?0:4-b%4;return[b,f]}function w(c){var m=W(c),b=m[0],f=m[1];return(b+f)*3/4-f}function o(c,m,b){return(m+b)*3/4-b}function v(c){var m,b=W(c),f=b[0],d=b[1],M=new O(o(c,f,d)),Y=0,K=d>0?f-4:f,h;for(h=0;h<K;h+=4)m=_[c.charCodeAt(h)]<<18|_[c.charCodeAt(h+1)]<<12|_[c.charCodeAt(h+2)]<<6|_[c.charCodeAt(h+3)],M[Y++]=m>>16&255,M[Y++]=m>>8&255,M[Y++]=m&255;return d===2&&(m=_[c.charCodeAt(h)]<<2|_[c.charCodeAt(h+1)]>>4,M[Y++]=m&255),d===1&&(m=_[c.charCodeAt(h)]<<10|_[c.charCodeAt(h+1)]<<4|_[c.charCodeAt(h+2)]>>2,M[Y++]=m>>8&255,M[Y++]=m&255),M}function N(c){return g[c>>18&63]+g[c>>12&63]+g[c>>6&63]+g[c&63]}function k(c,m,b){for(var f,d=[],M=m;M<b;M+=3)f=(c[M]<<16&16711680)+(c[M+1]<<8&65280)+(c[M+2]&255),d.push(N(f));return d.join("")}function C(c){for(var m,b=c.length,f=b%3,d=[],M=16383,Y=0,K=b-f;Y<K;Y+=M)d.push(k(c,Y,Y+M>K?K:Y+M));return f===1?(m=c[b-1],d.push(g[m>>2]+g[m<<4&63]+"==")):f===2&&(m=(c[b-2]<<8)+c[b-1],d.push(g[m>>10]+g[m>>4&63]+g[m<<2&63]+"=")),d.join("")}}),Xb=Lx((x)=>{x.read=function(g,_,O,l,G){var p,W,w=G*8-l-1,o=(1<<w)-1,v=o>>1,N=-7,k=O?G-1:0,C=O?-1:1,c=g[_+k];for(k+=C,p=c&(1<<-N)-1,c>>=-N,N+=w;N>0;p=p*256+g[_+k],k+=C,N-=8);for(W=p&(1<<-N)-1,p>>=-N,N+=l;N>0;W=W*256+g[_+k],k+=C,N-=8);if(p===0)p=1-v;else{if(p===o)return W?NaN:(c?-1:1)*(1/0);W=W+Math.pow(2,l),p=p-v}return(c?-1:1)*W*Math.pow(2,p-l)},x.write=function(g,_,O,l,G,p){var W,w,o,v=p*8-G-1,N=(1<<v)-1,k=N>>1,C=G===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=l?0:p-1,m=l?1:-1,b=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(w=isNaN(_)?1:0,W=N):(W=Math.floor(Math.log(_)/Math.LN2),_*(o=Math.pow(2,-W))<1&&(W--,o*=2),W+k>=1?_+=C/o:_+=C*Math.pow(2,1-k),_*o>=2&&(W++,o/=2),W+k>=N?(w=0,W=N):W+k>=1?(w=(_*o-1)*Math.pow(2,G),W=W+k):(w=_*Math.pow(2,k-1)*Math.pow(2,G),W=0));G>=8;g[O+c]=w&255,c+=m,w/=256,G-=8);for(W=W<<G|w,v+=G;v>0;g[O+c]=W&255,c+=m,W/=256,v-=8);g[O+c-m]|=b*128}}),FO=Lx((x)=>{var g=Lb(),_=Xb(),O=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;x.Buffer=W,x.SlowBuffer=d,x.INSPECT_MAX_BYTES=50;var l=2147483647;x.kMaxLength=l,W.TYPED_ARRAY_SUPPORT=G(),!W.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function G(){try{let z=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(z,y),z.foo()===42}catch{return!1}}Object.defineProperty(W.prototype,"parent",{enumerable:!0,get:function(){if(W.isBuffer(this))return this.buffer}}),Object.defineProperty(W.prototype,"offset",{enumerable:!0,get:function(){if(W.isBuffer(this))return this.byteOffset}});function p(z){if(z>l)throw new RangeError('The value "'+z+'" is invalid for option "size"');let y=new Uint8Array(z);return Object.setPrototypeOf(y,W.prototype),y}function W(z,y,q){if(typeof z=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(z)}return w(z,y,q)}W.poolSize=8192;function w(z,y,q){if(typeof z=="string")return k(z,y);if(ArrayBuffer.isView(z))return c(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(Fx(z,ArrayBuffer)||z&&Fx(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fx(z,SharedArrayBuffer)||z&&Fx(z.buffer,SharedArrayBuffer)))return m(z,y,q);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let X=z.valueOf&&z.valueOf();if(X!=null&&X!==z)return W.from(X,y,q);let S=b(z);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return W.from(z[Symbol.toPrimitive]("string"),y,q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}W.from=function(z,y,q){return w(z,y,q)},Object.setPrototypeOf(W.prototype,Uint8Array.prototype),Object.setPrototypeOf(W,Uint8Array);function o(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function v(z,y,q){return o(z),z<=0?p(z):y!==void 0?typeof q=="string"?p(z).fill(y,q):p(z).fill(y):p(z)}W.alloc=function(z,y,q){return v(z,y,q)};function N(z){return o(z),p(z<0?0:f(z)|0)}W.allocUnsafe=function(z){return N(z)},W.allocUnsafeSlow=function(z){return N(z)};function k(z,y){if((typeof y!="string"||y==="")&&(y="utf8"),!W.isEncoding(y))throw new TypeError("Unknown encoding: "+y);let q=M(z,y)|0,X=p(q),S=X.write(z,y);return S!==q&&(X=X.slice(0,S)),X}function C(z){let y=z.length<0?0:f(z.length)|0,q=p(y);for(let X=0;X<y;X+=1)q[X]=z[X]&255;return q}function c(z){if(Fx(z,Uint8Array)){let y=new Uint8Array(z);return m(y.buffer,y.byteOffset,y.byteLength)}return C(z)}function m(z,y,q){if(y<0||z.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<y+(q||0))throw new RangeError('"length" is outside of buffer bounds');let X;return y===void 0&&q===void 0?X=new Uint8Array(z):q===void 0?X=new Uint8Array(z,y):X=new Uint8Array(z,y,q),Object.setPrototypeOf(X,W.prototype),X}function b(z){if(W.isBuffer(z)){let y=f(z.length)|0,q=p(y);return q.length===0||z.copy(q,0,0,y),q}if(z.length!==void 0)return typeof z.length!="number"||a0(z.length)?p(0):C(z);if(z.type==="Buffer"&&Array.isArray(z.data))return C(z.data)}function f(z){if(z>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return z|0}function d(z){return+z!=z&&(z=0),W.alloc(+z)}W.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==W.prototype},W.compare=function(z,y){if(Fx(z,Uint8Array)&&(z=W.from(z,z.offset,z.byteLength)),Fx(y,Uint8Array)&&(y=W.from(y,y.offset,y.byteLength)),!W.isBuffer(z)||!W.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===y)return 0;let q=z.length,X=y.length;for(let S=0,n=Math.min(q,X);S<n;++S)if(z[S]!==y[S]){q=z[S],X=y[S];break}return q<X?-1:X<q?1:0},W.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},W.concat=function(z,y){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return W.alloc(0);let q;if(y===void 0)for(y=0,q=0;q<z.length;++q)y+=z[q].length;let X=W.allocUnsafe(y),S=0;for(q=0;q<z.length;++q){let n=z[q];if(Fx(n,Uint8Array))S+n.length>X.length?(W.isBuffer(n)||(n=W.from(n)),n.copy(X,S)):Uint8Array.prototype.set.call(X,n,S);else if(W.isBuffer(n))n.copy(X,S);else throw new TypeError('"list" argument must be an Array of Buffers');S+=n.length}return X};function M(z,y){if(W.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||Fx(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);let q=z.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&q===0)return 0;let S=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return $(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q*2;case"hex":return q>>>1;case"base64":return bx(z).length;default:if(S)return X?-1:$(z).length;y=(""+y).toLowerCase(),S=!0}}W.byteLength=M;function Y(z,y,q){let X=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((q===void 0||q>this.length)&&(q=this.length),q<=0)||(q>>>=0,y>>>=0,q<=y))return"";for(z||(z="utf8");;)switch(z){case"hex":return lx(this,y,q);case"utf8":case"utf-8":return s(this,y,q);case"ascii":return P(this,y,q);case"latin1":case"binary":return i(this,y,q);case"base64":return a(this,y,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,y,q);default:if(X)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),X=!0}}W.prototype._isBuffer=!0;function K(z,y,q){let X=z[y];z[y]=z[q],z[q]=X}W.prototype.swap16=function(){let z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y=0;y<z;y+=2)K(this,y,y+1);return this},W.prototype.swap32=function(){let z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<z;y+=4)K(this,y,y+3),K(this,y+1,y+2);return this},W.prototype.swap64=function(){let z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y=0;y<z;y+=8)K(this,y,y+7),K(this,y+1,y+6),K(this,y+2,y+5),K(this,y+3,y+4);return this},W.prototype.toString=function(){let z=this.length;return z===0?"":arguments.length===0?s(this,0,z):Y.apply(this,arguments)},W.prototype.toLocaleString=W.prototype.toString,W.prototype.equals=function(z){if(!W.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:W.compare(this,z)===0},W.prototype.inspect=function(){let z="",y=x.INSPECT_MAX_BYTES;return z=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(z+=" ... "),"<Buffer "+z+">"},O&&(W.prototype[O]=W.prototype.inspect),W.prototype.compare=function(z,y,q,X,S){if(Fx(z,Uint8Array)&&(z=W.from(z,z.offset,z.byteLength)),!W.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(y===void 0&&(y=0),q===void 0&&(q=z?z.length:0),X===void 0&&(X=0),S===void 0&&(S=this.length),y<0||q>z.length||X<0||S>this.length)throw new RangeError("out of range index");if(X>=S&&y>=q)return 0;if(X>=S)return-1;if(y>=q)return 1;if(y>>>=0,q>>>=0,X>>>=0,S>>>=0,this===z)return 0;let n=S-X,t=q-y,cx=Math.min(n,t),w0=this.slice(X,S),Ux=z.slice(y,q);for(let ux=0;ux<cx;++ux)if(w0[ux]!==Ux[ux]){n=w0[ux],t=Ux[ux];break}return n<t?-1:t<n?1:0};function h(z,y,q,X,S){if(z.length===0)return-1;if(typeof q=="string"?(X=q,q=0):q>2147483647?q=2147483647:q<-2147483648&&(q=-2147483648),q=+q,a0(q)&&(q=S?0:z.length-1),q<0&&(q=z.length+q),q>=z.length){if(S)return-1;q=z.length-1}else if(q<0)if(S)q=0;else return-1;if(typeof y=="string"&&(y=W.from(y,X)),W.isBuffer(y))return y.length===0?-1:V(z,y,q,X,S);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(z,y,q):Uint8Array.prototype.lastIndexOf.call(z,y,q):V(z,[y],q,X,S);throw new TypeError("val must be string, number or Buffer")}function V(z,y,q,X,S){let n=1,t=z.length,cx=y.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(z.length<2||y.length<2)return-1;n=2,t/=2,cx/=2,q/=2}function w0(ux,Rx){return n===1?ux[Rx]:ux.readUInt16BE(Rx*n)}let Ux;if(S){let ux=-1;for(Ux=q;Ux<t;Ux++)if(w0(z,Ux)===w0(y,ux===-1?0:Ux-ux)){if(ux===-1&&(ux=Ux),Ux-ux+1===cx)return ux*n}else ux!==-1&&(Ux-=Ux-ux),ux=-1}else for(q+cx>t&&(q=t-cx),Ux=q;Ux>=0;Ux--){let ux=!0;for(let Rx=0;Rx<cx;Rx++)if(w0(z,Ux+Rx)!==w0(y,Rx)){ux=!1;break}if(ux)return Ux}return-1}W.prototype.includes=function(z,y,q){return this.indexOf(z,y,q)!==-1},W.prototype.indexOf=function(z,y,q){return h(this,z,y,q,!0)},W.prototype.lastIndexOf=function(z,y,q){return h(this,z,y,q,!1)};function F(z,y,q,X){q=Number(q)||0;let S=z.length-q;X?(X=Number(X),X>S&&(X=S)):X=S;let n=y.length;X>n/2&&(X=n/2);let t;for(t=0;t<X;++t){let cx=parseInt(y.substr(t*2,2),16);if(a0(cx))return t;z[q+t]=cx}return t}function D(z,y,q,X){return vx($(y,z.length-q),z,q,X)}function U(z,y,q,X){return vx(xx(y),z,q,X)}function Q(z,y,q,X){return vx(bx(y),z,q,X)}function L(z,y,q,X){return vx(gx(y,z.length-q),z,q,X)}W.prototype.write=function(z,y,q,X){if(y===void 0)X="utf8",q=this.length,y=0;else if(q===void 0&&typeof y=="string")X=y,q=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(q)?(q=q>>>0,X===void 0&&(X="utf8")):(X=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let S=this.length-y;if((q===void 0||q>S)&&(q=S),z.length>0&&(q<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");X||(X="utf8");let n=!1;for(;;)switch(X){case"hex":return F(this,z,y,q);case"utf8":case"utf-8":return D(this,z,y,q);case"ascii":case"latin1":case"binary":return U(this,z,y,q);case"base64":return Q(this,z,y,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,z,y,q);default:if(n)throw new TypeError("Unknown encoding: "+X);X=(""+X).toLowerCase(),n=!0}},W.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function a(z,y,q){return y===0&&q===z.length?g.fromByteArray(z):g.fromByteArray(z.slice(y,q))}function s(z,y,q){q=Math.min(z.length,q);let X=[],S=y;for(;S<q;){let n=z[S],t=null,cx=n>239?4:n>223?3:n>191?2:1;if(S+cx<=q){let w0,Ux,ux,Rx;switch(cx){case 1:n<128&&(t=n);break;case 2:w0=z[S+1],(w0&192)===128&&(Rx=(n&31)<<6|w0&63,Rx>127&&(t=Rx));break;case 3:w0=z[S+1],Ux=z[S+2],(w0&192)===128&&(Ux&192)===128&&(Rx=(n&15)<<12|(w0&63)<<6|Ux&63,Rx>2047&&(Rx<55296||Rx>57343)&&(t=Rx));break;case 4:w0=z[S+1],Ux=z[S+2],ux=z[S+3],(w0&192)===128&&(Ux&192)===128&&(ux&192)===128&&(Rx=(n&15)<<18|(w0&63)<<12|(Ux&63)<<6|ux&63,Rx>65535&&Rx<1114112&&(t=Rx))}}t===null?(t=65533,cx=1):t>65535&&(t-=65536,X.push(t>>>10&1023|55296),t=56320|t&1023),X.push(t),S+=cx}return B(X)}var u=4096;function B(z){let y=z.length;if(y<=u)return String.fromCharCode.apply(String,z);let q="",X=0;for(;X<y;)q+=String.fromCharCode.apply(String,z.slice(X,X+=u));return q}function P(z,y,q){let X="";q=Math.min(z.length,q);for(let S=y;S<q;++S)X+=String.fromCharCode(z[S]&127);return X}function i(z,y,q){let X="";q=Math.min(z.length,q);for(let S=y;S<q;++S)X+=String.fromCharCode(z[S]);return X}function lx(z,y,q){let X=z.length;(!y||y<0)&&(y=0),(!q||q<0||q>X)&&(q=X);let S="";for(let n=y;n<q;++n)S+=C_[z[n]];return S}function J(z,y,q){let X=z.slice(y,q),S="";for(let n=0;n<X.length-1;n+=2)S+=String.fromCharCode(X[n]+X[n+1]*256);return S}W.prototype.slice=function(z,y){let q=this.length;z=~~z,y=y===void 0?q:~~y,z<0?(z+=q,z<0&&(z=0)):z>q&&(z=q),y<0?(y+=q,y<0&&(y=0)):y>q&&(y=q),y<z&&(y=z);let X=this.subarray(z,y);return Object.setPrototypeOf(X,W.prototype),X};function R(z,y,q){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+y>q)throw new RangeError("Trying to access beyond buffer length")}W.prototype.readUintLE=W.prototype.readUIntLE=function(z,y,q){z=z>>>0,y=y>>>0,q||R(z,y,this.length);let X=this[z],S=1,n=0;for(;++n<y&&(S*=256);)X+=this[z+n]*S;return X},W.prototype.readUintBE=W.prototype.readUIntBE=function(z,y,q){z=z>>>0,y=y>>>0,q||R(z,y,this.length);let X=this[z+--y],S=1;for(;y>0&&(S*=256);)X+=this[z+--y]*S;return X},W.prototype.readUint8=W.prototype.readUInt8=function(z,y){return z=z>>>0,y||R(z,1,this.length),this[z]},W.prototype.readUint16LE=W.prototype.readUInt16LE=function(z,y){return z=z>>>0,y||R(z,2,this.length),this[z]|this[z+1]<<8},W.prototype.readUint16BE=W.prototype.readUInt16BE=function(z,y){return z=z>>>0,y||R(z,2,this.length),this[z]<<8|this[z+1]},W.prototype.readUint32LE=W.prototype.readUInt32LE=function(z,y){return z=z>>>0,y||R(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},W.prototype.readUint32BE=W.prototype.readUInt32BE=function(z,y){return z=z>>>0,y||R(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},W.prototype.readBigUInt64LE=nx(function(z){z=z>>>0,Ex(z,"offset");let y=this[z],q=this[z+7];(y===void 0||q===void 0)&&H(z,this.length-8);let X=y+this[++z]*256+this[++z]*65536+this[++z]*16777216,S=this[++z]+this[++z]*256+this[++z]*65536+q*16777216;return BigInt(X)+(BigInt(S)<<BigInt(32))}),W.prototype.readBigUInt64BE=nx(function(z){z=z>>>0,Ex(z,"offset");let y=this[z],q=this[z+7];(y===void 0||q===void 0)&&H(z,this.length-8);let X=y*16777216+this[++z]*65536+this[++z]*256+this[++z],S=this[++z]*16777216+this[++z]*65536+this[++z]*256+q;return(BigInt(X)<<BigInt(32))+BigInt(S)}),W.prototype.readIntLE=function(z,y,q){z=z>>>0,y=y>>>0,q||R(z,y,this.length);let X=this[z],S=1,n=0;for(;++n<y&&(S*=256);)X+=this[z+n]*S;return S*=128,X>=S&&(X-=Math.pow(2,8*y)),X},W.prototype.readIntBE=function(z,y,q){z=z>>>0,y=y>>>0,q||R(z,y,this.length);let X=y,S=1,n=this[z+--X];for(;X>0&&(S*=256);)n+=this[z+--X]*S;return S*=128,n>=S&&(n-=Math.pow(2,8*y)),n},W.prototype.readInt8=function(z,y){return z=z>>>0,y||R(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},W.prototype.readInt16LE=function(z,y){z=z>>>0,y||R(z,2,this.length);let q=this[z]|this[z+1]<<8;return q&32768?q|4294901760:q},W.prototype.readInt16BE=function(z,y){z=z>>>0,y||R(z,2,this.length);let q=this[z+1]|this[z]<<8;return q&32768?q|4294901760:q},W.prototype.readInt32LE=function(z,y){return z=z>>>0,y||R(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},W.prototype.readInt32BE=function(z,y){return z=z>>>0,y||R(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},W.prototype.readBigInt64LE=nx(function(z){z=z>>>0,Ex(z,"offset");let y=this[z],q=this[z+7];(y===void 0||q===void 0)&&H(z,this.length-8);let X=this[z+4]+this[z+5]*256+this[z+6]*65536+(q<<24);return(BigInt(X)<<BigInt(32))+BigInt(y+this[++z]*256+this[++z]*65536+this[++z]*16777216)}),W.prototype.readBigInt64BE=nx(function(z){z=z>>>0,Ex(z,"offset");let y=this[z],q=this[z+7];(y===void 0||q===void 0)&&H(z,this.length-8);let X=(y<<24)+this[++z]*65536+this[++z]*256+this[++z];return(BigInt(X)<<BigInt(32))+BigInt(this[++z]*16777216+this[++z]*65536+this[++z]*256+q)}),W.prototype.readFloatLE=function(z,y){return z=z>>>0,y||R(z,4,this.length),_.read(this,z,!0,23,4)},W.prototype.readFloatBE=function(z,y){return z=z>>>0,y||R(z,4,this.length),_.read(this,z,!1,23,4)},W.prototype.readDoubleLE=function(z,y){return z=z>>>0,y||R(z,8,this.length),_.read(this,z,!0,52,8)},W.prototype.readDoubleBE=function(z,y){return z=z>>>0,y||R(z,8,this.length),_.read(this,z,!1,52,8)};function r(z,y,q,X,S,n){if(!W.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>S||y<n)throw new RangeError('"value" argument is out of bounds');if(q+X>z.length)throw new RangeError("Index out of range")}W.prototype.writeUintLE=W.prototype.writeUIntLE=function(z,y,q,X){if(z=+z,y=y>>>0,q=q>>>0,!X){let t=Math.pow(2,8*q)-1;r(this,z,y,q,t,0)}let S=1,n=0;for(this[y]=z&255;++n<q&&(S*=256);)this[y+n]=z/S&255;return y+q},W.prototype.writeUintBE=W.prototype.writeUIntBE=function(z,y,q,X){if(z=+z,y=y>>>0,q=q>>>0,!X){let t=Math.pow(2,8*q)-1;r(this,z,y,q,t,0)}let S=q-1,n=1;for(this[y+S]=z&255;--S>=0&&(n*=256);)this[y+S]=z/n&255;return y+q},W.prototype.writeUint8=W.prototype.writeUInt8=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,1,255,0),this[y]=z&255,y+1},W.prototype.writeUint16LE=W.prototype.writeUInt16LE=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,2,65535,0),this[y]=z&255,this[y+1]=z>>>8,y+2},W.prototype.writeUint16BE=W.prototype.writeUInt16BE=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,2,65535,0),this[y]=z>>>8,this[y+1]=z&255,y+2},W.prototype.writeUint32LE=W.prototype.writeUInt32LE=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,4,4294967295,0),this[y+3]=z>>>24,this[y+2]=z>>>16,this[y+1]=z>>>8,this[y]=z&255,y+4},W.prototype.writeUint32BE=W.prototype.writeUInt32BE=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,4,4294967295,0),this[y]=z>>>24,this[y+1]=z>>>16,this[y+2]=z>>>8,this[y+3]=z&255,y+4};function e(z,y,q,X,S){Wx(y,X,S,z,q,7);let n=Number(y&BigInt(4294967295));z[q++]=n,n=n>>8,z[q++]=n,n=n>>8,z[q++]=n,n=n>>8,z[q++]=n;let t=Number(y>>BigInt(32)&BigInt(4294967295));return z[q++]=t,t=t>>8,z[q++]=t,t=t>>8,z[q++]=t,t=t>>8,z[q++]=t,q}function Ox(z,y,q,X,S){Wx(y,X,S,z,q,7);let n=Number(y&BigInt(4294967295));z[q+7]=n,n=n>>8,z[q+6]=n,n=n>>8,z[q+5]=n,n=n>>8,z[q+4]=n;let t=Number(y>>BigInt(32)&BigInt(4294967295));return z[q+3]=t,t=t>>8,z[q+2]=t,t=t>>8,z[q+1]=t,t=t>>8,z[q]=t,q+8}W.prototype.writeBigUInt64LE=nx(function(z,y=0){return e(this,z,y,BigInt(0),BigInt("0xffffffffffffffff"))}),W.prototype.writeBigUInt64BE=nx(function(z,y=0){return Ox(this,z,y,BigInt(0),BigInt("0xffffffffffffffff"))}),W.prototype.writeIntLE=function(z,y,q,X){if(z=+z,y=y>>>0,!X){let cx=Math.pow(2,8*q-1);r(this,z,y,q,cx-1,-cx)}let S=0,n=1,t=0;for(this[y]=z&255;++S<q&&(n*=256);)z<0&&t===0&&this[y+S-1]!==0&&(t=1),this[y+S]=(z/n>>0)-t&255;return y+q},W.prototype.writeIntBE=function(z,y,q,X){if(z=+z,y=y>>>0,!X){let cx=Math.pow(2,8*q-1);r(this,z,y,q,cx-1,-cx)}let S=q-1,n=1,t=0;for(this[y+S]=z&255;--S>=0&&(n*=256);)z<0&&t===0&&this[y+S+1]!==0&&(t=1),this[y+S]=(z/n>>0)-t&255;return y+q},W.prototype.writeInt8=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,1,127,-128),z<0&&(z=255+z+1),this[y]=z&255,y+1},W.prototype.writeInt16LE=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,2,32767,-32768),this[y]=z&255,this[y+1]=z>>>8,y+2},W.prototype.writeInt16BE=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,2,32767,-32768),this[y]=z>>>8,this[y+1]=z&255,y+2},W.prototype.writeInt32LE=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,4,2147483647,-2147483648),this[y]=z&255,this[y+1]=z>>>8,this[y+2]=z>>>16,this[y+3]=z>>>24,y+4},W.prototype.writeInt32BE=function(z,y,q){return z=+z,y=y>>>0,q||r(this,z,y,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[y]=z>>>24,this[y+1]=z>>>16,this[y+2]=z>>>8,this[y+3]=z&255,y+4},W.prototype.writeBigInt64LE=nx(function(z,y=0){return e(this,z,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),W.prototype.writeBigInt64BE=nx(function(z,y=0){return Ox(this,z,y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Nx(z,y,q,X,S,n){if(q+X>z.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function qx(z,y,q,X,S){return y=+y,q=q>>>0,S||Nx(z,y,q,4,340282346638528860000000000000000000000,-340282346638528860000000000000000000000),_.write(z,y,q,X,23,4),q+4}W.prototype.writeFloatLE=function(z,y,q){return qx(this,z,y,!0,q)},W.prototype.writeFloatBE=function(z,y,q){return qx(this,z,y,!1,q)};function ox(z,y,q,X,S){return y=+y,q=q>>>0,S||Nx(z,y,q,8,179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000,-179769313486231570000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000),_.write(z,y,q,X,52,8),q+8}W.prototype.writeDoubleLE=function(z,y,q){return ox(this,z,y,!0,q)},W.prototype.writeDoubleBE=function(z,y,q){return ox(this,z,y,!1,q)},W.prototype.copy=function(z,y,q,X){if(!W.isBuffer(z))throw new TypeError("argument should be a Buffer");if(q||(q=0),!X&&X!==0&&(X=this.length),y>=z.length&&(y=z.length),y||(y=0),X>0&&X<q&&(X=q),X===q||z.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(X<0)throw new RangeError("sourceEnd out of bounds");X>this.length&&(X=this.length),z.length-y<X-q&&(X=z.length-y+q);let S=X-q;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y,q,X):Uint8Array.prototype.set.call(z,this.subarray(q,X),y),S},W.prototype.fill=function(z,y,q,X){if(typeof z=="string"){if(typeof y=="string"?(X=y,y=0,q=this.length):typeof q=="string"&&(X=q,q=this.length),X!==void 0&&typeof X!="string")throw new TypeError("encoding must be a string");if(typeof X=="string"&&!W.isEncoding(X))throw new TypeError("Unknown encoding: "+X);if(z.length===1){let n=z.charCodeAt(0);(X==="utf8"&&n<128||X==="latin1")&&(z=n)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(y<0||this.length<y||this.length<q)throw new RangeError("Out of range index");if(q<=y)return this;y=y>>>0,q=q===void 0?this.length:q>>>0,z||(z=0);let S;if(typeof z=="number")for(S=y;S<q;++S)this[S]=z;else{let n=W.isBuffer(z)?z:W.from(z,X),t=n.length;if(t===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(S=0;S<q-y;++S)this[S+y]=n[S%t]}return this};var Cx={};function wx(z,y,q){Cx[z]=class extends q{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(X){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:X,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}wx("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),wx("ERR_INVALID_ARG_TYPE",function(z,y){return`The "${z}" argument must be of type number. Received type ${typeof y}`},TypeError),wx("ERR_OUT_OF_RANGE",function(z,y,q){let X=`The value of "${z}" is out of range.`,S=q;return Number.isInteger(q)&&Math.abs(q)>4294967296?S=Mx(String(q)):typeof q=="bigint"&&(S=String(q),(q>BigInt(2)**BigInt(32)||q<-(BigInt(2)**BigInt(32)))&&(S=Mx(S)),S+="n"),X+=` It must be ${y}. Received ${S}`,X},RangeError);function Mx(z){let y="",q=z.length,X=z[0]==="-"?1:0;for(;q>=X+4;q-=3)y=`_${z.slice(q-3,q)}${y}`;return`${z.slice(0,q)}${y}`}function rx(z,y,q){Ex(y,"offset"),(z[y]===void 0||z[y+q]===void 0)&&H(y,z.length-(q+1))}function Wx(z,y,q,X,S,n){if(z>q||z<y){let t=typeof y=="bigint"?"n":"",cx;throw n>3?y===0||y===BigInt(0)?cx=`>= 0${t} and < 2${t} ** ${(n+1)*8}${t}`:cx=`>= -(2${t} ** ${(n+1)*8-1}${t}) and < 2 ** ${(n+1)*8-1}${t}`:cx=`>= ${y}${t} and <= ${q}${t}`,new Cx.ERR_OUT_OF_RANGE("value",cx,z)}rx(X,S,n)}function Ex(z,y){if(typeof z!="number")throw new Cx.ERR_INVALID_ARG_TYPE(y,"number",z)}function H(z,y,q){throw Math.floor(z)!==z?(Ex(z,q),new Cx.ERR_OUT_OF_RANGE(q||"offset","an integer",z)):y<0?new Cx.ERR_BUFFER_OUT_OF_BOUNDS:new Cx.ERR_OUT_OF_RANGE(q||"offset",`>= ${q?1:0} and <= ${y}`,z)}var A=/[^+/0-9A-Za-z-_]/g;function I(z){if(z=z.split("=")[0],z=z.trim().replace(A,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function $(z,y){y=y||1/0;let q,X=z.length,S=null,n=[];for(let t=0;t<X;++t){if(q=z.charCodeAt(t),q>55295&&q<57344){if(!S){if(q>56319){(y-=3)>-1&&n.push(239,191,189);continue}else if(t+1===X){(y-=3)>-1&&n.push(239,191,189);continue}S=q;continue}if(q<56320){(y-=3)>-1&&n.push(239,191,189),S=q;continue}q=(S-55296<<10|q-56320)+65536}else S&&(y-=3)>-1&&n.push(239,191,189);if(S=null,q<128){if((y-=1)<0)break;n.push(q)}else if(q<2048){if((y-=2)<0)break;n.push(q>>6|192,q&63|128)}else if(q<65536){if((y-=3)<0)break;n.push(q>>12|224,q>>6&63|128,q&63|128)}else if(q<1114112){if((y-=4)<0)break;n.push(q>>18|240,q>>12&63|128,q>>6&63|128,q&63|128)}else throw new Error("Invalid code point")}return n}function xx(z){let y=[];for(let q=0;q<z.length;++q)y.push(z.charCodeAt(q)&255);return y}function gx(z,y){let q,X,S,n=[];for(let t=0;t<z.length&&!((y-=2)<0);++t)q=z.charCodeAt(t),X=q>>8,S=q%256,n.push(S),n.push(X);return n}function bx(z){return g.toByteArray(I(z))}function vx(z,y,q,X){let S;for(S=0;S<X&&!(S+q>=y.length||S>=z.length);++S)y[S+q]=z[S];return S}function Fx(z,y){return z instanceof y||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===y.name}function a0(z){return z!==z}var C_=function(){let z="0123456789abcdef",y=new Array(256);for(let q=0;q<16;++q){let X=q*16;for(let S=0;S<16;++S)y[X+S]=z[q]+z[S]}return y}();function nx(z){return typeof BigInt>"u"?Q9:z}function Q9(){throw new Error("BigInt not supported")}}),C0=Lx((x,g)=>{g.exports={ArrayIsArray(_){return Array.isArray(_)},ArrayPrototypeIncludes(_,O){return _.includes(O)},ArrayPrototypeIndexOf(_,O){return _.indexOf(O)},ArrayPrototypeJoin(_,O){return _.join(O)},ArrayPrototypeMap(_,O){return _.map(O)},ArrayPrototypePop(_,O){return _.pop(O)},ArrayPrototypePush(_,O){return _.push(O)},ArrayPrototypeSlice(_,O,l){return _.slice(O,l)},Error,FunctionPrototypeCall(_,O,...l){return _.call(O,...l)},FunctionPrototypeSymbolHasInstance(_,O){return Function.prototype[Symbol.hasInstance].call(_,O)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(_,O){return Object.defineProperties(_,O)},ObjectDefineProperty(_,O,l){return Object.defineProperty(_,O,l)},ObjectGetOwnPropertyDescriptor(_,O){return Object.getOwnPropertyDescriptor(_,O)},ObjectKeys(_){return Object.keys(_)},ObjectSetPrototypeOf(_,O){return Object.setPrototypeOf(_,O)},Promise,PromisePrototypeCatch(_,O){return _.catch(O)},PromisePrototypeThen(_,O,l){return _.then(O,l)},PromiseReject(_){return Promise.reject(_)},ReflectApply:Reflect.apply,RegExpPrototypeTest(_,O){return _.test(O)},SafeSet:Set,String,StringPrototypeSlice(_,O,l){return _.slice(O,l)},StringPrototypeToLowerCase(_){return _.toLowerCase()},StringPrototypeToUpperCase(_){return _.toUpperCase()},StringPrototypeTrim(_){return _.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(_,O,l){return _.set(O,l)},Uint8Array}}),U_=Lx((x,g)=>{var _=FO(),O=Object.getPrototypeOf(async function(){}).constructor,l=globalThis.Blob||_.Blob,G=typeof l<"u"?function(W){return W instanceof l}:function(W){return!1},p=class extends Error{constructor(W){if(!Array.isArray(W))throw new TypeError(`Expected input to be an Array, got ${typeof W}`);let w="";for(let o=0;o<W.length;o++)w+=`    ${W[o].stack}
`;super(w),this.name="AggregateError",this.errors=W}};g.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once(W){let w=!1;return function(...o){w||(w=!0,W.apply(this,o))}},createDeferredPromise:function(){let W,w;return{promise:new Promise((o,v)=>{W=o,w=v}),resolve:W,reject:w}},promisify(W){return new Promise((w,o)=>{W((v,...N)=>v?o(v):w(...N))})},debuglog(){return function(){}},format(W,...w){return W.replace(/%([sdifj])/g,function(...[o,v]){let N=w.shift();return v==="f"?N.toFixed(6):v==="j"?JSON.stringify(N):v==="s"&&typeof N=="object"?`${N.constructor!==Object?N.constructor.name:""} {}`.trim():N.toString()})},inspect(W){switch(typeof W){case"string":if(W.includes("'"))if(W.includes('"')){if(!W.includes("`")&&!W.includes("${"))return`\`${W}\``}else return`"${W}"`;return`'${W}'`;case"number":return isNaN(W)?"NaN":Object.is(W,-0)?String(W):W;case"bigint":return`${String(W)}n`;case"boolean":case"undefined":return String(W);case"object":return"{}"}},types:{isAsyncFunction(W){return W instanceof O},isArrayBufferView(W){return ArrayBuffer.isView(W)}},isBlob:G},g.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),Lz=Lx((x,g)=>{var{AbortController:_,AbortSignal:O}=typeof self<"u"?self:typeof window<"u"?window:void 0;g.exports=_,g.exports.AbortSignal=O,g.exports.default=_}),B0=Lx((x,g)=>{var{format:_,inspect:O,AggregateError:l}=U_(),G=globalThis.AggregateError||l,p=Symbol("kIsNodeError"),W=["string","function","number","object","Function","Object","boolean","bigint","symbol"],w=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",v={};function N(d,M){if(!d)throw new v.ERR_INTERNAL_ASSERTION(M)}function k(d){let M="",Y=d.length,K=d[0]==="-"?1:0;for(;Y>=K+4;Y-=3)M=`_${d.slice(Y-3,Y)}${M}`;return`${d.slice(0,Y)}${M}`}function C(d,M,Y){if(typeof M=="function")return N(M.length<=Y.length,`Code: ${d}; The provided arguments length (${Y.length}) does not match the required ones (${M.length}).`),M(...Y);let K=(M.match(/%[dfijoOs]/g)||[]).length;return N(K===Y.length,`Code: ${d}; The provided arguments length (${Y.length}) does not match the required ones (${K}).`),Y.length===0?M:_(M,...Y)}function c(d,M,Y){Y||(Y=Error);class K extends Y{constructor(...h){super(C(d,M,h))}toString(){return`${this.name} [${d}]: ${this.message}`}}Object.defineProperties(K.prototype,{name:{value:Y.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${d}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),K.prototype.code=d,K.prototype[p]=!0,v[d]=K}function m(d){let M=o+d.name;return Object.defineProperty(d,"name",{value:M}),d}function b(d,M){if(d&&M&&d!==M){if(Array.isArray(M.errors))return M.errors.push(d),M;let Y=new G([M,d],M.message);return Y.code=M.code,Y}return d||M}var f=class extends Error{constructor(d="The operation was aborted",M=void 0){if(M!==void 0&&typeof M!="object")throw new v.ERR_INVALID_ARG_TYPE("options","Object",M);super(d,M),this.code="ABORT_ERR",this.name="AbortError"}};c("ERR_ASSERTION","%s",Error),c("ERR_INVALID_ARG_TYPE",(d,M,Y)=>{N(typeof d=="string","'name' must be a string"),Array.isArray(M)||(M=[M]);let K="The ";d.endsWith(" argument")?K+=`${d} `:K+=`"${d}" ${d.includes(".")?"property":"argument"} `,K+="must be ";let h=[],V=[],F=[];for(let U of M)N(typeof U=="string","All expected entries have to be of type string"),W.includes(U)?h.push(U.toLowerCase()):w.test(U)?V.push(U):(N(U!=="object",'The value "object" should be written as "Object"'),F.push(U));if(V.length>0){let U=h.indexOf("object");U!==-1&&(h.splice(h,U,1),V.push("Object"))}if(h.length>0){switch(h.length){case 1:K+=`of type ${h[0]}`;break;case 2:K+=`one of type ${h[0]} or ${h[1]}`;break;default:{let U=h.pop();K+=`one of type ${h.join(", ")}, or ${U}`}}(V.length>0||F.length>0)&&(K+=" or ")}if(V.length>0){switch(V.length){case 1:K+=`an instance of ${V[0]}`;break;case 2:K+=`an instance of ${V[0]} or ${V[1]}`;break;default:{let U=V.pop();K+=`an instance of ${V.join(", ")}, or ${U}`}}F.length>0&&(K+=" or ")}switch(F.length){case 0:break;case 1:F[0].toLowerCase()!==F[0]&&(K+="an "),K+=`${F[0]}`;break;case 2:K+=`one of ${F[0]} or ${F[1]}`;break;default:{let U=F.pop();K+=`one of ${F.join(", ")}, or ${U}`}}if(Y==null)K+=`. Received ${Y}`;else if(typeof Y=="function"&&Y.name)K+=`. Received function ${Y.name}`;else if(typeof Y=="object"){var D;(D=Y.constructor)!==null&&D!==void 0&&D.name?K+=`. Received an instance of ${Y.constructor.name}`:K+=`. Received ${O(Y,{depth:-1})}`}else{let U=O(Y,{colors:!1});U.length>25&&(U=`${U.slice(0,25)}...`),K+=`. Received type ${typeof Y} (${U})`}return K},TypeError),c("ERR_INVALID_ARG_VALUE",(d,M,Y="is invalid")=>{let K=O(M);return K.length>128&&(K=K.slice(0,128)+"..."),`The ${d.includes(".")?"property":"argument"} '${d}' ${Y}. Received ${K}`},TypeError),c("ERR_INVALID_RETURN_VALUE",(d,M,Y)=>{var K;let h=Y!=null&&(K=Y.constructor)!==null&&K!==void 0&&K.name?`instance of ${Y.constructor.name}`:`type ${typeof Y}`;return`Expected ${d} to be returned from the "${M}" function but got ${h}.`},TypeError),c("ERR_MISSING_ARGS",(...d)=>{N(d.length>0,"At least one arg needs to be specified");let M,Y=d.length;switch(d=(Array.isArray(d)?d:[d]).map((K)=>`"${K}"`).join(" or "),Y){case 1:M+=`The ${d[0]} argument`;break;case 2:M+=`The ${d[0]} and ${d[1]} arguments`;break;default:{let K=d.pop();M+=`The ${d.join(", ")}, and ${K} arguments`}break}return`${M} must be specified`},TypeError),c("ERR_OUT_OF_RANGE",(d,M,Y)=>{N(M,'Missing "range" argument');let K;return Number.isInteger(Y)&&Math.abs(Y)>4294967296?K=k(String(Y)):typeof Y=="bigint"?(K=String(Y),(Y>2n**32n||Y<-(2n**32n))&&(K=k(K)),K+="n"):K=O(Y),`The value of "${d}" is out of range. It must be ${M}. Received ${K}`},RangeError),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),c("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),c("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),c("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),c("ERR_STREAM_WRITE_AFTER_END","write after end",Error),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),g.exports={AbortError:f,aggregateTwoErrors:m(b),hideStackFrames:m,codes:v}}),Np=Lx((x,g)=>{var{ArrayIsArray:_,ArrayPrototypeIncludes:O,ArrayPrototypeJoin:l,ArrayPrototypeMap:G,NumberIsInteger:p,NumberIsNaN:W,NumberMAX_SAFE_INTEGER:w,NumberMIN_SAFE_INTEGER:o,NumberParseInt:v,ObjectPrototypeHasOwnProperty:N,RegExpPrototypeExec:k,String:C,StringPrototypeToUpperCase:c,StringPrototypeTrim:m}=C0(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:f,ERR_INVALID_ARG_TYPE:d,ERR_INVALID_ARG_VALUE:M,ERR_OUT_OF_RANGE:Y,ERR_UNKNOWN_SIGNAL:K}}=B0(),{normalizeEncoding:h}=U_(),{isAsyncFunction:V,isArrayBufferView:F}=U_().types,D={};function U(H){return H===(H|0)}function Q(H){return H===H>>>0}var L=/^[0-7]+$/,a="must be a 32-bit unsigned integer or an octal string";function s(H,A,I){if(typeof H>"u"&&(H=I),typeof H=="string"){if(k(L,H)===null)throw new M(A,H,a);H=v(H,8)}return P(H,A),H}var u=b((H,A,I=o,$=w)=>{if(typeof H!="number")throw new d(A,"number",H);if(!p(H))throw new Y(A,"an integer",H);if(H<I||H>$)throw new Y(A,`>= ${I} && <= ${$}`,H)}),B=b((H,A,I=-2147483648,$=2147483647)=>{if(typeof H!="number")throw new d(A,"number",H);if(!p(H))throw new Y(A,"an integer",H);if(H<I||H>$)throw new Y(A,`>= ${I} && <= ${$}`,H)}),P=b((H,A,I=!1)=>{if(typeof H!="number")throw new d(A,"number",H);if(!p(H))throw new Y(A,"an integer",H);let $=I?1:0,xx=4294967295;if(H<$||H>xx)throw new Y(A,`>= ${$} && <= ${xx}`,H)});function i(H,A){if(typeof H!="string")throw new d(A,"string",H)}function lx(H,A,I=void 0,$){if(typeof H!="number")throw new d(A,"number",H);if(I!=null&&H<I||$!=null&&H>$||(I!=null||$!=null)&&W(H))throw new Y(A,`${I!=null?`>= ${I}`:""}${I!=null&&$!=null?" && ":""}${$!=null?`<= ${$}`:""}`,H)}var J=b((H,A,I)=>{if(!O(I,H)){let $=l(G(I,(gx)=>typeof gx=="string"?`'${gx}'`:C(gx)),", "),xx="must be one of: "+$;throw new M(A,H,xx)}});function R(H,A){if(typeof H!="boolean")throw new d(A,"boolean",H)}function r(H,A,I){return H==null||!N(H,A)?I:H[A]}var e=b((H,A,I=null)=>{let $=r(I,"allowArray",!1),xx=r(I,"allowFunction",!1);if(!r(I,"nullable",!1)&&H===null||!$&&_(H)||typeof H!="object"&&(!xx||typeof H!="function"))throw new d(A,"Object",H)}),Ox=b((H,A,I=0)=>{if(!_(H))throw new d(A,"Array",H);if(H.length<I){let $=`must be longer than ${I}`;throw new M(A,H,$)}});function Nx(H,A="signal"){if(i(H,A),D[H]===void 0)throw D[c(H)]!==void 0?new K(H+" (signals must use all capital letters)"):new K(H)}var qx=b((H,A="buffer")=>{if(!F(H))throw new d(A,["Buffer","TypedArray","DataView"],H)});function ox(H,A){let I=h(A),$=H.length;if(I==="hex"&&$%2!==0)throw new M("encoding",A,`is invalid for data of length ${$}`)}function Cx(H,A="Port",I=!0){if(typeof H!="number"&&typeof H!="string"||typeof H=="string"&&m(H).length===0||+H!==+H>>>0||H>65535||H===0&&!I)throw new f(A,H,I);return H|0}var wx=b((H,A)=>{if(H!==void 0&&(H===null||typeof H!="object"||!("aborted"in H)))throw new d(A,"AbortSignal",H)}),Mx=b((H,A)=>{if(typeof H!="function")throw new d(A,"Function",H)}),rx=b((H,A)=>{if(typeof H!="function"||V(H))throw new d(A,"Function",H)}),Wx=b((H,A)=>{if(H!==void 0)throw new d(A,"undefined",H)});function Ex(H,A,I){if(!O(I,H))throw new d(A,`('${l(I,"|")}')`,H)}g.exports={isInt32:U,isUint32:Q,parseFileMode:s,validateArray:Ox,validateBoolean:R,validateBuffer:qx,validateEncoding:ox,validateFunction:Mx,validateInt32:B,validateInteger:u,validateNumber:lx,validateObject:e,validateOneOf:J,validatePlainFunction:rx,validatePort:Cx,validateSignalName:Nx,validateString:i,validateUint32:P,validateUndefined:Wx,validateUnion:Ex,validateAbortSignal:wx}}),Fk=Lx((x,g)=>{var _=g.exports={},O,l;function G(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?O=setTimeout:O=G}catch{O=G}try{typeof clearTimeout=="function"?l=clearTimeout:l=p}catch{l=p}})();function W(f){if(O===setTimeout)return setTimeout(f,0);if((O===G||!O)&&setTimeout)return O=setTimeout,setTimeout(f,0);try{return O(f,0)}catch{try{return O.call(null,f,0)}catch{return O.call(this,f,0)}}}function w(f){if(l===clearTimeout)return clearTimeout(f);if((l===p||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(f);try{return l(f)}catch{try{return l.call(null,f)}catch{return l.call(this,f)}}}var o=[],v=!1,N,k=-1;function C(){!v||!N||(v=!1,N.length?o=N.concat(o):k=-1,o.length&&c())}function c(){if(!v){var f=W(C);v=!0;for(var d=o.length;d;){for(N=o,o=[];++k<d;)N&&N[k].run();k=-1,d=o.length}N=null,v=!1,w(f)}}_.nextTick=function(f){var d=new Array(arguments.length-1);if(arguments.length>1)for(var M=1;M<arguments.length;M++)d[M-1]=arguments[M];o.push(new m(f,d)),o.length===1&&!v&&W(c)};function m(f,d){this.fun=f,this.array=d}m.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={};function b(){}_.on=b,_.addListener=b,_.once=b,_.off=b,_.removeListener=b,_.removeAllListeners=b,_.emit=b,_.prependListener=b,_.prependOnceListener=b,_.listeners=function(f){return[]},_.binding=function(f){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(f){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}}),Q_={};Ak(Q_,{default:()=>Sk});m6=Vb(()=>{uk(Q_,vp(Fk())),Sk=vp(Fk())}),b6=Lx((x,g)=>{var{Symbol:_,SymbolAsyncIterator:O,SymbolIterator:l}=C0(),G=_("kDestroyed"),p=_("kIsErrored"),W=_("kIsReadable"),w=_("kIsDisturbed");function o(u,B=!1){var P;return!!(u&&typeof u.pipe=="function"&&typeof u.on=="function"&&(!B||typeof u.pause=="function"&&typeof u.resume=="function")&&(!u._writableState||((P=u._readableState)===null||P===void 0?void 0:P.readable)!==!1)&&(!u._writableState||u._readableState))}function v(u){var B;return!!(u&&typeof u.write=="function"&&typeof u.on=="function"&&(!u._readableState||((B=u._writableState)===null||B===void 0?void 0:B.writable)!==!1))}function N(u){return!!(u&&typeof u.pipe=="function"&&u._readableState&&typeof u.on=="function"&&typeof u.write=="function")}function k(u){return u&&(u._readableState||u._writableState||typeof u.write=="function"&&typeof u.on=="function"||typeof u.pipe=="function"&&typeof u.on=="function")}function C(u,B){return u==null?!1:B===!0?typeof u[O]=="function":B===!1?typeof u[l]=="function":typeof u[O]=="function"||typeof u[l]=="function"}function c(u){if(!k(u))return null;let{_writableState:B,_readableState:P}=u,i=B||P;return!!(u.destroyed||u[G]||i!=null&&i.destroyed)}function m(u){if(!v(u))return null;if(u.writableEnded===!0)return!0;let B=u._writableState;return B!=null&&B.errored?!1:typeof B?.ended!="boolean"?null:B.ended}function b(u,B){if(!v(u))return null;if(u.writableFinished===!0)return!0;let P=u._writableState;return P!=null&&P.errored?!1:typeof P?.finished!="boolean"?null:!!(P.finished||B===!1&&P.ended===!0&&P.length===0)}function f(u){if(!o(u))return null;if(u.readableEnded===!0)return!0;let B=u._readableState;return!B||B.errored?!1:typeof B?.ended!="boolean"?null:B.ended}function d(u,B){if(!o(u))return null;let P=u._readableState;return P!=null&&P.errored?!1:typeof P?.endEmitted!="boolean"?null:!!(P.endEmitted||B===!1&&P.ended===!0&&P.length===0)}function M(u){return u&&u[W]!=null?u[W]:typeof u?.readable!="boolean"?null:c(u)?!1:o(u)&&u.readable&&!d(u)}function Y(u){return typeof u?.writable!="boolean"?null:c(u)?!1:v(u)&&u.writable&&!m(u)}function K(u,B){return k(u)?c(u)?!0:!(B?.readable!==!1&&M(u)||B?.writable!==!1&&Y(u)):null}function h(u){var B,P;return k(u)?u.writableErrored?u.writableErrored:(B=(P=u._writableState)===null||P===void 0?void 0:P.errored)!==null&&B!==void 0?B:null:null}function V(u){var B,P;return k(u)?u.readableErrored?u.readableErrored:(B=(P=u._readableState)===null||P===void 0?void 0:P.errored)!==null&&B!==void 0?B:null:null}function F(u){if(!k(u))return null;if(typeof u.closed=="boolean")return u.closed;let{_writableState:B,_readableState:P}=u;return typeof B?.closed=="boolean"||typeof P?.closed=="boolean"?B?.closed||P?.closed:typeof u._closed=="boolean"&&D(u)?u._closed:null}function D(u){return typeof u._closed=="boolean"&&typeof u._defaultKeepAlive=="boolean"&&typeof u._removedConnection=="boolean"&&typeof u._removedContLen=="boolean"}function U(u){return typeof u._sent100=="boolean"&&D(u)}function Q(u){var B;return typeof u._consuming=="boolean"&&typeof u._dumped=="boolean"&&((B=u.req)===null||B===void 0?void 0:B.upgradeOrConnect)===void 0}function L(u){if(!k(u))return null;let{_writableState:B,_readableState:P}=u,i=B||P;return!i&&U(u)||!!(i&&i.autoDestroy&&i.emitClose&&i.closed===!1)}function a(u){var B;return!!(u&&((B=u[w])!==null&&B!==void 0?B:u.readableDidRead||u.readableAborted))}function s(u){var B,P,i,lx,J,R,r,e,Ox,Nx;return!!(u&&((B=(P=(i=(lx=(J=(R=u[p])!==null&&R!==void 0?R:u.readableErrored)!==null&&J!==void 0?J:u.writableErrored)!==null&&lx!==void 0?lx:(r=u._readableState)===null||r===void 0?void 0:r.errorEmitted)!==null&&i!==void 0?i:(e=u._writableState)===null||e===void 0?void 0:e.errorEmitted)!==null&&P!==void 0?P:(Ox=u._readableState)===null||Ox===void 0?void 0:Ox.errored)!==null&&B!==void 0?B:(Nx=u._writableState)===null||Nx===void 0?void 0:Nx.errored))}g.exports={kDestroyed:G,isDisturbed:a,kIsDisturbed:w,isErrored:s,kIsErrored:p,isReadable:M,kIsReadable:W,isClosed:F,isDestroyed:c,isDuplexNodeStream:N,isFinished:K,isIterable:C,isReadableNodeStream:o,isReadableEnded:f,isReadableFinished:d,isReadableErrored:V,isNodeStream:k,isWritable:Y,isWritableNodeStream:v,isWritableEnded:m,isWritableFinished:b,isWritableErrored:h,isServerRequest:Q,isServerResponse:U,willEmitClose:L}}),h6=Lx((x,g)=>{var _=(m6(),c6(Q_)),{AbortError:O,codes:l}=B0(),{ERR_INVALID_ARG_TYPE:G,ERR_STREAM_PREMATURE_CLOSE:p}=l,{kEmptyObject:W,once:w}=U_(),{validateAbortSignal:o,validateFunction:v,validateObject:N}=Np(),{Promise:k}=C0(),{isClosed:C,isReadable:c,isReadableNodeStream:m,isReadableFinished:b,isReadableErrored:f,isWritable:d,isWritableNodeStream:M,isWritableFinished:Y,isWritableErrored:K,isNodeStream:h,willEmitClose:V}=b6();function F(L){return L.setHeader&&typeof L.abort=="function"}var D=()=>{};function U(L,a,s){var u,B;arguments.length===2?(s=a,a=W):a==null?a=W:N(a,"options"),v(s,"callback"),o(a.signal,"options.signal"),s=w(s);let P=(u=a.readable)!==null&&u!==void 0?u:m(L),i=(B=a.writable)!==null&&B!==void 0?B:M(L);if(!h(L))throw new G("stream","Stream",L);let{_writableState:lx,_readableState:J}=L,R=()=>{L.writable||Ox()},r=V(L)&&m(L)===P&&M(L)===i,e=Y(L,!1),Ox=()=>{e=!0,L.destroyed&&(r=!1),!(r&&(!L.readable||P))&&(!P||Nx)&&s.call(L)},Nx=b(L,!1),qx=()=>{Nx=!0,L.destroyed&&(r=!1),!(r&&(!L.writable||i))&&(!i||e)&&s.call(L)},ox=(Wx)=>{s.call(L,Wx)},Cx=C(L),wx=()=>{Cx=!0;let Wx=K(L)||f(L);if(Wx&&typeof Wx!="boolean")return s.call(L,Wx);if(P&&!Nx&&m(L,!0)&&!b(L,!1))return s.call(L,new p);if(i&&!e&&!Y(L,!1))return s.call(L,new p);s.call(L)},Mx=()=>{L.req.on("finish",Ox)};F(L)?(L.on("complete",Ox),r||L.on("abort",wx),L.req?Mx():L.on("request",Mx)):i&&!lx&&(L.on("end",R),L.on("close",R)),!r&&typeof L.aborted=="boolean"&&L.on("aborted",wx),L.on("end",qx),L.on("finish",Ox),a.error!==!1&&L.on("error",ox),L.on("close",wx),Cx?_.nextTick(wx):lx!=null&&lx.errorEmitted||J!=null&&J.errorEmitted?r||_.nextTick(wx):(!P&&(!r||c(L))&&(e||d(L)===!1)||!i&&(!r||d(L))&&(Nx||c(L)===!1)||J&&L.req&&L.aborted)&&_.nextTick(wx);let rx=()=>{s=D,L.removeListener("aborted",wx),L.removeListener("complete",Ox),L.removeListener("abort",wx),L.removeListener("request",Mx),L.req&&L.req.removeListener("finish",Ox),L.removeListener("end",R),L.removeListener("close",R),L.removeListener("finish",Ox),L.removeListener("end",qx),L.removeListener("error",ox),L.removeListener("close",wx)};if(a.signal&&!Cx){let Wx=()=>{let Ex=s;rx(),Ex.call(L,new O(void 0,{cause:a.signal.reason}))};if(a.signal.aborted)_.nextTick(Wx);else{let Ex=s;s=w((...H)=>{a.signal.removeEventListener("abort",Wx),Ex.apply(L,H)}),a.signal.addEventListener("abort",Wx)}}return rx}function Q(L,a){return new k((s,u)=>{U(L,a,(B)=>{B?u(B):s()})})}g.exports=U,g.exports.finished=Q}),Fb=Lx((x,g)=>{var _=globalThis.AbortController||Lz().AbortController,{codes:{ERR_INVALID_ARG_TYPE:O,ERR_MISSING_ARGS:l,ERR_OUT_OF_RANGE:G},AbortError:p}=B0(),{validateAbortSignal:W,validateInteger:w,validateObject:o}=Np(),v=C0().Symbol("kWeak"),{finished:N}=h6(),{ArrayPrototypePush:k,MathFloor:C,Number:c,NumberIsNaN:m,Promise:b,PromiseReject:f,PromisePrototypeThen:d,Symbol:M}=C0(),Y=M("kEmpty"),K=M("kEof");function h(J,R){if(typeof J!="function")throw new O("fn",["Function","AsyncFunction"],J);R!=null&&o(R,"options"),R?.signal!=null&&W(R.signal,"options.signal");let r=1;return R?.concurrency!=null&&(r=C(R.concurrency)),w(r,"concurrency",1),async function*(){var e,Ox;let Nx=new _,qx=this,ox=[],Cx=Nx.signal,wx={signal:Cx},Mx=()=>Nx.abort();R!=null&&(e=R.signal)!==null&&e!==void 0&&e.aborted&&Mx(),R==null||(Ox=R.signal)===null||Ox===void 0||Ox.addEventListener("abort",Mx);let rx,Wx,Ex=!1;function H(){Ex=!0}async function A(){try{for await(let xx of qx){var I;if(Ex)return;if(Cx.aborted)throw new p;try{xx=J(xx,wx)}catch(gx){xx=f(gx)}xx!==Y&&(typeof((I=xx)===null||I===void 0?void 0:I.catch)=="function"&&xx.catch(H),ox.push(xx),rx&&(rx(),rx=null),!Ex&&ox.length&&ox.length>=r&&await new b((gx)=>{Wx=gx}))}ox.push(K)}catch(xx){let gx=f(xx);d(gx,void 0,H),ox.push(gx)}finally{var $;Ex=!0,rx&&(rx(),rx=null),R==null||($=R.signal)===null||$===void 0||$.removeEventListener("abort",Mx)}}A();try{for(;;){for(;ox.length>0;){let I=await ox[0];if(I===K)return;if(Cx.aborted)throw new p;I!==Y&&(yield I),ox.shift(),Wx&&(Wx(),Wx=null)}await new b((I)=>{rx=I})}}finally{Nx.abort(),Ex=!0,Wx&&(Wx(),Wx=null)}}.call(this)}function V(J=void 0){return J!=null&&o(J,"options"),J?.signal!=null&&W(J.signal,"options.signal"),async function*(){let R=0;for await(let e of this){var r;if(J!=null&&(r=J.signal)!==null&&r!==void 0&&r.aborted)throw new p({cause:J.signal.reason});yield[R++,e]}}.call(this)}async function F(J,R=void 0){for await(let r of L.call(this,J,R))return!0;return!1}async function D(J,R=void 0){if(typeof J!="function")throw new O("fn",["Function","AsyncFunction"],J);return!await F.call(this,async(...r)=>!await J(...r),R)}async function U(J,R){for await(let r of L.call(this,J,R))return r}async function Q(J,R){if(typeof J!="function")throw new O("fn",["Function","AsyncFunction"],J);async function r(e,Ox){return await J(e,Ox),Y}for await(let e of h.call(this,r,R));}function L(J,R){if(typeof J!="function")throw new O("fn",["Function","AsyncFunction"],J);async function r(e,Ox){return await J(e,Ox)?e:Y}return h.call(this,r,R)}var a=class extends l{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function s(J,R,r){var e;if(typeof J!="function")throw new O("reducer",["Function","AsyncFunction"],J);r!=null&&o(r,"options"),r?.signal!=null&&W(r.signal,"options.signal");let Ox=arguments.length>1;if(r!=null&&(e=r.signal)!==null&&e!==void 0&&e.aborted){let wx=new p(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await N(this.destroy(wx)),wx}let Nx=new _,qx=Nx.signal;if(r!=null&&r.signal){let wx={once:!0,[v]:this};r.signal.addEventListener("abort",()=>Nx.abort(),wx)}let ox=!1;try{for await(let wx of this){var Cx;if(ox=!0,r!=null&&(Cx=r.signal)!==null&&Cx!==void 0&&Cx.aborted)throw new p;Ox?R=await J(R,wx,{signal:qx}):(R=wx,Ox=!0)}if(!ox&&!Ox)throw new a}finally{Nx.abort()}return R}async function u(J){J!=null&&o(J,"options"),J?.signal!=null&&W(J.signal,"options.signal");let R=[];for await(let e of this){var r;if(J!=null&&(r=J.signal)!==null&&r!==void 0&&r.aborted)throw new p(void 0,{cause:J.signal.reason});k(R,e)}return R}function B(J,R){let r=h.call(this,J,R);return async function*(){for await(let e of r)yield*e}.call(this)}function P(J){if(J=c(J),m(J))return 0;if(J<0)throw new G("number",">= 0",J);return J}function i(J,R=void 0){return R!=null&&o(R,"options"),R?.signal!=null&&W(R.signal,"options.signal"),J=P(J),async function*(){var r;if(R!=null&&(r=R.signal)!==null&&r!==void 0&&r.aborted)throw new p;for await(let Ox of this){var e;if(R!=null&&(e=R.signal)!==null&&e!==void 0&&e.aborted)throw new p;J--<=0&&(yield Ox)}}.call(this)}function lx(J,R=void 0){return R!=null&&o(R,"options"),R?.signal!=null&&W(R.signal,"options.signal"),J=P(J),async function*(){var r;if(R!=null&&(r=R.signal)!==null&&r!==void 0&&r.aborted)throw new p;for await(let Ox of this){var e;if(R!=null&&(e=R.signal)!==null&&e!==void 0&&e.aborted)throw new p;if(J-- >0)yield Ox;else return}}.call(this)}g.exports.streamReturningOperators={asIndexedPairs:V,drop:i,filter:L,flatMap:B,map:h,take:lx},g.exports.promiseReturningOperators={every:D,forEach:Q,reduce:s,toArray:u,some:F,find:U}}),a8=Lx((x,g)=>{var _=(m6(),c6(Q_)),{aggregateTwoErrors:O,codes:{ERR_MULTIPLE_CALLBACK:l},AbortError:G}=B0(),{Symbol:p}=C0(),{kDestroyed:W,isDestroyed:w,isFinished:o,isServerRequest:v}=b6(),N=p("kDestroy"),k=p("kConstruct");function C(L,a,s){L&&(L.stack,a&&!a.errored&&(a.errored=L),s&&!s.errored&&(s.errored=L))}function c(L,a){let s=this._readableState,u=this._writableState,B=u||s;return u&&u.destroyed||s&&s.destroyed?(typeof a=="function"&&a(),this):(C(L,u,s),u&&(u.destroyed=!0),s&&(s.destroyed=!0),B.constructed?m(this,L,a):this.once(N,function(P){m(this,O(P,L),a)}),this)}function m(L,a,s){let u=!1;function B(P){if(u)return;u=!0;let{_readableState:i,_writableState:lx}=L;C(P,lx,i),lx&&(lx.closed=!0),i&&(i.closed=!0),typeof s=="function"&&s(P),P?_.nextTick(b,L,P):_.nextTick(f,L)}try{L._destroy(a||null,B)}catch(P){B(P)}}function b(L,a){d(L,a),f(L)}function f(L){let{_readableState:a,_writableState:s}=L;s&&(s.closeEmitted=!0),a&&(a.closeEmitted=!0),(s&&s.emitClose||a&&a.emitClose)&&L.emit("close")}function d(L,a){let{_readableState:s,_writableState:u}=L;u&&u.errorEmitted||s&&s.errorEmitted||(u&&(u.errorEmitted=!0),s&&(s.errorEmitted=!0),L.emit("error",a))}function M(){let L=this._readableState,a=this._writableState;L&&(L.constructed=!0,L.closed=!1,L.closeEmitted=!1,L.destroyed=!1,L.errored=null,L.errorEmitted=!1,L.reading=!1,L.ended=L.readable===!1,L.endEmitted=L.readable===!1),a&&(a.constructed=!0,a.destroyed=!1,a.closed=!1,a.closeEmitted=!1,a.errored=null,a.errorEmitted=!1,a.finalCalled=!1,a.prefinished=!1,a.ended=a.writable===!1,a.ending=a.writable===!1,a.finished=a.writable===!1)}function Y(L,a,s){let{_readableState:u,_writableState:B}=L;if(B&&B.destroyed||u&&u.destroyed)return this;u&&u.autoDestroy||B&&B.autoDestroy?L.destroy(a):a&&(a.stack,B&&!B.errored&&(B.errored=a),u&&!u.errored&&(u.errored=a),s?_.nextTick(d,L,a):d(L,a))}function K(L,a){if(typeof L._construct!="function")return;let{_readableState:s,_writableState:u}=L;s&&(s.constructed=!1),u&&(u.constructed=!1),L.once(k,a),!(L.listenerCount(k)>1)&&_.nextTick(h,L)}function h(L){let a=!1;function s(u){if(a){Y(L,u??new l);return}a=!0;let{_readableState:B,_writableState:P}=L,i=P||B;B&&(B.constructed=!0),P&&(P.constructed=!0),i.destroyed?L.emit(N,u):u?Y(L,u,!0):_.nextTick(V,L)}try{L._construct(s)}catch(u){s(u)}}function V(L){L.emit(k)}function F(L){return L&&L.setHeader&&typeof L.abort=="function"}function D(L){L.emit("close")}function U(L,a){L.emit("error",a),_.nextTick(D,L)}function Q(L,a){!L||w(L)||(!a&&!o(L)&&(a=new G),v(L)?(L.socket=null,L.destroy(a)):F(L)?L.abort():F(L.req)?L.req.abort():typeof L.destroy=="function"?L.destroy(a):typeof L.close=="function"?L.close():a?_.nextTick(U,L,a):_.nextTick(D,L),L.destroyed||(L[W]=!0))}g.exports={construct:K,destroyer:Q,destroy:c,undestroy:M,errorOrDestroy:Y}}),Xz=Lx((x,g)=>{var _=typeof Reflect=="object"?Reflect:null,O=_&&typeof _.apply=="function"?_.apply:function(h,V,F){return Function.prototype.apply.call(h,V,F)},l;_&&typeof _.ownKeys=="function"?l=_.ownKeys:Object.getOwnPropertySymbols?l=function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:l=function(h){return Object.getOwnPropertyNames(h)};function G(h){console&&console.warn&&console.warn(h)}var p=Number.isNaN||function(h){return h!==h};function W(){W.init.call(this)}g.exports=W,g.exports.once=M,W.EventEmitter=W,W.prototype._events=void 0,W.prototype._eventsCount=0,W.prototype._maxListeners=void 0;var w=10;function o(h){if(typeof h!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof h)}Object.defineProperty(W,"defaultMaxListeners",{enumerable:!0,get:function(){return w},set:function(h){if(typeof h!="number"||h<0||p(h))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+h+".");w=h}}),W.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},W.prototype.setMaxListeners=function(h){if(typeof h!="number"||h<0||p(h))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+h+".");return this._maxListeners=h,this};function v(h){return h._maxListeners===void 0?W.defaultMaxListeners:h._maxListeners}W.prototype.getMaxListeners=function(){return v(this)},W.prototype.emit=function(h){for(var V=[],F=1;F<arguments.length;F++)V.push(arguments[F]);var D=h==="error",U=this._events;if(U!==void 0)D=D&&U.error===void 0;else if(!D)return!1;if(D){var Q;if(V.length>0&&(Q=V[0]),Q instanceof Error)throw Q;var L=new Error("Unhandled error."+(Q?" ("+Q.message+")":""));throw L.context=Q,L}var a=U[h];if(a===void 0)return!1;if(typeof a=="function")O(a,this,V);else for(var s=a.length,u=b(a,s),F=0;F<s;++F)O(u[F],this,V);return!0};function N(h,V,F,D){var U,Q,L;if(o(F),Q=h._events,Q===void 0?(Q=h._events=Object.create(null),h._eventsCount=0):(Q.newListener!==void 0&&(h.emit("newListener",V,F.listener?F.listener:F),Q=h._events),L=Q[V]),L===void 0)L=Q[V]=F,++h._eventsCount;else if(typeof L=="function"?L=Q[V]=D?[F,L]:[L,F]:D?L.unshift(F):L.push(F),U=v(h),U>0&&L.length>U&&!L.warned){L.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(V)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=h,a.type=V,a.count=L.length,G(a)}return h}W.prototype.addListener=function(h,V){return N(this,h,V,!1)},W.prototype.on=W.prototype.addListener,W.prototype.prependListener=function(h,V){return N(this,h,V,!0)};function k(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(h,V,F){var D={fired:!1,wrapFn:void 0,target:h,type:V,listener:F},U=k.bind(D);return U.listener=F,D.wrapFn=U,U}W.prototype.once=function(h,V){return o(V),this.on(h,C(this,h,V)),this},W.prototype.prependOnceListener=function(h,V){return o(V),this.prependListener(h,C(this,h,V)),this},W.prototype.removeListener=function(h,V){var F,D,U,Q,L;if(o(V),D=this._events,D===void 0)return this;if(F=D[h],F===void 0)return this;if(F===V||F.listener===V)--this._eventsCount===0?this._events=Object.create(null):(delete D[h],D.removeListener&&this.emit("removeListener",h,F.listener||V));else if(typeof F!="function"){for(U=-1,Q=F.length-1;Q>=0;Q--)if(F[Q]===V||F[Q].listener===V){L=F[Q].listener,U=Q;break}if(U<0)return this;U===0?F.shift():f(F,U),F.length===1&&(D[h]=F[0]),D.removeListener!==void 0&&this.emit("removeListener",h,L||V)}return this},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(h){var V,F,D;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[h]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[h]),this;if(arguments.length===0){var U=Object.keys(F),Q;for(D=0;D<U.length;++D)Q=U[D],Q!=="removeListener"&&this.removeAllListeners(Q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(V=F[h],typeof V=="function")this.removeListener(h,V);else if(V!==void 0)for(D=V.length-1;D>=0;D--)this.removeListener(h,V[D]);return this};function c(h,V,F){var D=h._events;if(D===void 0)return[];var U=D[V];return U===void 0?[]:typeof U=="function"?F?[U.listener||U]:[U]:F?d(U):b(U,U.length)}W.prototype.listeners=function(h){return c(this,h,!0)},W.prototype.rawListeners=function(h){return c(this,h,!1)},W.listenerCount=function(h,V){return typeof h.listenerCount=="function"?h.listenerCount(V):m.call(h,V)},W.prototype.listenerCount=m;function m(h){var V=this._events;if(V!==void 0){var F=V[h];if(typeof F=="function")return 1;if(F!==void 0)return F.length}return 0}W.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function b(h,V){for(var F=new Array(V),D=0;D<V;++D)F[D]=h[D];return F}function f(h,V){for(;V+1<h.length;V++)h[V]=h[V+1];h.pop()}function d(h){for(var V=new Array(h.length),F=0;F<V.length;++F)V[F]=h[F].listener||h[F];return V}function M(h,V){return new Promise(function(F,D){function U(L){h.removeListener(V,Q),D(L)}function Q(){typeof h.removeListener=="function"&&h.removeListener("error",U),F([].slice.call(arguments))}K(h,V,Q,{once:!0}),V!=="error"&&Y(h,U,{once:!0})})}function Y(h,V,F){typeof h.on=="function"&&K(h,"error",V,F)}function K(h,V,F,D){if(typeof h.on=="function")D.once?h.once(V,F):h.on(V,F);else if(typeof h.addEventListener=="function")h.addEventListener(V,function U(Q){D.once&&h.removeEventListener(V,U),F(Q)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof h)}}),Fz=Lx((x,g)=>{var{ArrayIsArray:_,ObjectSetPrototypeOf:O}=C0(),{EventEmitter:l}=Xz();function G(W){l.call(this,W)}O(G.prototype,l.prototype),O(G,l),G.prototype.pipe=function(W,w){let o=this;function v(f){W.writable&&W.write(f)===!1&&o.pause&&o.pause()}o.on("data",v);function N(){o.readable&&o.resume&&o.resume()}W.on("drain",N),!W._isStdio&&(!w||w.end!==!1)&&(o.on("end",C),o.on("close",c));let k=!1;function C(){k||(k=!0,W.end())}function c(){k||(k=!0,typeof W.destroy=="function"&&W.destroy())}function m(f){b(),l.listenerCount(this,"error")===0&&this.emit("error",f)}p(o,"error",m),p(W,"error",m);function b(){o.removeListener("data",v),W.removeListener("drain",N),o.removeListener("end",C),o.removeListener("close",c),o.removeListener("error",m),W.removeListener("error",m),o.removeListener("end",b),o.removeListener("close",b),W.removeListener("close",b)}return o.on("end",b),o.on("close",b),W.on("close",b),W.emit("pipe",o),W};function p(W,w,o){if(typeof W.prependListener=="function")return W.prependListener(w,o);!W._events||!W._events[w]?W.on(w,o):_(W._events[w])?W._events[w].unshift(o):W._events[w]=[o,W._events[w]]}g.exports={Stream:G,prependListener:p}}),Az=Lx((x,g)=>{var{AbortError:_,codes:O}=B0(),l=h6(),{ERR_INVALID_ARG_TYPE:G}=O,p=(w,o)=>{if(typeof w!="object"||!("aborted"in w))throw new G(o,"AbortSignal",w)};function W(w){return!!(w&&typeof w.pipe=="function")}g.exports.addAbortSignal=function(w,o){if(p(w,"signal"),!W(o))throw new G("stream","stream.Stream",o);return g.exports.addAbortSignalNoValidate(w,o)},g.exports.addAbortSignalNoValidate=function(w,o){if(typeof w!="object"||!("aborted"in w))return o;let v=()=>{o.destroy(new _(void 0,{cause:w.reason}))};return w.aborted?v():(w.addEventListener("abort",v),l(o,()=>w.removeEventListener("abort",v))),o}}),Ab=Lx((x,g)=>{var{StringPrototypeSlice:_,SymbolIterator:O,TypedArrayPrototypeSet:l,Uint8Array:G}=C0(),{Buffer:p}=FO(),{inspect:W}=U_();g.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(w){let o={data:w,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length}unshift(w){let o={data:w,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length}shift(){if(this.length===0)return;let w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}clear(){this.head=this.tail=null,this.length=0}join(w){if(this.length===0)return"";let o=this.head,v=""+o.data;for(;(o=o.next)!==null;)v+=w+o.data;return v}concat(w){if(this.length===0)return p.alloc(0);let o=p.allocUnsafe(w>>>0),v=this.head,N=0;for(;v;)l(o,v.data,N),N+=v.data.length,v=v.next;return o}consume(w,o){let v=this.head.data;if(w<v.length){let N=v.slice(0,w);return this.head.data=v.slice(w),N}return w===v.length?this.shift():o?this._getString(w):this._getBuffer(w)}first(){return this.head.data}*[O](){for(let w=this.head;w;w=w.next)yield w.data}_getString(w){let o="",v=this.head,N=0;do{let k=v.data;if(w>k.length)o+=k,w-=k.length;else{w===k.length?(o+=k,++N,v.next?this.head=v.next:this.head=this.tail=null):(o+=_(k,0,w),this.head=v,v.data=_(k,w));break}++N}while((v=v.next)!==null);return this.length-=N,o}_getBuffer(w){let o=p.allocUnsafe(w),v=w,N=this.head,k=0;do{let C=N.data;if(w>C.length)l(o,C,v-w),w-=C.length;else{w===C.length?(l(o,C,v-w),++k,N.next?this.head=N.next:this.head=this.tail=null):(l(o,new G(C.buffer,C.byteOffset,w),v-w),this.head=N,N.data=C.slice(w));break}++k}while((N=N.next)!==null);return this.length-=k,o}[Symbol.for("nodejs.util.inspect.custom")](w,o){return W(this,{...o,depth:0,customInspect:!1})}}}),uz=Lx((x,g)=>{var{MathFloor:_,NumberIsInteger:O}=C0(),{ERR_INVALID_ARG_VALUE:l}=B0().codes;function G(w,o,v){return w.highWaterMark!=null?w.highWaterMark:o?w[v]:null}function p(w){return w?16:16384}function W(w,o,v,N){let k=G(o,N,v);if(k!=null){if(!O(k)||k<0){let C=N?`options.${v}`:"options.highWaterMark";throw new l(C,k)}return _(k)}return p(w.objectMode)}g.exports={getHighWaterMark:W,getDefaultHighWaterMark:p}}),ub=Lx((x,g)=>{var _=FO(),O=_.Buffer;function l(p,W){for(var w in p)W[w]=p[w]}O.from&&O.alloc&&O.allocUnsafe&&O.allocUnsafeSlow?g.exports=_:(l(_,x),x.Buffer=G);function G(p,W,w){return O(p,W,w)}G.prototype=Object.create(O.prototype),l(O,G),G.from=function(p,W,w){if(typeof p=="number")throw new TypeError("Argument must not be a number");return O(p,W,w)},G.alloc=function(p,W,w){if(typeof p!="number")throw new TypeError("Argument must be a number");var o=O(p);return W!==void 0?typeof w=="string"?o.fill(W,w):o.fill(W):o.fill(0),o},G.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return O(p)},G.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(p)}}),Sb=Lx((x)=>{var g=ub().Buffer,_=g.isEncoding||function(d){switch(d=""+d,d&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function O(d){if(!d)return"utf8";for(var M;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(M)return;d=(""+d).toLowerCase(),M=!0}}function l(d){var M=O(d);if(typeof M!="string"&&(g.isEncoding===_||!_(d)))throw new Error("Unknown encoding: "+d);return M||d}x.StringDecoder=G;function G(d){this.encoding=l(d);var M;switch(this.encoding){case"utf16le":this.text=k,this.end=C,M=4;break;case"utf8":this.fillLast=o,M=4;break;case"base64":this.text=c,this.end=m,M=3;break;default:this.write=b,this.end=f;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(M)}G.prototype.write=function(d){if(d.length===0)return"";var M,Y;if(this.lastNeed){if(M=this.fillLast(d),M===void 0)return"";Y=this.lastNeed,this.lastNeed=0}else Y=0;return Y<d.length?M?M+this.text(d,Y):this.text(d,Y):M||""},G.prototype.end=N,G.prototype.text=v,G.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length};function p(d){return d<=127?0:d>>5===6?2:d>>4===14?3:d>>3===30?4:d>>6===2?-1:-2}function W(d,M,Y){var K=M.length-1;if(K<Y)return 0;var h=p(M[K]);return h>=0?(h>0&&(d.lastNeed=h-1),h):--K<Y||h===-2?0:(h=p(M[K]),h>=0?(h>0&&(d.lastNeed=h-2),h):--K<Y||h===-2?0:(h=p(M[K]),h>=0?(h>0&&(h===2?h=0:d.lastNeed=h-3),h):0))}function w(d,M,Y){if((M[0]&192)!==128)return d.lastNeed=0,"";if(d.lastNeed>1&&M.length>1){if((M[1]&192)!==128)return d.lastNeed=1,"";if(d.lastNeed>2&&M.length>2&&(M[2]&192)!==128)return d.lastNeed=2,""}}function o(d){var M=this.lastTotal-this.lastNeed,Y=w(this,d,M);if(Y!==void 0)return Y;if(this.lastNeed<=d.length)return d.copy(this.lastChar,M,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,M,0,d.length),this.lastNeed-=d.length}function v(d,M){var Y=W(this,d,M);if(!this.lastNeed)return d.toString("utf8",M);this.lastTotal=Y;var K=d.length-(Y-this.lastNeed);return d.copy(this.lastChar,0,K),d.toString("utf8",M,K)}function N(d){var M=d&&d.length?this.write(d):"";return this.lastNeed?M+"":M}function k(d,M){if((d.length-M)%2===0){var Y=d.toString("utf16le",M);if(Y){var K=Y.charCodeAt(Y.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],Y.slice(0,-1)}return Y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",M,d.length-1)}function C(d){var M=d&&d.length?this.write(d):"";if(this.lastNeed){var Y=this.lastTotal-this.lastNeed;return M+this.lastChar.toString("utf16le",0,Y)}return M}function c(d,M){var Y=(d.length-M)%3;return Y===0?d.toString("base64",M):(this.lastNeed=3-Y,this.lastTotal=3,Y===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",M,d.length-Y))}function m(d){var M=d&&d.length?this.write(d):"";return this.lastNeed?M+this.lastChar.toString("base64",0,3-this.lastNeed):M}function b(d){return d.toString(this.encoding)}function f(d){return d&&d.length?this.write(d):""}}),Ik=Lx((x,g)=>{var _=(m6(),c6(Q_)),{PromisePrototypeThen:O,SymbolAsyncIterator:l,SymbolIterator:G}=C0(),{Buffer:p}=FO(),{ERR_INVALID_ARG_TYPE:W,ERR_STREAM_NULL_VALUES:w}=B0().codes;function o(v,N,k){let C;if(typeof N=="string"||N instanceof p)return new v({objectMode:!0,...k,read(){this.push(N),this.push(null)}});let c;if(N&&N[l])c=!0,C=N[l]();else if(N&&N[G])c=!1,C=N[G]();else throw new W("iterable",["Iterable"],N);let m=new v({objectMode:!0,highWaterMark:1,...k}),b=!1;m._read=function(){b||(b=!0,d())},m._destroy=function(M,Y){O(f(M),()=>_.nextTick(Y,M),(K)=>_.nextTick(Y,K||M))};async function f(M){let Y=M!=null,K=typeof C.throw=="function";if(Y&&K){let{value:h,done:V}=await C.throw(M);if(await h,V)return}if(typeof C.return=="function"){let{value:h}=await C.return();await h}}async function d(){for(;;){try{let{value:M,done:Y}=c?await C.next():C.next();if(Y)m.push(null);else{let K=M&&typeof M.then=="function"?await M:M;if(K===null)throw b=!1,new w;if(m.push(K))continue;b=!1}}catch(M){m.destroy(M)}break}}return m}g.exports=o}),kp=Lx((x,g)=>{var _=(m6(),c6(Q_)),{ArrayPrototypeIndexOf:O,NumberIsInteger:l,NumberIsNaN:G,NumberParseInt:p,ObjectDefineProperties:W,ObjectKeys:w,ObjectSetPrototypeOf:o,Promise:v,SafeSet:N,SymbolAsyncIterator:k,Symbol:C}=C0();g.exports=r,r.ReadableState=R;var{EventEmitter:c}=Xz(),{Stream:m,prependListener:b}=Fz(),{Buffer:f}=FO(),{addAbortSignal:d}=Az(),M=h6(),Y=U_().debuglog("stream",(z)=>{Y=z}),K=Ab(),h=a8(),{getHighWaterMark:V,getDefaultHighWaterMark:F}=uz(),{aggregateTwoErrors:D,codes:{ERR_INVALID_ARG_TYPE:U,ERR_METHOD_NOT_IMPLEMENTED:Q,ERR_OUT_OF_RANGE:L,ERR_STREAM_PUSH_AFTER_EOF:a,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:s}}=B0(),{validateObject:u}=Np(),B=C("kPaused"),{StringDecoder:P}=Sb(),i=Ik();o(r.prototype,m.prototype),o(r,m);var lx=()=>{},{errorOrDestroy:J}=h;function R(z,y,q){typeof q!="boolean"&&(q=y instanceof D_()),this.objectMode=!!(z&&z.objectMode),q&&(this.objectMode=this.objectMode||!!(z&&z.readableObjectMode)),this.highWaterMark=z?V(this,z,"readableHighWaterMark",q):F(!1),this.buffer=new K,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[B]=null,this.errorEmitted=!1,this.emitClose=!z||z.emitClose!==!1,this.autoDestroy=!z||z.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=z&&z.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,z&&z.encoding&&(this.decoder=new P(z.encoding),this.encoding=z.encoding)}function r(z){if(!(this instanceof r))return new r(z);let y=this instanceof D_();this._readableState=new R(z,this,y),z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.construct=="function"&&(this._construct=z.construct),z.signal&&!y&&d(z.signal,this)),m.call(this,z),h.construct(this,()=>{this._readableState.needReadable&&rx(this,this._readableState)})}r.prototype.destroy=h.destroy,r.prototype._undestroy=h.undestroy,r.prototype._destroy=function(z,y){y(z)},r.prototype[c.captureRejectionSymbol]=function(z){this.destroy(z)},r.prototype.push=function(z,y){return e(this,z,y,!1)},r.prototype.unshift=function(z,y){return e(this,z,y,!0)};function e(z,y,q,X){Y("readableAddChunk",y);let S=z._readableState,n;if(S.objectMode||(typeof y=="string"?(q=q||S.defaultEncoding,S.encoding!==q&&(X&&S.encoding?y=f.from(y,q).toString(S.encoding):(y=f.from(y,q),q=""))):y instanceof f?q="":m._isUint8Array(y)?(y=m._uint8ArrayToBuffer(y),q=""):y!=null&&(n=new U("chunk",["string","Buffer","Uint8Array"],y))),n)J(z,n);else if(y===null)S.reading=!1,Cx(z,S);else if(S.objectMode||y&&y.length>0)if(X)if(S.endEmitted)J(z,new s);else{if(S.destroyed||S.errored)return!1;Ox(z,S,y,!0)}else if(S.ended)J(z,new a);else{if(S.destroyed||S.errored)return!1;S.reading=!1,S.decoder&&!q?(y=S.decoder.write(y),S.objectMode||y.length!==0?Ox(z,S,y,!1):rx(z,S)):Ox(z,S,y,!1)}else X||(S.reading=!1,rx(z,S));return!S.ended&&(S.length<S.highWaterMark||S.length===0)}function Ox(z,y,q,X){y.flowing&&y.length===0&&!y.sync&&z.listenerCount("data")>0?(y.multiAwaitDrain?y.awaitDrainWriters.clear():y.awaitDrainWriters=null,y.dataEmitted=!0,z.emit("data",q)):(y.length+=y.objectMode?1:q.length,X?y.buffer.unshift(q):y.buffer.push(q),y.needReadable&&wx(z)),rx(z,y)}r.prototype.isPaused=function(){let z=this._readableState;return z[B]===!0||z.flowing===!1},r.prototype.setEncoding=function(z){let y=new P(z);this._readableState.decoder=y,this._readableState.encoding=this._readableState.decoder.encoding;let q=this._readableState.buffer,X="";for(let S of q)X+=y.write(S);return q.clear(),X!==""&&q.push(X),this._readableState.length=X.length,this};var Nx=1073741824;function qx(z){if(z>Nx)throw new L("size","<= 1GiB",z);return z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++,z}function ox(z,y){return z<=0||y.length===0&&y.ended?0:y.objectMode?1:G(z)?y.flowing&&y.length?y.buffer.first().length:y.length:z<=y.length?z:y.ended?y.length:0}r.prototype.read=function(z){Y("read",z),z===void 0?z=NaN:l(z)||(z=p(z,10));let y=this._readableState,q=z;if(z>y.highWaterMark&&(y.highWaterMark=qx(z)),z!==0&&(y.emittedReadable=!1),z===0&&y.needReadable&&((y.highWaterMark!==0?y.length>=y.highWaterMark:y.length>0)||y.ended))return Y("read: emitReadable",y.length,y.ended),y.length===0&&y.ended?Fx(this):wx(this),null;if(z=ox(z,y),z===0&&y.ended)return y.length===0&&Fx(this),null;let X=y.needReadable;if(Y("need readable",X),(y.length===0||y.length-z<y.highWaterMark)&&(X=!0,Y("length less than watermark",X)),y.ended||y.reading||y.destroyed||y.errored||!y.constructed)X=!1,Y("reading, ended or constructing",X);else if(X){Y("do read"),y.reading=!0,y.sync=!0,y.length===0&&(y.needReadable=!0);try{this._read(y.highWaterMark)}catch(n){J(this,n)}y.sync=!1,y.reading||(z=ox(q,y))}let S;return z>0?S=vx(z,y):S=null,S===null?(y.needReadable=y.length<=y.highWaterMark,z=0):(y.length-=z,y.multiAwaitDrain?y.awaitDrainWriters.clear():y.awaitDrainWriters=null),y.length===0&&(y.ended||(y.needReadable=!0),q!==z&&y.ended&&Fx(this)),S!==null&&!y.errorEmitted&&!y.closeEmitted&&(y.dataEmitted=!0,this.emit("data",S)),S};function Cx(z,y){if(Y("onEofChunk"),!y.ended){if(y.decoder){let q=y.decoder.end();q&&q.length&&(y.buffer.push(q),y.length+=y.objectMode?1:q.length)}y.ended=!0,y.sync?wx(z):(y.needReadable=!1,y.emittedReadable=!0,Mx(z))}}function wx(z){let y=z._readableState;Y("emitReadable",y.needReadable,y.emittedReadable),y.needReadable=!1,y.emittedReadable||(Y("emitReadable",y.flowing),y.emittedReadable=!0,_.nextTick(Mx,z))}function Mx(z){let y=z._readableState;Y("emitReadable_",y.destroyed,y.length,y.ended),!y.destroyed&&!y.errored&&(y.length||y.ended)&&(z.emit("readable"),y.emittedReadable=!1),y.needReadable=!y.flowing&&!y.ended&&y.length<=y.highWaterMark,xx(z)}function rx(z,y){!y.readingMore&&y.constructed&&(y.readingMore=!0,_.nextTick(Wx,z,y))}function Wx(z,y){for(;!y.reading&&!y.ended&&(y.length<y.highWaterMark||y.flowing&&y.length===0);){let q=y.length;if(Y("maybeReadMore read 0"),z.read(0),q===y.length)break}y.readingMore=!1}r.prototype._read=function(z){throw new Q("_read()")},r.prototype.pipe=function(z,y){let q=this,X=this._readableState;X.pipes.length===1&&(X.multiAwaitDrain||(X.multiAwaitDrain=!0,X.awaitDrainWriters=new N(X.awaitDrainWriters?[X.awaitDrainWriters]:[]))),X.pipes.push(z),Y("pipe count=%d opts=%j",X.pipes.length,y);let S=(!y||y.end!==!1)&&z!==_.stdout&&z!==_.stderr?t:rl;X.endEmitted?_.nextTick(S):q.once("end",S),z.on("unpipe",n);function n(TO,q_){Y("onunpipe"),TO===q&&q_&&q_.hasUnpiped===!1&&(q_.hasUnpiped=!0,Ux())}function t(){Y("onend"),z.end()}let cx,w0=!1;function Ux(){Y("cleanup"),z.removeListener("close",EW),z.removeListener("finish",nW),cx&&z.removeListener("drain",cx),z.removeListener("error",aW),z.removeListener("unpipe",n),q.removeListener("end",t),q.removeListener("end",rl),q.removeListener("data",Rx),w0=!0,cx&&X.awaitDrainWriters&&(!z._writableState||z._writableState.needDrain)&&cx()}function ux(){w0||(X.pipes.length===1&&X.pipes[0]===z?(Y("false write response, pause",0),X.awaitDrainWriters=z,X.multiAwaitDrain=!1):X.pipes.length>1&&X.pipes.includes(z)&&(Y("false write response, pause",X.awaitDrainWriters.size),X.awaitDrainWriters.add(z)),q.pause()),cx||(cx=Ex(q,z),z.on("drain",cx))}q.on("data",Rx);function Rx(TO){Y("ondata");let q_=z.write(TO);Y("dest.write",q_),q_===!1&&ux()}function aW(TO){if(Y("onerror",TO),rl(),z.removeListener("error",aW),z.listenerCount("error")===0){let q_=z._writableState||z._readableState;q_&&!q_.errorEmitted?J(z,TO):z.emit("error",TO)}}b(z,"error",aW);function EW(){z.removeListener("finish",nW),rl()}z.once("close",EW);function nW(){Y("onfinish"),z.removeListener("close",EW),rl()}z.once("finish",nW);function rl(){Y("unpipe"),q.unpipe(z)}return z.emit("pipe",q),z.writableNeedDrain===!0?X.flowing&&ux():X.flowing||(Y("pipe resume"),q.resume()),z};function Ex(z,y){return function(){let q=z._readableState;q.awaitDrainWriters===y?(Y("pipeOnDrain",1),q.awaitDrainWriters=null):q.multiAwaitDrain&&(Y("pipeOnDrain",q.awaitDrainWriters.size),q.awaitDrainWriters.delete(y)),(!q.awaitDrainWriters||q.awaitDrainWriters.size===0)&&z.listenerCount("data")&&z.resume()}}r.prototype.unpipe=function(z){let y=this._readableState,q={hasUnpiped:!1};if(y.pipes.length===0)return this;if(!z){let S=y.pipes;y.pipes=[],this.pause();for(let n=0;n<S.length;n++)S[n].emit("unpipe",this,{hasUnpiped:!1});return this}let X=O(y.pipes,z);return X===-1?this:(y.pipes.splice(X,1),y.pipes.length===0&&this.pause(),z.emit("unpipe",this,q),this)},r.prototype.on=function(z,y){let q=m.prototype.on.call(this,z,y),X=this._readableState;return z==="data"?(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1&&this.resume()):z==="readable"&&!X.endEmitted&&!X.readableListening&&(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,Y("on readable",X.length,X.reading),X.length?wx(this):X.reading||_.nextTick(A,this)),q},r.prototype.addListener=r.prototype.on,r.prototype.removeListener=function(z,y){let q=m.prototype.removeListener.call(this,z,y);return z==="readable"&&_.nextTick(H,this),q},r.prototype.off=r.prototype.removeListener,r.prototype.removeAllListeners=function(z){let y=m.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&_.nextTick(H,this),y};function H(z){let y=z._readableState;y.readableListening=z.listenerCount("readable")>0,y.resumeScheduled&&y[B]===!1?y.flowing=!0:z.listenerCount("data")>0?z.resume():y.readableListening||(y.flowing=null)}function A(z){Y("readable nexttick read 0"),z.read(0)}r.prototype.resume=function(){let z=this._readableState;return z.flowing||(Y("resume"),z.flowing=!z.readableListening,I(this,z)),z[B]=!1,this};function I(z,y){y.resumeScheduled||(y.resumeScheduled=!0,_.nextTick($,z,y))}function $(z,y){Y("resume",y.reading),y.reading||z.read(0),y.resumeScheduled=!1,z.emit("resume"),xx(z),y.flowing&&!y.reading&&z.read(0)}r.prototype.pause=function(){return Y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[B]=!0,this};function xx(z){let y=z._readableState;for(Y("flow",y.flowing);y.flowing&&z.read()!==null;);}r.prototype.wrap=function(z){let y=!1;z.on("data",(X)=>{!this.push(X)&&z.pause&&(y=!0,z.pause())}),z.on("end",()=>{this.push(null)}),z.on("error",(X)=>{J(this,X)}),z.on("close",()=>{this.destroy()}),z.on("destroy",()=>{this.destroy()}),this._read=()=>{y&&z.resume&&(y=!1,z.resume())};let q=w(z);for(let X=1;X<q.length;X++){let S=q[X];this[S]===void 0&&typeof z[S]=="function"&&(this[S]=z[S].bind(z))}return this},r.prototype[k]=function(){return gx(this)},r.prototype.iterator=function(z){return z!==void 0&&u(z,"options"),gx(this,z)};function gx(z,y){typeof z.read!="function"&&(z=r.wrap(z,{objectMode:!0}));let q=bx(z,y);return q.stream=z,q}async function*bx(z,y){let q=lx;function X(t){this===z?(q(),q=lx):q=t}z.on("readable",X);let S,n=M(z,{writable:!1},(t)=>{S=t?D(S,t):null,q(),q=lx});try{for(;;){let t=z.destroyed?null:z.read();if(t!==null)yield t;else{if(S)throw S;if(S===null)return;await new v(X)}}}catch(t){throw S=D(S,t),S}finally{(S||y?.destroyOnReturn!==!1)&&(S===void 0||z._readableState.autoDestroy)?h.destroyer(z,null):(z.off("readable",X),n())}}W(r.prototype,{readable:{__proto__:null,get(){let z=this._readableState;return!!z&&z.readable!==!1&&!z.destroyed&&!z.errorEmitted&&!z.endEmitted},set(z){this._readableState&&(this._readableState.readable=!!z)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(z){this._readableState&&(this._readableState.flowing=z)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(z){!this._readableState||(this._readableState.destroyed=z)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),W(R.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[B]!==!1},set(z){this[B]=!!z}}}),r._fromList=vx;function vx(z,y){if(y.length===0)return null;let q;return y.objectMode?q=y.buffer.shift():!z||z>=y.length?(y.decoder?q=y.buffer.join(""):y.buffer.length===1?q=y.buffer.first():q=y.buffer.concat(y.length),y.buffer.clear()):q=y.buffer.consume(z,y.decoder),q}function Fx(z){let y=z._readableState;Y("endReadable",y.endEmitted),y.endEmitted||(y.ended=!0,_.nextTick(a0,y,z))}function a0(z,y){if(Y("endReadableNT",z.endEmitted,z.length),!z.errored&&!z.closeEmitted&&!z.endEmitted&&z.length===0){if(z.endEmitted=!0,y.emit("end"),y.writable&&y.allowHalfOpen===!1)_.nextTick(C_,y);else if(z.autoDestroy){let q=y._writableState;(!q||q.autoDestroy&&(q.finished||q.writable===!1))&&y.destroy()}}}function C_(z){z.writable&&!z.writableEnded&&!z.destroyed&&z.end()}r.from=function(z,y){return i(r,z,y)};var nx;function Q9(){return nx===void 0&&(nx={}),nx}r.fromWeb=function(z,y){return Q9().newStreamReadableFromReadableStream(z,y)},r.toWeb=function(z,y){return Q9().newReadableStreamFromStreamReadable(z,y)},r.wrap=function(z,y){var q,X;return new r({objectMode:(q=(X=z.readableObjectMode)!==null&&X!==void 0?X:z.objectMode)!==null&&q!==void 0?q:!0,...y,destroy(S,n){h.destroyer(z,S),n(S)}}).wrap(z)}}),Zk=Lx((x,g)=>{var _=(m6(),c6(Q_)),{ArrayPrototypeSlice:O,Error:l,FunctionPrototypeSymbolHasInstance:G,ObjectDefineProperty:p,ObjectDefineProperties:W,ObjectSetPrototypeOf:w,StringPrototypeToLowerCase:o,Symbol:v,SymbolHasInstance:N}=C0();g.exports=P,P.WritableState=u;var{EventEmitter:k}=Xz(),C=Fz().Stream,{Buffer:c}=FO(),m=a8(),{addAbortSignal:b}=Az(),{getHighWaterMark:f,getDefaultHighWaterMark:d}=uz(),{ERR_INVALID_ARG_TYPE:M,ERR_METHOD_NOT_IMPLEMENTED:Y,ERR_MULTIPLE_CALLBACK:K,ERR_STREAM_CANNOT_PIPE:h,ERR_STREAM_DESTROYED:V,ERR_STREAM_ALREADY_FINISHED:F,ERR_STREAM_NULL_VALUES:D,ERR_STREAM_WRITE_AFTER_END:U,ERR_UNKNOWN_ENCODING:Q}=B0().codes,{errorOrDestroy:L}=m;w(P.prototype,C.prototype),w(P,C);function a(){}var s=v("kOnFinished");function u(A,I,$){typeof $!="boolean"&&($=I instanceof D_()),this.objectMode=!!(A&&A.objectMode),$&&(this.objectMode=this.objectMode||!!(A&&A.writableObjectMode)),this.highWaterMark=A?f(this,A,"writableHighWaterMark",$):d(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let xx=!!(A&&A.decodeStrings===!1);this.decodeStrings=!xx,this.defaultEncoding=A&&A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=r.bind(void 0,I),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,B(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!A||A.emitClose!==!1,this.autoDestroy=!A||A.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[s]=[]}function B(A){A.buffered=[],A.bufferedIndex=0,A.allBuffers=!0,A.allNoop=!0}u.prototype.getBuffer=function(){return O(this.buffered,this.bufferedIndex)},p(u.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function P(A){let I=this instanceof D_();if(!I&&!G(P,this))return new P(A);this._writableState=new u(A,this,I),A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final),typeof A.construct=="function"&&(this._construct=A.construct),A.signal&&b(A.signal,this)),C.call(this,A),m.construct(this,()=>{let $=this._writableState;$.writing||qx(this,$),Mx(this,$)})}p(P,N,{__proto__:null,value:function(A){return G(this,A)?!0:this!==P?!1:A&&A._writableState instanceof u}}),P.prototype.pipe=function(){L(this,new h)};function i(A,I,$,xx){let gx=A._writableState;if(typeof $=="function")xx=$,$=gx.defaultEncoding;else{if(!$)$=gx.defaultEncoding;else if($!=="buffer"&&!c.isEncoding($))throw new Q($);typeof xx!="function"&&(xx=a)}if(I===null)throw new D;if(!gx.objectMode)if(typeof I=="string")gx.decodeStrings!==!1&&(I=c.from(I,$),$="buffer");else if(I instanceof c)$="buffer";else if(C._isUint8Array(I))I=C._uint8ArrayToBuffer(I),$="buffer";else throw new M("chunk",["string","Buffer","Uint8Array"],I);let bx;return gx.ending?bx=new U:gx.destroyed&&(bx=new V("write")),bx?(_.nextTick(xx,bx),L(A,bx,!0),bx):(gx.pendingcb++,lx(A,gx,I,$,xx))}P.prototype.write=function(A,I,$){return i(this,A,I,$)===!0},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){let A=this._writableState;A.corked&&(A.corked--,A.writing||qx(this,A))},P.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=o(A)),!c.isEncoding(A))throw new Q(A);return this._writableState.defaultEncoding=A,this};function lx(A,I,$,xx,gx){let bx=I.objectMode?1:$.length;I.length+=bx;let vx=I.length<I.highWaterMark;return vx||(I.needDrain=!0),I.writing||I.corked||I.errored||!I.constructed?(I.buffered.push({chunk:$,encoding:xx,callback:gx}),I.allBuffers&&xx!=="buffer"&&(I.allBuffers=!1),I.allNoop&&gx!==a&&(I.allNoop=!1)):(I.writelen=bx,I.writecb=gx,I.writing=!0,I.sync=!0,A._write($,xx,I.onwrite),I.sync=!1),vx&&!I.errored&&!I.destroyed}function J(A,I,$,xx,gx,bx,vx){I.writelen=xx,I.writecb=vx,I.writing=!0,I.sync=!0,I.destroyed?I.onwrite(new V("write")):$?A._writev(gx,I.onwrite):A._write(gx,bx,I.onwrite),I.sync=!1}function R(A,I,$,xx){--I.pendingcb,xx($),Nx(I),L(A,$)}function r(A,I){let $=A._writableState,xx=$.sync,gx=$.writecb;if(typeof gx!="function"){L(A,new K);return}$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0,I?(I.stack,$.errored||($.errored=I),A._readableState&&!A._readableState.errored&&(A._readableState.errored=I),xx?_.nextTick(R,A,$,I,gx):R(A,$,I,gx)):($.buffered.length>$.bufferedIndex&&qx(A,$),xx?$.afterWriteTickInfo!==null&&$.afterWriteTickInfo.cb===gx?$.afterWriteTickInfo.count++:($.afterWriteTickInfo={count:1,cb:gx,stream:A,state:$},_.nextTick(e,$.afterWriteTickInfo)):Ox(A,$,1,gx))}function e({stream:A,state:I,count:$,cb:xx}){return I.afterWriteTickInfo=null,Ox(A,I,$,xx)}function Ox(A,I,$,xx){for(!I.ending&&!A.destroyed&&I.length===0&&I.needDrain&&(I.needDrain=!1,A.emit("drain"));$-- >0;)I.pendingcb--,xx();I.destroyed&&Nx(I),Mx(A,I)}function Nx(A){if(A.writing)return;for(let gx=A.bufferedIndex;gx<A.buffered.length;++gx){var I;let{chunk:bx,callback:vx}=A.buffered[gx],Fx=A.objectMode?1:bx.length;A.length-=Fx,vx((I=A.errored)!==null&&I!==void 0?I:new V("write"))}let $=A[s].splice(0);for(let gx=0;gx<$.length;gx++){var xx;$[gx]((xx=A.errored)!==null&&xx!==void 0?xx:new V("end"))}B(A)}function qx(A,I){if(I.corked||I.bufferProcessing||I.destroyed||!I.constructed)return;let{buffered:$,bufferedIndex:xx,objectMode:gx}=I,bx=$.length-xx;if(!bx)return;let vx=xx;if(I.bufferProcessing=!0,bx>1&&A._writev){I.pendingcb-=bx-1;let Fx=I.allNoop?a:(C_)=>{for(let nx=vx;nx<$.length;++nx)$[nx].callback(C_)},a0=I.allNoop&&vx===0?$:O($,vx);a0.allBuffers=I.allBuffers,J(A,I,!0,I.length,a0,"",Fx),B(I)}else{do{let{chunk:Fx,encoding:a0,callback:C_}=$[vx];$[vx++]=null;let nx=gx?1:Fx.length;J(A,I,!1,nx,Fx,a0,C_)}while(vx<$.length&&!I.writing);vx===$.length?B(I):vx>256?($.splice(0,vx),I.bufferedIndex=0):I.bufferedIndex=vx}I.bufferProcessing=!1}P.prototype._write=function(A,I,$){if(this._writev)this._writev([{chunk:A,encoding:I}],$);else throw new Y("_write()")},P.prototype._writev=null,P.prototype.end=function(A,I,$){let xx=this._writableState;typeof A=="function"?($=A,A=null,I=null):typeof I=="function"&&($=I,I=null);let gx;if(A!=null){let bx=i(this,A,I);bx instanceof l&&(gx=bx)}return xx.corked&&(xx.corked=1,this.uncork()),gx||(!xx.errored&&!xx.ending?(xx.ending=!0,Mx(this,xx,!0),xx.ended=!0):xx.finished?gx=new F("end"):xx.destroyed&&(gx=new V("end"))),typeof $=="function"&&(gx||xx.finished?_.nextTick($,gx):xx[s].push($)),this};function ox(A){return A.ending&&!A.destroyed&&A.constructed&&A.length===0&&!A.errored&&A.buffered.length===0&&!A.finished&&!A.writing&&!A.errorEmitted&&!A.closeEmitted}function Cx(A,I){let $=!1;function xx(gx){if($){L(A,gx??K());return}if($=!0,I.pendingcb--,gx){let bx=I[s].splice(0);for(let vx=0;vx<bx.length;vx++)bx[vx](gx);L(A,gx,I.sync)}else ox(I)&&(I.prefinished=!0,A.emit("prefinish"),I.pendingcb++,_.nextTick(rx,A,I))}I.sync=!0,I.pendingcb++;try{A._final(xx)}catch(gx){xx(gx)}I.sync=!1}function wx(A,I){!I.prefinished&&!I.finalCalled&&(typeof A._final=="function"&&!I.destroyed?(I.finalCalled=!0,Cx(A,I)):(I.prefinished=!0,A.emit("prefinish")))}function Mx(A,I,$){ox(I)&&(wx(A,I),I.pendingcb===0&&($?(I.pendingcb++,_.nextTick((xx,gx)=>{ox(gx)?rx(xx,gx):gx.pendingcb--},A,I)):ox(I)&&(I.pendingcb++,rx(A,I))))}function rx(A,I){I.pendingcb--,I.finished=!0;let $=I[s].splice(0);for(let xx=0;xx<$.length;xx++)$[xx]();if(A.emit("finish"),I.autoDestroy){let xx=A._readableState;(!xx||xx.autoDestroy&&(xx.endEmitted||xx.readable===!1))&&A.destroy()}}W(P.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(A){this._writableState&&(this._writableState.destroyed=A)}},writable:{__proto__:null,get(){let A=this._writableState;return!!A&&A.writable!==!1&&!A.destroyed&&!A.errored&&!A.ending&&!A.ended},set(A){this._writableState&&(this._writableState.writable=!!A)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let A=this._writableState;return A?!A.destroyed&&!A.ending&&A.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Wx=m.destroy;P.prototype.destroy=function(A,I){let $=this._writableState;return!$.destroyed&&($.bufferedIndex<$.buffered.length||$[s].length)&&_.nextTick(Nx,$),Wx.call(this,A,I),this},P.prototype._undestroy=m.undestroy,P.prototype._destroy=function(A,I){I(A)},P.prototype[k.captureRejectionSymbol]=function(A){this.destroy(A)};var Ex;function H(){return Ex===void 0&&(Ex={}),Ex}P.fromWeb=function(A,I){return H().newStreamWritableFromWritableStream(A,I)},P.toWeb=function(A){return H().newWritableStreamFromStreamWritable(A)}}),Ib=Lx((x,g)=>{var _=(m6(),c6(Q_)),O=FO(),{isReadable:l,isWritable:G,isIterable:p,isNodeStream:W,isReadableNodeStream:w,isWritableNodeStream:o,isDuplexNodeStream:v}=b6(),N=h6(),{AbortError:k,codes:{ERR_INVALID_ARG_TYPE:C,ERR_INVALID_RETURN_VALUE:c}}=B0(),{destroyer:m}=a8(),b=D_(),f=kp(),{createDeferredPromise:d}=U_(),M=Ik(),Y=globalThis.Blob||O.Blob,K=typeof Y<"u"?function(Q){return Q instanceof Y}:function(Q){return!1},h=globalThis.AbortController||Lz().AbortController,{FunctionPrototypeCall:V}=C0(),F=class extends b{constructor(Q){super(Q),Q?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),Q?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};g.exports=function Q(L,a){if(v(L))return L;if(w(L))return U({readable:L});if(o(L))return U({writable:L});if(W(L))return U({writable:!1,readable:!1});if(typeof L=="function"){let{value:u,write:B,final:P,destroy:i}=D(L);if(p(u))return M(F,u,{objectMode:!0,write:B,final:P,destroy:i});let lx=u?.then;if(typeof lx=="function"){let J,R=V(lx,u,(r)=>{if(r!=null)throw new c("nully","body",r)},(r)=>{m(J,r)});return J=new F({objectMode:!0,readable:!1,write:B,final(r){P(async()=>{try{await R,_.nextTick(r,null)}catch(e){_.nextTick(r,e)}})},destroy:i})}throw new c("Iterable, AsyncIterable or AsyncFunction",a,u)}if(K(L))return Q(L.arrayBuffer());if(p(L))return M(F,L,{objectMode:!0,writable:!1});if(typeof L?.writable=="object"||typeof L?.readable=="object"){let u=L!=null&&L.readable?w(L?.readable)?L?.readable:Q(L.readable):void 0,B=L!=null&&L.writable?o(L?.writable)?L?.writable:Q(L.writable):void 0;return U({readable:u,writable:B})}let s=L?.then;if(typeof s=="function"){let u;return V(s,L,(B)=>{B!=null&&u.push(B),u.push(null)},(B)=>{m(u,B)}),u=new F({objectMode:!0,writable:!1,read(){}})}throw new C(a,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],L)};function D(Q){let{promise:L,resolve:a}=d(),s=new h,u=s.signal;return{value:Q(async function*(){for(;;){let B=L;L=null;let{chunk:P,done:i,cb:lx}=await B;if(_.nextTick(lx),i)return;if(u.aborted)throw new k(void 0,{cause:u.reason});({promise:L,resolve:a}=d()),yield P}}(),{signal:u}),write(B,P,i){let lx=a;a=null,lx({chunk:B,done:!1,cb:i})},final(B){let P=a;a=null,P({done:!0,cb:B})},destroy(B,P){s.abort(),P(B)}}}function U(Q){let L=Q.readable&&typeof Q.readable.read!="function"?f.wrap(Q.readable):Q.readable,a=Q.writable,s=!!l(L),u=!!G(a),B,P,i,lx,J;function R(r){let e=lx;lx=null,e?e(r):r?J.destroy(r):!s&&!u&&J.destroy()}return J=new F({readableObjectMode:!!(L!=null&&L.readableObjectMode),writableObjectMode:!!(a!=null&&a.writableObjectMode),readable:s,writable:u}),u&&(N(a,(r)=>{u=!1,r&&m(L,r),R(r)}),J._write=function(r,e,Ox){a.write(r,e)?Ox():B=Ox},J._final=function(r){a.end(),P=r},a.on("drain",function(){if(B){let r=B;B=null,r()}}),a.on("finish",function(){if(P){let r=P;P=null,r()}})),s&&(N(L,(r)=>{s=!1,r&&m(L,r),R(r)}),L.on("readable",function(){if(i){let r=i;i=null,r()}}),L.on("end",function(){J.push(null)}),J._read=function(){for(;;){let r=L.read();if(r===null){i=J._read;return}if(!J.push(r))return}}),J._destroy=function(r,e){!r&&lx!==null&&(r=new k),i=null,B=null,P=null,lx===null?e(r):(lx=e,m(a,r),m(L,r))},J}}),D_=Lx((x,g)=>{var{ObjectDefineProperties:_,ObjectGetOwnPropertyDescriptor:O,ObjectKeys:l,ObjectSetPrototypeOf:G}=C0();g.exports=w;var p=kp(),W=Zk();G(w.prototype,p.prototype),G(w,p);{let k=l(W.prototype);for(let C=0;C<k.length;C++){let c=k[C];w.prototype[c]||(w.prototype[c]=W.prototype[c])}}function w(k){if(!(this instanceof w))return new w(k);p.call(this,k),W.call(this,k),k?(this.allowHalfOpen=k.allowHalfOpen!==!1,k.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),k.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}_(w.prototype,{writable:{__proto__:null,...O(W.prototype,"writable")},writableHighWaterMark:{__proto__:null,...O(W.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...O(W.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...O(W.prototype,"writableBuffer")},writableLength:{__proto__:null,...O(W.prototype,"writableLength")},writableFinished:{__proto__:null,...O(W.prototype,"writableFinished")},writableCorked:{__proto__:null,...O(W.prototype,"writableCorked")},writableEnded:{__proto__:null,...O(W.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...O(W.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(k){this._readableState&&this._writableState&&(this._readableState.destroyed=k,this._writableState.destroyed=k)}}});var o;function v(){return o===void 0&&(o={}),o}w.fromWeb=function(k,C){return v().newStreamDuplexFromReadableWritablePair(k,C)},w.toWeb=function(k){return v().newReadableWritablePairFromDuplex(k)};var N;w.from=function(k){return N||(N=Ib()),N(k,"body")}}),jk=Lx((x,g)=>{var{ObjectSetPrototypeOf:_,Symbol:O}=C0();g.exports=w;var{ERR_METHOD_NOT_IMPLEMENTED:l}=B0().codes,G=D_(),{getHighWaterMark:p}=uz();_(w.prototype,G.prototype),_(w,G);var W=O("kCallback");function w(N){if(!(this instanceof w))return new w(N);let k=N?p(this,N,"readableHighWaterMark",!0):null;k===0&&(N={...N,highWaterMark:null,readableHighWaterMark:k,writableHighWaterMark:N.writableHighWaterMark||0}),G.call(this,N),this._readableState.sync=!1,this[W]=null,N&&(typeof N.transform=="function"&&(this._transform=N.transform),typeof N.flush=="function"&&(this._flush=N.flush)),this.on("prefinish",v)}function o(N){typeof this._flush=="function"&&!this.destroyed?this._flush((k,C)=>{if(k){N?N(k):this.destroy(k);return}C!=null&&this.push(C),this.push(null),N&&N()}):(this.push(null),N&&N())}function v(){this._final!==o&&o.call(this)}w.prototype._final=o,w.prototype._transform=function(N,k,C){throw new l("_transform()")},w.prototype._write=function(N,k,C){let c=this._readableState,m=this._writableState,b=c.length;this._transform(N,k,(f,d)=>{if(f){C(f);return}d!=null&&this.push(d),m.ended||b===c.length||c.length<c.highWaterMark?C():this[W]=C})},w.prototype._read=function(){if(this[W]){let N=this[W];this[W]=null,N()}}}),rk=Lx((x,g)=>{var{ObjectSetPrototypeOf:_}=C0();g.exports=l;var O=jk();_(l.prototype,O.prototype),_(l,O);function l(G){if(!(this instanceof l))return new l(G);O.call(this,G)}l.prototype._transform=function(G,p,W){W(null,G)}}),Sz=Lx((x,g)=>{var _=(m6(),c6(Q_)),{ArrayIsArray:O,Promise:l,SymbolAsyncIterator:G}=C0(),p=h6(),{once:W}=U_(),w=a8(),o=D_(),{aggregateTwoErrors:v,codes:{ERR_INVALID_ARG_TYPE:N,ERR_INVALID_RETURN_VALUE:k,ERR_MISSING_ARGS:C,ERR_STREAM_DESTROYED:c,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:b}=B0(),{validateFunction:f,validateAbortSignal:d}=Np(),{isIterable:M,isReadable:Y,isReadableNodeStream:K,isNodeStream:h}=b6(),V=globalThis.AbortController||Lz().AbortController,F,D;function U(i,lx,J){let R=!1;i.on("close",()=>{R=!0});let r=p(i,{readable:lx,writable:J},(e)=>{R=!e});return{destroy:(e)=>{R||(R=!0,w.destroyer(i,e||new c("pipe")))},cleanup:r}}function Q(i){return f(i[i.length-1],"streams[stream.length - 1]"),i.pop()}function L(i){if(M(i))return i;if(K(i))return a(i);throw new N("val",["Readable","Iterable","AsyncIterable"],i)}async function*a(i){D||(D=kp()),yield*D.prototype[G].call(i)}async function s(i,lx,J,{end:R}){let r,e=null,Ox=(ox)=>{if(ox&&(r=ox),e){let Cx=e;e=null,Cx()}},Nx=()=>new l((ox,Cx)=>{r?Cx(r):e=()=>{r?Cx(r):ox()}});lx.on("drain",Ox);let qx=p(lx,{readable:!1},Ox);try{lx.writableNeedDrain&&await Nx();for await(let ox of i)lx.write(ox)||await Nx();R&&lx.end(),await Nx(),J()}catch(ox){J(r!==ox?v(r,ox):ox)}finally{qx(),lx.off("drain",Ox)}}function u(...i){return B(i,W(Q(i)))}function B(i,lx,J){if(i.length===1&&O(i[0])&&(i=i[0]),i.length<2)throw new C("streams");let R=new V,r=R.signal,e=J?.signal,Ox=[];d(e,"options.signal");function Nx(){rx(new b)}e?.addEventListener("abort",Nx);let qx,ox,Cx=[],wx=0;function Mx(A){rx(A,--wx===0)}function rx(A,I){if(A&&(!qx||qx.code==="ERR_STREAM_PREMATURE_CLOSE")&&(qx=A),!(!qx&&!I)){for(;Cx.length;)Cx.shift()(qx);e?.removeEventListener("abort",Nx),R.abort(),I&&(qx||Ox.forEach(($)=>$()),_.nextTick(lx,qx,ox))}}let Wx;for(let A=0;A<i.length;A++){let I=i[A],$=A<i.length-1,xx=A>0,gx=$||J?.end!==!1,bx=A===i.length-1;if(h(I)){let vx=function(Fx){Fx&&Fx.name!=="AbortError"&&Fx.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Mx(Fx)};var Ex=vx;if(gx){let{destroy:Fx,cleanup:a0}=U(I,$,xx);Cx.push(Fx),Y(I)&&bx&&Ox.push(a0)}I.on("error",vx),Y(I)&&bx&&Ox.push(()=>{I.removeListener("error",vx)})}if(A===0)if(typeof I=="function"){if(Wx=I({signal:r}),!M(Wx))throw new k("Iterable, AsyncIterable or Stream","source",Wx)}else M(I)||K(I)?Wx=I:Wx=o.from(I);else if(typeof I=="function")if(Wx=L(Wx),Wx=I(Wx,{signal:r}),$){if(!M(Wx,!0))throw new k("AsyncIterable",`transform[${A-1}]`,Wx)}else{var H;F||(F=rk());let vx=new F({objectMode:!0}),Fx=(H=Wx)===null||H===void 0?void 0:H.then;if(typeof Fx=="function")wx++,Fx.call(Wx,(nx)=>{ox=nx,nx!=null&&vx.write(nx),gx&&vx.end(),_.nextTick(Mx)},(nx)=>{vx.destroy(nx),_.nextTick(Mx,nx)});else if(M(Wx,!0))wx++,s(Wx,vx,Mx,{end:gx});else throw new k("AsyncIterable or Promise","destination",Wx);Wx=vx;let{destroy:a0,cleanup:C_}=U(Wx,!1,!0);Cx.push(a0),bx&&Ox.push(C_)}else if(h(I)){if(K(Wx)){wx+=2;let vx=P(Wx,I,Mx,{end:gx});Y(I)&&bx&&Ox.push(vx)}else if(M(Wx))wx++,s(Wx,I,Mx,{end:gx});else throw new N("val",["Readable","Iterable","AsyncIterable"],Wx);Wx=I}else Wx=o.from(I)}return(r!=null&&r.aborted||e!=null&&e.aborted)&&_.nextTick(Nx),Wx}function P(i,lx,J,{end:R}){let r=!1;return lx.on("close",()=>{r||J(new m)}),i.pipe(lx,{end:R}),R?i.once("end",()=>{r=!0,lx.end()}):J(),p(i,{readable:!0,writable:!1},(e)=>{let Ox=i._readableState;e&&e.code==="ERR_STREAM_PREMATURE_CLOSE"&&Ox&&Ox.ended&&!Ox.errored&&!Ox.errorEmitted?i.once("end",J).once("error",J):J(e)}),p(lx,{readable:!1,writable:!0},J)}g.exports={pipelineImpl:B,pipeline:u}}),Zb=Lx((x,g)=>{var{pipeline:_}=Sz(),O=D_(),{destroyer:l}=a8(),{isNodeStream:G,isReadable:p,isWritable:W}=b6(),{AbortError:w,codes:{ERR_INVALID_ARG_VALUE:o,ERR_MISSING_ARGS:v}}=B0();g.exports=function(...N){if(N.length===0)throw new v("streams");if(N.length===1)return O.from(N[0]);let k=[...N];if(typeof N[0]=="function"&&(N[0]=O.from(N[0])),typeof N[N.length-1]=="function"){let V=N.length-1;N[V]=O.from(N[V])}for(let V=0;V<N.length;++V)if(G(N[V])){if(V<N.length-1&&!p(N[V]))throw new o(`streams[${V}]`,k[V],"must be readable");if(V>0&&!W(N[V]))throw new o(`streams[${V}]`,k[V],"must be writable")}let C,c,m,b,f;function d(V){let F=b;b=null,F?F(V):V?f.destroy(V):!h&&!K&&f.destroy()}let M=N[0],Y=_(N,d),K=!!W(M),h=!!p(Y);return f=new O({writableObjectMode:!!(M!=null&&M.writableObjectMode),readableObjectMode:!!(Y!=null&&Y.writableObjectMode),writable:K,readable:h}),K&&(f._write=function(V,F,D){M.write(V,F)?D():C=D},f._final=function(V){M.end(),c=V},M.on("drain",function(){if(C){let V=C;C=null,V()}}),Y.on("finish",function(){if(c){let V=c;c=null,V()}})),h&&(Y.on("readable",function(){if(m){let V=m;m=null,V()}}),Y.on("end",function(){f.push(null)}),f._read=function(){for(;;){let V=Y.read();if(V===null){m=f._read;return}if(!f.push(V))return}}),f._destroy=function(V,F){!V&&b!==null&&(V=new w),m=null,C=null,c=null,b===null?F(V):(b=F,l(Y,V))},f}}),Uk=Lx((x,g)=>{var{ArrayPrototypePop:_,Promise:O}=C0(),{isIterable:l,isNodeStream:G}=b6(),{pipelineImpl:p}=Sz(),{finished:W}=h6();function w(...o){return new O((v,N)=>{let k,C,c=o[o.length-1];if(c&&typeof c=="object"&&!G(c)&&!l(c)){let m=_(o);k=m.signal,C=m.end}p(o,(m,b)=>{m?N(m):v(b)},{signal:k,end:C})})}g.exports={finished:W,pipeline:w}}),jb=Lx((x,g)=>{var{Buffer:_}=FO(),{ObjectDefineProperty:O,ObjectKeys:l,ReflectApply:G}=C0(),{promisify:{custom:p}}=U_(),{streamReturningOperators:W,promiseReturningOperators:w}=Fb(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=B0(),v=Zb(),{pipeline:N}=Sz(),{destroyer:k}=a8(),C=h6(),c=Uk(),m=b6(),b=g.exports=Fz().Stream;b.isDisturbed=m.isDisturbed,b.isErrored=m.isErrored,b.isReadable=m.isReadable,b.Readable=kp();for(let M of l(W)){let Y=function(...h){if(new.target)throw o();return b.Readable.from(G(K,this,h))};f=Y;let K=W[M];O(Y,"name",{__proto__:null,value:K.name}),O(Y,"length",{__proto__:null,value:K.length}),O(b.Readable.prototype,M,{__proto__:null,value:Y,enumerable:!1,configurable:!0,writable:!0})}var f;for(let M of l(w)){let Y=function(...h){if(new.target)throw o();return G(K,this,h)};f=Y;let K=w[M];O(Y,"name",{__proto__:null,value:K.name}),O(Y,"length",{__proto__:null,value:K.length}),O(b.Readable.prototype,M,{__proto__:null,value:Y,enumerable:!1,configurable:!0,writable:!0})}var f;b.Writable=Zk(),b.Duplex=D_(),b.Transform=jk(),b.PassThrough=rk(),b.pipeline=N;var{addAbortSignal:d}=Az();b.addAbortSignal=d,b.finished=C,b.destroy=k,b.compose=v,O(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return c}}),O(N,p,{__proto__:null,enumerable:!0,get(){return c.pipeline}}),O(C,p,{__proto__:null,enumerable:!0,get(){return c.finished}}),b.Stream=b,b._isUint8Array=function(M){return M instanceof Uint8Array},b._uint8ArrayToBuffer=function(M){return _.from(M.buffer,M.byteOffset,M.byteLength)}}),Dk=Lx((x,g)=>{var _=jb(),O=Uk(),l=_.Readable.destroy;g.exports=_.Readable,g.exports._uint8ArrayToBuffer=_._uint8ArrayToBuffer,g.exports._isUint8Array=_._isUint8Array,g.exports.isDisturbed=_.isDisturbed,g.exports.isErrored=_.isErrored,g.exports.isReadable=_.isReadable,g.exports.Readable=_.Readable,g.exports.Writable=_.Writable,g.exports.Duplex=_.Duplex,g.exports.Transform=_.Transform,g.exports.PassThrough=_.PassThrough,g.exports.addAbortSignal=_.addAbortSignal,g.exports.finished=_.finished,g.exports.destroy=_.destroy,g.exports.destroy=l,g.exports.pipeline=_.pipeline,g.exports.compose=_.compose,Object.defineProperty(_,"promises",{configurable:!0,enumerable:!0,get(){return O}}),g.exports.Stream=_.Stream,g.exports.default=g.exports}),Qk={};Ak(Qk,{default:()=>ak});uk(Qk,vp(Dk()));ak=vp(Dk());/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */});var a_=px((Ub)=>{Ub.base64=!0;Ub.array=!0;Ub.string=!0;Ub.arraybuffer=typeof ArrayBuffer!=="undefined"&&typeof Uint8Array!=="undefined";Ub.nodebuffer=typeof Buffer!=="undefined";Ub.uint8array=typeof Uint8Array!=="undefined";if(typeof ArrayBuffer==="undefined")Ub.blob=!1;else{dp=new ArrayBuffer(0);try{Ub.blob=new Blob([dp],{type:"application/zip"}).size===0}catch(x){try{rz=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,Cp=new rz,Cp.append(dp),Ub.blob=Cp.getBlob("application/zip").size===0}catch(g){Ub.blob=!1}}}var dp,rz,Cp;try{Ub.nodestream=!!(Zz(),N3(Iz)).Readable}catch(x){Ub.nodestream=!1}});var Uz=px((Pb)=>{var Bb=tx(),Hb=a_(),G_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Pb.encode=function(x){var g=[],_,O,l,G,p,W,w,o=0,v=x.length,N=v,k=Bb.getTypeOf(x)!=="string";while(o<x.length){if(N=v-o,!k)_=x.charCodeAt(o++),O=o<v?x.charCodeAt(o++):0,l=o<v?x.charCodeAt(o++):0;else _=x[o++],O=o<v?x[o++]:0,l=o<v?x[o++]:0;G=_>>2,p=(_&3)<<4|O>>4,W=N>1?(O&15)<<2|l>>6:64,w=N>2?l&63:64,g.push(G_.charAt(G)+G_.charAt(p)+G_.charAt(W)+G_.charAt(w))}return g.join("")};Pb.decode=function(x){var g,_,O,l,G,p,W,w=0,o=0,v="data:";if(x.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");x=x.replace(/[^A-Za-z0-9+/=]/g,"");var N=x.length*3/4;if(x.charAt(x.length-1)===G_.charAt(64))N--;if(x.charAt(x.length-2)===G_.charAt(64))N--;if(N%1!==0)throw new Error("Invalid base64 input, bad content length.");var k;if(Hb.uint8array)k=new Uint8Array(N|0);else k=new Array(N|0);while(w<x.length){if(l=G_.indexOf(x.charAt(w++)),G=G_.indexOf(x.charAt(w++)),p=G_.indexOf(x.charAt(w++)),W=G_.indexOf(x.charAt(w++)),g=l<<2|G>>4,_=(G&15)<<4|p>>2,O=(p&3)<<6|W,k[o++]=g,p!==64)k[o++]=_;if(W!==64)k[o++]=O}return k}});var R7=px((Ou,Ek)=>{Ek.exports={isNode:typeof Buffer!=="undefined",newBufferFrom:function(x,g){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(x,g);else{if(typeof x==="number")throw new Error('The "data" argument must not be a number');return new Buffer(x,g)}},allocBuffer:function(x){if(Buffer.alloc)return Buffer.alloc(x);else{var g=new Buffer(x);return g.fill(0),g}},isBuffer:function(x){return Buffer.isBuffer(x)},isStream:function(x){return x&&typeof x.on==="function"&&typeof x.pause==="function"&&typeof x.resume==="function"}}});var Bk=px((lu,$k)=>{var nk=global.MutationObserver||global.WebKitMutationObserver,T7;if(nk)Mp=0,Dz=new nk(qp),Yp=global.document.createTextNode(""),Dz.observe(Yp,{characterData:!0}),T7=function(){Yp.data=Mp=++Mp%2};else if(!global.setImmediate&&typeof global.MessageChannel!=="undefined")fp=new global.MessageChannel,fp.port1.onmessage=qp,T7=function(){fp.port2.postMessage(0)};else if("document"in global&&"onreadystatechange"in global.document.createElement("script"))T7=function(){var x=global.document.createElement("script");x.onreadystatechange=function(){qp(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},global.document.documentElement.appendChild(x)};else T7=function(){setTimeout(qp,0)};var Mp,Dz,Yp,fp,Qz,s7=[];function qp(){Qz=!0;var x,g,_=s7.length;while(_){g=s7,s7=[],x=-1;while(++x<_)g[x]();_=s7.length}Qz=!1}$k.exports=Rb;function Rb(x){if(s7.push(x)===1&&!Qz)T7()}});var Tk=px((Gu,Rk)=>{var Tb=Bk();function E8(){}var A0={},Hk=["REJECTED"],az=["FULFILLED"],Pk=["PENDING"];Rk.exports=AO;function AO(x){if(typeof x!=="function")throw new TypeError("resolver must be a function");if(this.state=Pk,this.queue=[],this.outcome=void 0,x!==E8)Jk(this,x)}AO.prototype.finally=function(x){if(typeof x!=="function")return this;var g=this.constructor;return this.then(_,O);function _(l){function G(){return l}return g.resolve(x()).then(G)}function O(l){function G(){throw l}return g.resolve(x()).then(G)}};AO.prototype.catch=function(x){return this.then(null,x)};AO.prototype.then=function(x,g){if(typeof x!=="function"&&this.state===az||typeof g!=="function"&&this.state===Hk)return this;var _=new this.constructor(E8);if(this.state!==Pk){var O=this.state===az?x:g;Ez(_,O,this.outcome)}else this.queue.push(new t7(_,x,g));return _};function t7(x,g,_){if(this.promise=x,typeof g==="function")this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled;if(typeof _==="function")this.onRejected=_,this.callRejected=this.otherCallRejected}t7.prototype.callFulfilled=function(x){A0.resolve(this.promise,x)};t7.prototype.otherCallFulfilled=function(x){Ez(this.promise,this.onFulfilled,x)};t7.prototype.callRejected=function(x){A0.reject(this.promise,x)};t7.prototype.otherCallRejected=function(x){Ez(this.promise,this.onRejected,x)};function Ez(x,g,_){Tb(function(){var O;try{O=g(_)}catch(l){return A0.reject(x,l)}if(O===x)A0.reject(x,new TypeError("Cannot resolve promise with itself"));else A0.resolve(x,O)})}A0.resolve=function(x,g){var _=ik(sb,g);if(_.status==="error")return A0.reject(x,_.value);var O=_.value;if(O)Jk(x,O);else{x.state=az,x.outcome=g;var l=-1,G=x.queue.length;while(++l<G)x.queue[l].callFulfilled(g)}return x};A0.reject=function(x,g){x.state=Hk,x.outcome=g;var _=-1,O=x.queue.length;while(++_<O)x.queue[_].callRejected(g);return x};function sb(x){var g=x&&x.then;if(x&&(typeof x==="object"||typeof x==="function")&&typeof g==="function")return function _(){g.apply(x,arguments)}}function Jk(x,g){var _=!1;function O(W){if(_)return;_=!0,A0.reject(x,W)}function l(W){if(_)return;_=!0,A0.resolve(x,W)}function G(){g(l,O)}var p=ik(G);if(p.status==="error")O(p.value)}function ik(x,g){var _={};try{_.value=x(g),_.status="success"}catch(O){_.status="error",_.value=O}return _}AO.resolve=tb;function tb(x){if(x instanceof this)return x;return A0.resolve(new this(E8),x)}AO.reject=eb;function eb(x){var g=new this(E8);return A0.reject(g,x)}AO.all=xh;function xh(x){var g=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);var l=new Array(_),G=0,p=-1,W=new this(E8);while(++p<_)w(x[p],p);return W;function w(o,v){g.resolve(o).then(N,function(k){if(!O)O=!0,A0.reject(W,k)});function N(k){if(l[v]=k,++G===_&&!O)O=!0,A0.resolve(W,l)}}}AO.race=gh;function gh(x){var g=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);var l=-1,G=new this(E8);while(++l<_)p(x[l]);return G;function p(W){g.resolve(W).then(function(w){if(!O)O=!0,A0.resolve(G,w)},function(w){if(!O)O=!0,A0.reject(G,w)})}}});var n8=px((pu,sk)=>{var nz=null;if(typeof Promise!=="undefined")nz=Promise;else nz=Tk();sk.exports={Promise:nz}});var ek=px((tk)=>{(function(x,g){if(x.setImmediate)return;var _=1,O={},l=!1,G=x.document,p;function W(d){if(typeof d!=="function")d=new Function(""+d);var M=new Array(arguments.length-1);for(var Y=0;Y<M.length;Y++)M[Y]=arguments[Y+1];var K={callback:d,args:M};return O[_]=K,p(_),_++}function w(d){delete O[d]}function o(d){var{callback:M,args:Y}=d;switch(Y.length){case 0:M();break;case 1:M(Y[0]);break;case 2:M(Y[0],Y[1]);break;case 3:M(Y[0],Y[1],Y[2]);break;default:M.apply(g,Y);break}}function v(d){if(l)setTimeout(v,0,d);else{var M=O[d];if(M){l=!0;try{o(M)}finally{w(d),l=!1}}}}function N(){p=function(d){process.nextTick(function(){v(d)})}}function k(){if(x.postMessage&&!x.importScripts){var d=!0,M=x.onmessage;return x.onmessage=function(){d=!1},x.postMessage("","*"),x.onmessage=M,d}}function C(){var d="setImmediate$"+Math.random()+"$",M=function(Y){if(Y.source===x&&typeof Y.data==="string"&&Y.data.indexOf(d)===0)v(+Y.data.slice(d.length))};if(x.addEventListener)x.addEventListener("message",M,!1);else x.attachEvent("onmessage",M);p=function(Y){x.postMessage(d+Y,"*")}}function c(){var d=new MessageChannel;d.port1.onmessage=function(M){var Y=M.data;v(Y)},p=function(M){d.port2.postMessage(M)}}function m(){var d=G.documentElement;p=function(M){var Y=G.createElement("script");Y.onreadystatechange=function(){v(M),Y.onreadystatechange=null,d.removeChild(Y),Y=null},d.appendChild(Y)}}function b(){p=function(d){setTimeout(v,0,d)}}var f=Object.getPrototypeOf&&Object.getPrototypeOf(x);if(f=f&&f.setTimeout?f:x,{}.toString.call(x.process)==="[object process]")N();else if(k())C();else if(x.MessageChannel)c();else if(G&&"onreadystatechange"in G.createElement("script"))m();else b();f.setImmediate=W,f.clearImmediate=w})(typeof self==="undefined"?typeof global==="undefined"?tk:global:self)});var tx=px((lh)=>{var uO=a_(),_h=Uz(),$8=R7(),$z=n8();ek();function Oh(x){var g=null;if(uO.uint8array)g=new Uint8Array(x.length);else g=new Array(x.length);return mp(x,g)}lh.newBlob=function(x,g){lh.checkSupport("blob");try{return new Blob([x],{type:g})}catch(l){try{var _=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,O=new _;return O.append(x),O.getBlob(g)}catch(G){throw new Error("Bug : can't construct the Blob.")}}};function e7(x){return x}function mp(x,g){for(var _=0;_<x.length;++_)g[_]=x.charCodeAt(_)&255;return g}var cp={stringifyByChunk:function(x,g,_){var O=[],l=0,G=x.length;if(G<=_)return String.fromCharCode.apply(null,x);while(l<G){if(g==="array"||g==="nodebuffer")O.push(String.fromCharCode.apply(null,x.slice(l,Math.min(l+_,G))));else O.push(String.fromCharCode.apply(null,x.subarray(l,Math.min(l+_,G))));l+=_}return O.join("")},stringifyByChar:function(x){var g="";for(var _=0;_<x.length;_++)g+=String.fromCharCode(x[_]);return g},applyCanBeUsed:{uint8array:function(){try{return uO.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(x){return!1}}(),nodebuffer:function(){try{return uO.nodebuffer&&String.fromCharCode.apply(null,$8.allocBuffer(1)).length===1}catch(x){return!1}}()}};function x9(x){var g=65536,_=lh.getTypeOf(x),O=!0;if(_==="uint8array")O=cp.applyCanBeUsed.uint8array;else if(_==="nodebuffer")O=cp.applyCanBeUsed.nodebuffer;if(O)while(g>1)try{return cp.stringifyByChunk(x,_,g)}catch(l){g=Math.floor(g/2)}return cp.stringifyByChar(x)}lh.applyFromCharCode=x9;function bp(x,g){for(var _=0;_<x.length;_++)g[_]=x[_];return g}var SO={};SO.string={string:e7,array:function(x){return mp(x,new Array(x.length))},arraybuffer:function(x){return SO.string.uint8array(x).buffer},uint8array:function(x){return mp(x,new Uint8Array(x.length))},nodebuffer:function(x){return mp(x,$8.allocBuffer(x.length))}};SO.array={string:x9,array:e7,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return $8.newBufferFrom(x)}};SO.arraybuffer={string:function(x){return x9(new Uint8Array(x))},array:function(x){return bp(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:e7,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return $8.newBufferFrom(new Uint8Array(x))}};SO.uint8array={string:x9,array:function(x){return bp(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:e7,nodebuffer:function(x){return $8.newBufferFrom(x)}};SO.nodebuffer={string:x9,array:function(x){return bp(x,new Array(x.length))},arraybuffer:function(x){return SO.nodebuffer.uint8array(x).buffer},uint8array:function(x){return bp(x,new Uint8Array(x.length))},nodebuffer:e7};lh.transformTo=function(x,g){if(!g)g="";if(!x)return g;lh.checkSupport(x);var _=lh.getTypeOf(g),O=SO[_][x](g);return O};lh.resolve=function(x){var g=x.split("/"),_=[];for(var O=0;O<g.length;O++){var l=g[O];if(l==="."||l===""&&O!==0&&O!==g.length-1)continue;else if(l==="..")_.pop();else _.push(l)}return _.join("/")};lh.getTypeOf=function(x){if(typeof x==="string")return"string";if(Object.prototype.toString.call(x)==="[object Array]")return"array";if(uO.nodebuffer&&$8.isBuffer(x))return"nodebuffer";if(uO.uint8array&&x instanceof Uint8Array)return"uint8array";if(uO.arraybuffer&&x instanceof ArrayBuffer)return"arraybuffer"};lh.checkSupport=function(x){var g=uO[x.toLowerCase()];if(!g)throw new Error(x+" is not supported by this platform")};lh.MAX_VALUE_16BITS=65535;lh.MAX_VALUE_32BITS=-1;lh.pretty=function(x){var g="",_,O;for(O=0;O<(x||"").length;O++)_=x.charCodeAt(O),g+="\\x"+(_<16?"0":"")+_.toString(16).toUpperCase();return g};lh.delay=function(x,g,_){setImmediate(function(){x.apply(_||null,g||[])})};lh.inherits=function(x,g){var _=function(){};_.prototype=g.prototype,x.prototype=new _};lh.extend=function(){var x={},g,_;for(g=0;g<arguments.length;g++)for(_ in arguments[g])if(Object.prototype.hasOwnProperty.call(arguments[g],_)&&typeof x[_]==="undefined")x[_]=arguments[g][_];return x};lh.prepareContent=function(x,g,_,O,l){var G=$z.Promise.resolve(g).then(function(p){var W=uO.blob&&(p instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(p))!==-1);if(W&&typeof FileReader!=="undefined")return new $z.Promise(function(w,o){var v=new FileReader;v.onload=function(N){w(N.target.result)},v.onerror=function(N){o(N.target.error)},v.readAsArrayBuffer(p)});else return p});return G.then(function(p){var W=lh.getTypeOf(p);if(!W)return $z.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"));if(W==="arraybuffer")p=lh.transformTo("uint8array",p);else if(W==="string"){if(l)p=_h.decode(p);else if(_){if(O!==!0)p=Oh(p)}}return p})}});var lg=px((wu,Od)=>{function _d(x){this.name=x||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}_d.prototype={push:function(x){this.emit("data",x)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(x){this.emit("error",x)}return!0},error:function(x){if(this.isFinished)return!1;if(this.isPaused)this.generatedError=x;else{if(this.isFinished=!0,this.emit("error",x),this.previous)this.previous.error(x);this.cleanUp()}return!0},on:function(x,g){return this._listeners[x].push(g),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(x,g){if(this._listeners[x])for(var _=0;_<this._listeners[x].length;_++)this._listeners[x][_].call(this,g)},pipe:function(x){return x.registerPrevious(this)},registerPrevious:function(x){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=x.streamInfo,this.mergeStreamInfo(),this.previous=x;var g=this;return x.on("data",function(_){g.processChunk(_)}),x.on("end",function(){g.end()}),x.on("error",function(_){g.error(_)}),this},pause:function(){if(this.isPaused||this.isFinished)return!1;if(this.isPaused=!0,this.previous)this.previous.pause();return!0},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var x=!1;if(this.generatedError)this.error(this.generatedError),x=!0;if(this.previous)this.previous.resume();return!x},flush:function(){},processChunk:function(x){this.push(x)},withStreamInfo:function(x,g){return this.extraStreamInfo[x]=g,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var x in this.extraStreamInfo){if(!Object.prototype.hasOwnProperty.call(this.extraStreamInfo,x))continue;this.streamInfo[x]=this.extraStreamInfo[x]}},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");if(this.isLocked=!0,this.previous)this.previous.lock()},toString:function(){var x="Worker "+this.name;if(this.previous)return this.previous+" -> "+x;else return x}};Od.exports=_d});var H8=px((Yh)=>{var B8=tx(),K6=a_(),dh=R7(),hp=lg(),g9=new Array(256);for(p_=0;p_<256;p_++)g9[p_]=p_>=252?6:p_>=248?5:p_>=240?4:p_>=224?3:p_>=192?2:1;var p_;g9[254]=g9[254]=1;var Ch=function(x){var g,_,O,l,G,p=x.length,W=0;for(l=0;l<p;l++){if(_=x.charCodeAt(l),(_&64512)===55296&&l+1<p){if(O=x.charCodeAt(l+1),(O&64512)===56320)_=65536+(_-55296<<10)+(O-56320),l++}W+=_<128?1:_<2048?2:_<65536?3:4}if(K6.uint8array)g=new Uint8Array(W);else g=new Array(W);for(G=0,l=0;G<W;l++){if(_=x.charCodeAt(l),(_&64512)===55296&&l+1<p){if(O=x.charCodeAt(l+1),(O&64512)===56320)_=65536+(_-55296<<10)+(O-56320),l++}if(_<128)g[G++]=_;else if(_<2048)g[G++]=192|_>>>6,g[G++]=128|_&63;else if(_<65536)g[G++]=224|_>>>12,g[G++]=128|_>>>6&63,g[G++]=128|_&63;else g[G++]=240|_>>>18,g[G++]=128|_>>>12&63,g[G++]=128|_>>>6&63,g[G++]=128|_&63}return g},qh=function(x,g){var _;if(g=g||x.length,g>x.length)g=x.length;_=g-1;while(_>=0&&(x[_]&192)===128)_--;if(_<0)return g;if(_===0)return g;return _+g9[x[_]]>g?_:g},Mh=function(x){var g,_,O,l,G=x.length,p=new Array(G*2);for(_=0,g=0;g<G;){if(O=x[g++],O<128){p[_++]=O;continue}if(l=g9[O],l>4){p[_++]=65533,g+=l-1;continue}O&=l===2?31:l===3?15:7;while(l>1&&g<G)O=O<<6|x[g++]&63,l--;if(l>1){p[_++]=65533;continue}if(O<65536)p[_++]=O;else O-=65536,p[_++]=55296|O>>10&1023,p[_++]=56320|O&1023}if(p.length!==_)if(p.subarray)p=p.subarray(0,_);else p.length=_;return B8.applyFromCharCode(p)};Yh.utf8encode=function x(g){if(K6.nodebuffer)return dh.newBufferFrom(g,"utf-8");return Ch(g)};Yh.utf8decode=function x(g){if(K6.nodebuffer)return B8.transformTo("nodebuffer",g).toString("utf-8");return g=B8.transformTo(K6.uint8array?"uint8array":"array",g),Mh(g)};function Kp(){hp.call(this,"utf-8 decode"),this.leftOver=null}B8.inherits(Kp,hp);Kp.prototype.processChunk=function(x){var g=B8.transformTo(K6.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(K6.uint8array){var _=g;g=new Uint8Array(_.length+this.leftOver.length),g.set(this.leftOver,0),g.set(_,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var O=qh(g),l=g;if(O!==g.length)if(K6.uint8array)l=g.subarray(0,O),this.leftOver=g.subarray(O,g.length);else l=g.slice(0,O),this.leftOver=g.slice(O,g.length);this.push({data:Yh.utf8decode(l),meta:x.meta})};Kp.prototype.flush=function(){if(this.leftOver&&this.leftOver.length)this.push({data:Yh.utf8decode(this.leftOver),meta:{}}),this.leftOver=null};Yh.Utf8DecodeWorker=Kp;function Hz(){hp.call(this,"utf-8 encode")}B8.inherits(Hz,hp);Hz.prototype.processChunk=function(x){this.push({data:Yh.utf8encode(x.data),meta:x.meta})};Yh.Utf8EncodeWorker=Hz});var od=px((vu,Wd)=>{var Gd=lg(),pd=tx();function Jz(x){Gd.call(this,"ConvertWorker to "+x),this.destType=x}pd.inherits(Jz,Gd);Jz.prototype.processChunk=function(x){this.push({data:pd.transformTo(this.destType,x.data),meta:x.meta})};Wd.exports=Jz});var vd=px((yu,zd)=>{var wd=(Zz(),N3(Iz)).Readable,mh=tx();mh.inherits(iz,wd);function iz(x,g,_){wd.call(this,g),this._helper=x;var O=this;x.on("data",function(l,G){if(!O.push(l))O._helper.pause();if(_)_(G)}).on("error",function(l){O.emit("error",l)}).on("end",function(){O.push(null)})}iz.prototype._read=function(){this._helper.resume()};zd.exports=iz});var Rz=px((Nu,kd)=>{var V6=tx(),bh=od(),hh=lg(),Kh=Uz(),Vh=a_(),Lh=n8(),yd=null;if(Vh.nodestream)try{yd=vd()}catch(x){}function Xh(x,g,_){switch(x){case"blob":return V6.newBlob(V6.transformTo("arraybuffer",g),_);case"base64":return Kh.encode(g);default:return V6.transformTo(x,g)}}function Fh(x,g){var _,O=0,l=null,G=0;for(_=0;_<g.length;_++)G+=g[_].length;switch(x){case"string":return g.join("");case"array":return Array.prototype.concat.apply([],g);case"uint8array":l=new Uint8Array(G);for(_=0;_<g.length;_++)l.set(g[_],O),O+=g[_].length;return l;case"nodebuffer":return Buffer.concat(g);default:throw new Error("concat : unsupported type '"+x+"'")}}function Ah(x,g){return new Lh.Promise(function(_,O){var l=[],G=x._internalType,p=x._outputType,W=x._mimeType;x.on("data",function(w,o){if(l.push(w),g)g(o)}).on("error",function(w){l=[],O(w)}).on("end",function(){try{var w=Xh(p,Fh(G,l),W);_(w)}catch(o){O(o)}l=[]}).resume()})}function Nd(x,g,_){var O=g;switch(g){case"blob":case"arraybuffer":O="uint8array";break;case"base64":O="string";break}try{this._internalType=O,this._outputType=g,this._mimeType=_,V6.checkSupport(O),this._worker=x.pipe(new bh(O)),x.lock()}catch(l){this._worker=new hh("error"),this._worker.error(l)}}Nd.prototype={accumulate:function(x){return Ah(this,x)},on:function(x,g){var _=this;if(x==="data")this._worker.on(x,function(O){g.call(_,O.data,O.meta)});else this._worker.on(x,function(){V6.delay(g,arguments,_)});return this},resume:function(){return V6.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(V6.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new yd(this,{objectMode:this._outputType!=="nodebuffer"},x)}};kd.exports=Nd});var Tz=px((uh)=>{uh.base64=!1;uh.binary=!1;uh.dir=!1;uh.createFolders=!0;uh.date=null;uh.compression=null;uh.compressionOptions=null;uh.comment=null;uh.unixPermissions=null;uh.dosPermissions=null});var sz=px((du,dd)=>{var Vp=tx(),Lp=lg(),nh=16384;function P8(x){Lp.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(_){if(g.dataIsReady=!0,g.data=_,g.max=_&&_.length||0,g.type=Vp.getTypeOf(_),!g.isPaused)g._tickAndRepeat()},function(_){g.error(_)})}Vp.inherits(P8,Lp);P8.prototype.cleanUp=function(){Lp.prototype.cleanUp.call(this),this.data=null};P8.prototype.resume=function(){if(!Lp.prototype.resume.call(this))return!1;if(!this._tickScheduled&&this.dataIsReady)this._tickScheduled=!0,Vp.delay(this._tickAndRepeat,[],this);return!0};P8.prototype._tickAndRepeat=function(){if(this._tickScheduled=!1,this.isPaused||this.isFinished)return;if(this._tick(),!this.isFinished)Vp.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0};P8.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=nh,g=null,_=Math.min(this.max,this.index+x);if(this.index>=this.max)return this.end();else{switch(this.type){case"string":g=this.data.substring(this.index,_);break;case"uint8array":g=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":g=this.data.slice(this.index,_);break}return this.index=_,this.push({data:g,meta:{percent:this.max?this.index/this.max*100:0}})}};dd.exports=P8});var Xp=px((Cu,qd)=>{var $h=tx();function Bh(){var x,g=[];for(var _=0;_<256;_++){x=_;for(var O=0;O<8;O++)x=x&1?3988292384^x>>>1:x>>>1;g[_]=x}return g}var Cd=Bh();function Hh(x,g,_,O){var l=Cd,G=O+_;x=x^-1;for(var p=O;p<G;p++)x=x>>>8^l[(x^g[p])&255];return x^-1}function Ph(x,g,_,O){var l=Cd,G=O+_;x=x^-1;for(var p=O;p<G;p++)x=x>>>8^l[(x^g.charCodeAt(p))&255];return x^-1}qd.exports=function x(g,_){if(typeof g==="undefined"||!g.length)return 0;var O=$h.getTypeOf(g)!=="string";if(O)return Hh(_|0,g,g.length,0);else return Ph(_|0,g,g.length,0)}});var ez=px((qu,Yd)=>{var Md=lg(),Jh=Xp(),ih=tx();function tz(){Md.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}ih.inherits(tz,Md);tz.prototype.processChunk=function(x){this.streamInfo.crc32=Jh(x.data,this.streamInfo.crc32||0),this.push(x)};Yd.exports=tz});var cd=px((Mu,fd)=>{var Rh=tx(),xv=lg();function gv(x){xv.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}Rh.inherits(gv,xv);gv.prototype.processChunk=function(x){if(x){var g=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=g+x.data.length}xv.prototype.processChunk.call(this,x)};fd.exports=gv});var Fp=px((Yu,hd)=>{var md=n8(),bd=sz(),Th=ez(),_v=cd();function Ov(x,g,_,O,l){this.compressedSize=x,this.uncompressedSize=g,this.crc32=_,this.compression=O,this.compressedContent=l}Ov.prototype={getContentWorker:function(){var x=new bd(md.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new _v("data_length")),g=this;return x.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new bd(md.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}};Ov.createWorkerFrom=function(x,g,_){return x.pipe(new Th).pipe(new _v("uncompressedSize")).pipe(g.compressWorker(_)).pipe(new _v("compressedSize")).withStreamInfo("compression",g)};hd.exports=Ov});var Xd=px((fu,Ld)=>{var sh=Rz(),th=sz(),lv=H8(),Gv=Fp(),Kd=lg(),pv=function(x,g,_){this.name=x,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=g,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}};pv.prototype={internalStream:function(x){var g=null,_="string";try{if(!x)throw new Error("No output type specified.");_=x.toLowerCase();var O=_==="string"||_==="text";if(_==="binarystring"||_==="text")_="string";g=this._decompressWorker();var l=!this._dataBinary;if(l&&!O)g=g.pipe(new lv.Utf8EncodeWorker);if(!l&&O)g=g.pipe(new lv.Utf8DecodeWorker)}catch(G){g=new Kd("error"),g.error(G)}return new sh(g,_,"")},async:function(x,g){return this.internalStream(x).accumulate(g)},nodeStream:function(x,g){return this.internalStream(x||"nodebuffer").toNodejsStream(g)},_compressWorker:function(x,g){if(this._data instanceof Gv&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();else{var _=this._decompressWorker();if(!this._dataBinary)_=_.pipe(new lv.Utf8EncodeWorker);return Gv.createWorkerFrom(_,x,g)}},_decompressWorker:function(){if(this._data instanceof Gv)return this._data.getContentWorker();else if(this._data instanceof Kd)return this._data;else return new th(this._data)}};var Vd=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],eh=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")};for(_9=0;_9<Vd.length;_9++)pv.prototype[Vd[_9]]=eh;var _9;Ld.exports=pv});var E_=px((Wv)=>{var OK=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Int32Array!=="undefined";function lK(x,g){return Object.prototype.hasOwnProperty.call(x,g)}Wv.assign=function(x){var g=Array.prototype.slice.call(arguments,1);while(g.length){var _=g.shift();if(!_)continue;if(typeof _!=="object")throw new TypeError(_+"must be non-object");for(var O in _)if(lK(_,O))x[O]=_[O]}return x};Wv.shrinkBuf=function(x,g){if(x.length===g)return x;if(x.subarray)return x.subarray(0,g);return x.length=g,x};var GK={arraySet:function(x,g,_,O,l){if(g.subarray&&x.subarray){x.set(g.subarray(_,_+O),l);return}for(var G=0;G<O;G++)x[l+G]=g[_+G]},flattenChunks:function(x){var g,_,O,l,G,p;O=0;for(g=0,_=x.length;g<_;g++)O+=x[g].length;p=new Uint8Array(O),l=0;for(g=0,_=x.length;g<_;g++)G=x[g],p.set(G,l),l+=G.length;return p}},pK={arraySet:function(x,g,_,O,l){for(var G=0;G<O;G++)x[l+G]=g[_+G]},flattenChunks:function(x){return[].concat.apply([],x)}};Wv.setTyped=function(x){if(x)Wv.Buf8=Uint8Array,Wv.Buf16=Uint16Array,Wv.Buf32=Int32Array,Wv.assign(Wv,GK);else Wv.Buf8=Array,Wv.Buf16=Array,Wv.Buf32=Array,Wv.assign(Wv,pK)};Wv.setTyped(OK)});var td=px((FK)=>{var oK=E_(),wK=4,Ad=0,ud=1,zK=2;function i8(x){var g=x.length;while(--g>=0)x[g]=0}var vK=0,Ud=1,yK=2,NK=3,kK=258,dv=29,o9=256,l9=o9+1+dv,J8=30,Cv=19,Dd=2*l9+1,L6=15,wv=16,dK=7,qv=256,Qd=16,ad=17,Ed=18,Nv=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ap=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],CK=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nd=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],qK=512,n_=new Array((l9+2)*2);i8(n_);var O9=new Array(J8*2);i8(O9);var G9=new Array(qK);i8(G9);var p9=new Array(kK-NK+1);i8(p9);var Mv=new Array(dv);i8(Mv);var up=new Array(J8);i8(up);function zv(x,g,_,O,l){this.static_tree=x,this.extra_bits=g,this.extra_base=_,this.elems=O,this.max_length=l,this.has_stree=x&&x.length}var $d,Bd,Hd;function vv(x,g){this.dyn_tree=x,this.max_code=0,this.stat_desc=g}function Pd(x){return x<256?G9[x]:G9[256+(x>>>7)]}function W9(x,g){x.pending_buf[x.pending++]=g&255,x.pending_buf[x.pending++]=g>>>8&255}function H0(x,g,_){if(x.bi_valid>wv-_)x.bi_buf|=g<<x.bi_valid&65535,W9(x,x.bi_buf),x.bi_buf=g>>wv-x.bi_valid,x.bi_valid+=_-wv;else x.bi_buf|=g<<x.bi_valid&65535,x.bi_valid+=_}function W_(x,g,_){H0(x,_[g*2],_[g*2+1])}function Jd(x,g){var _=0;do _|=x&1,x>>>=1,_<<=1;while(--g>0);return _>>>1}function MK(x){if(x.bi_valid===16)W9(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0;else if(x.bi_valid>=8)x.pending_buf[x.pending++]=x.bi_buf&255,x.bi_buf>>=8,x.bi_valid-=8}function YK(x,g){var{dyn_tree:_,max_code:O}=g,l=g.stat_desc.static_tree,G=g.stat_desc.has_stree,p=g.stat_desc.extra_bits,W=g.stat_desc.extra_base,w=g.stat_desc.max_length,o,v,N,k,C,c,m=0;for(k=0;k<=L6;k++)x.bl_count[k]=0;_[x.heap[x.heap_max]*2+1]=0;for(o=x.heap_max+1;o<Dd;o++){if(v=x.heap[o],k=_[_[v*2+1]*2+1]+1,k>w)k=w,m++;if(_[v*2+1]=k,v>O)continue;if(x.bl_count[k]++,C=0,v>=W)C=p[v-W];if(c=_[v*2],x.opt_len+=c*(k+C),G)x.static_len+=c*(l[v*2+1]+C)}if(m===0)return;do{k=w-1;while(x.bl_count[k]===0)k--;x.bl_count[k]--,x.bl_count[k+1]+=2,x.bl_count[w]--,m-=2}while(m>0);for(k=w;k!==0;k--){v=x.bl_count[k];while(v!==0){if(N=x.heap[--o],N>O)continue;if(_[N*2+1]!==k)x.opt_len+=(k-_[N*2+1])*_[N*2],_[N*2+1]=k;v--}}}function id(x,g,_){var O=new Array(L6+1),l=0,G,p;for(G=1;G<=L6;G++)O[G]=l=l+_[G-1]<<1;for(p=0;p<=g;p++){var W=x[p*2+1];if(W===0)continue;x[p*2]=Jd(O[W]++,W)}}function fK(){var x,g,_,O,l,G=new Array(L6+1);_=0;for(O=0;O<dv-1;O++){Mv[O]=_;for(x=0;x<1<<Nv[O];x++)p9[_++]=O}p9[_-1]=O,l=0;for(O=0;O<16;O++){up[O]=l;for(x=0;x<1<<Ap[O];x++)G9[l++]=O}l>>=7;for(;O<J8;O++){up[O]=l<<7;for(x=0;x<1<<Ap[O]-7;x++)G9[256+l++]=O}for(g=0;g<=L6;g++)G[g]=0;x=0;while(x<=143)n_[x*2+1]=8,x++,G[8]++;while(x<=255)n_[x*2+1]=9,x++,G[9]++;while(x<=279)n_[x*2+1]=7,x++,G[7]++;while(x<=287)n_[x*2+1]=8,x++,G[8]++;id(n_,l9+1,G);for(x=0;x<J8;x++)O9[x*2+1]=5,O9[x*2]=Jd(x,5);$d=new zv(n_,Nv,o9+1,l9,L6),Bd=new zv(O9,Ap,0,J8,L6),Hd=new zv(new Array(0),CK,0,Cv,dK)}function Rd(x){var g;for(g=0;g<l9;g++)x.dyn_ltree[g*2]=0;for(g=0;g<J8;g++)x.dyn_dtree[g*2]=0;for(g=0;g<Cv;g++)x.bl_tree[g*2]=0;x.dyn_ltree[qv*2]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function Td(x){if(x.bi_valid>8)W9(x,x.bi_buf);else if(x.bi_valid>0)x.pending_buf[x.pending++]=x.bi_buf;x.bi_buf=0,x.bi_valid=0}function cK(x,g,_,O){if(Td(x),O)W9(x,_),W9(x,~_);oK.arraySet(x.pending_buf,x.window,g,_,x.pending),x.pending+=_}function Sd(x,g,_,O){var l=g*2,G=_*2;return x[l]<x[G]||x[l]===x[G]&&O[g]<=O[_]}function yv(x,g,_){var O=x.heap[_],l=_<<1;while(l<=x.heap_len){if(l<x.heap_len&&Sd(g,x.heap[l+1],x.heap[l],x.depth))l++;if(Sd(g,O,x.heap[l],x.depth))break;x.heap[_]=x.heap[l],_=l,l<<=1}x.heap[_]=O}function Id(x,g,_){var O,l,G=0,p,W;if(x.last_lit!==0)do if(O=x.pending_buf[x.d_buf+G*2]<<8|x.pending_buf[x.d_buf+G*2+1],l=x.pending_buf[x.l_buf+G],G++,O===0)W_(x,l,g);else{if(p=p9[l],W_(x,p+o9+1,g),W=Nv[p],W!==0)l-=Mv[p],H0(x,l,W);if(O--,p=Pd(O),W_(x,p,_),W=Ap[p],W!==0)O-=up[p],H0(x,O,W)}while(G<x.last_lit);W_(x,qv,g)}function kv(x,g){var _=g.dyn_tree,O=g.stat_desc.static_tree,l=g.stat_desc.has_stree,G=g.stat_desc.elems,p,W,w=-1,o;x.heap_len=0,x.heap_max=Dd;for(p=0;p<G;p++)if(_[p*2]!==0)x.heap[++x.heap_len]=w=p,x.depth[p]=0;else _[p*2+1]=0;while(x.heap_len<2)if(o=x.heap[++x.heap_len]=w<2?++w:0,_[o*2]=1,x.depth[o]=0,x.opt_len--,l)x.static_len-=O[o*2+1];g.max_code=w;for(p=x.heap_len>>1;p>=1;p--)yv(x,_,p);o=G;do p=x.heap[1],x.heap[1]=x.heap[x.heap_len--],yv(x,_,1),W=x.heap[1],x.heap[--x.heap_max]=p,x.heap[--x.heap_max]=W,_[o*2]=_[p*2]+_[W*2],x.depth[o]=(x.depth[p]>=x.depth[W]?x.depth[p]:x.depth[W])+1,_[p*2+1]=_[W*2+1]=o,x.heap[1]=o++,yv(x,_,1);while(x.heap_len>=2);x.heap[--x.heap_max]=x.heap[1],YK(x,g),id(_,w,x.bl_count)}function Zd(x,g,_){var O,l=-1,G,p=g[1],W=0,w=7,o=4;if(p===0)w=138,o=3;g[(_+1)*2+1]=65535;for(O=0;O<=_;O++){if(G=p,p=g[(O+1)*2+1],++W<w&&G===p)continue;else if(W<o)x.bl_tree[G*2]+=W;else if(G!==0){if(G!==l)x.bl_tree[G*2]++;x.bl_tree[Qd*2]++}else if(W<=10)x.bl_tree[ad*2]++;else x.bl_tree[Ed*2]++;if(W=0,l=G,p===0)w=138,o=3;else if(G===p)w=6,o=3;else w=7,o=4}}function jd(x,g,_){var O,l=-1,G,p=g[1],W=0,w=7,o=4;if(p===0)w=138,o=3;for(O=0;O<=_;O++){if(G=p,p=g[(O+1)*2+1],++W<w&&G===p)continue;else if(W<o)do W_(x,G,x.bl_tree);while(--W!==0);else if(G!==0){if(G!==l)W_(x,G,x.bl_tree),W--;W_(x,Qd,x.bl_tree),H0(x,W-3,2)}else if(W<=10)W_(x,ad,x.bl_tree),H0(x,W-3,3);else W_(x,Ed,x.bl_tree),H0(x,W-11,7);if(W=0,l=G,p===0)w=138,o=3;else if(G===p)w=6,o=3;else w=7,o=4}}function mK(x){var g;Zd(x,x.dyn_ltree,x.l_desc.max_code),Zd(x,x.dyn_dtree,x.d_desc.max_code),kv(x,x.bl_desc);for(g=Cv-1;g>=3;g--)if(x.bl_tree[nd[g]*2+1]!==0)break;return x.opt_len+=3*(g+1)+5+5+4,g}function bK(x,g,_,O){var l;H0(x,g-257,5),H0(x,_-1,5),H0(x,O-4,4);for(l=0;l<O;l++)H0(x,x.bl_tree[nd[l]*2+1],3);jd(x,x.dyn_ltree,g-1),jd(x,x.dyn_dtree,_-1)}function hK(x){var g=4093624447,_;for(_=0;_<=31;_++,g>>>=1)if(g&1&&x.dyn_ltree[_*2]!==0)return Ad;if(x.dyn_ltree[18]!==0||x.dyn_ltree[20]!==0||x.dyn_ltree[26]!==0)return ud;for(_=32;_<o9;_++)if(x.dyn_ltree[_*2]!==0)return ud;return Ad}var rd=!1;function KK(x){if(!rd)fK(),rd=!0;x.l_desc=new vv(x.dyn_ltree,$d),x.d_desc=new vv(x.dyn_dtree,Bd),x.bl_desc=new vv(x.bl_tree,Hd),x.bi_buf=0,x.bi_valid=0,Rd(x)}function sd(x,g,_,O){H0(x,(vK<<1)+(O?1:0),3),cK(x,g,_,!0)}function VK(x){H0(x,Ud<<1,3),W_(x,qv,n_),MK(x)}function LK(x,g,_,O){var l,G,p=0;if(x.level>0){if(x.strm.data_type===zK)x.strm.data_type=hK(x);if(kv(x,x.l_desc),kv(x,x.d_desc),p=mK(x),l=x.opt_len+3+7>>>3,G=x.static_len+3+7>>>3,G<=l)l=G}else l=G=_+5;if(_+4<=l&&g!==-1)sd(x,g,_,O);else if(x.strategy===wK||G===l)H0(x,(Ud<<1)+(O?1:0),3),Id(x,n_,O9);else H0(x,(yK<<1)+(O?1:0),3),bK(x,x.l_desc.max_code+1,x.d_desc.max_code+1,p+1),Id(x,x.dyn_ltree,x.dyn_dtree);if(Rd(x),O)Td(x)}function XK(x,g,_){if(x.pending_buf[x.d_buf+x.last_lit*2]=g>>>8&255,x.pending_buf[x.d_buf+x.last_lit*2+1]=g&255,x.pending_buf[x.l_buf+x.last_lit]=_&255,x.last_lit++,g===0)x.dyn_ltree[_*2]++;else x.matches++,g--,x.dyn_ltree[(p9[_]+o9+1)*2]++,x.dyn_dtree[Pd(g)*2]++;return x.last_lit===x.lit_bufsize-1}FK._tr_init=KK;FK._tr_stored_block=sd;FK._tr_flush_block=LK;FK._tr_tally=XK;FK._tr_align=VK});var Yv=px((bu,ed)=>{function jK(x,g,_,O){var l=x&65535|0,G=x>>>16&65535|0,p=0;while(_!==0){p=_>2000?2000:_,_-=p;do l=l+g[O++]|0,G=G+l|0;while(--p);l%=65521,G%=65521}return l|G<<16|0}ed.exports=jK});var fv=px((hu,xC)=>{function rK(){var x,g=[];for(var _=0;_<256;_++){x=_;for(var O=0;O<8;O++)x=x&1?3988292384^x>>>1:x>>>1;g[_]=x}return g}var UK=rK();function DK(x,g,_,O){var l=UK,G=O+_;x^=-1;for(var p=O;p<G;p++)x=x>>>8^l[(x^g[p])&255];return x^-1}xC.exports=DK});var Sp=px((Ku,gC)=>{gC.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var zC=px((q4)=>{var j0=E_(),mg=td(),GC=Yv(),IO=fv(),QK=Sp(),u6=0,aK=1,EK=3,DO=4,_C=5,w_=0,OC=1,bg=-2,nK=-3,cv=-5,$K=-1,BK=1,Ip=2,HK=3,PK=4,JK=0,iK=2,Up=8,RK=9,TK=15,sK=8,tK=29,eK=256,bv=eK+1+tK,x4=30,g4=19,_4=2*bv+1,O4=15,fx=3,rO=258,rg=rO+fx+1,l4=32,Dp=42,hv=69,Zp=73,jp=91,rp=103,X6=113,z9=666,q0=1,v9=2,F6=3,s8=4,G4=3;function UO(x,g){return x.msg=QK[g],g}function lC(x){return(x<<1)-(x>4?9:0)}function jO(x){var g=x.length;while(--g>=0)x[g]=0}function ZO(x){var g=x.state,_=g.pending;if(_>x.avail_out)_=x.avail_out;if(_===0)return;if(j0.arraySet(x.output,g.pending_buf,g.pending_out,_,x.next_out),x.next_out+=_,g.pending_out+=_,x.total_out+=_,x.avail_out-=_,g.pending-=_,g.pending===0)g.pending_out=0}function V0(x,g){mg._tr_flush_block(x,x.block_start>=0?x.block_start:-1,x.strstart-x.block_start,g),x.block_start=x.strstart,ZO(x.strm)}function Xx(x,g){x.pending_buf[x.pending++]=g}function w9(x,g){x.pending_buf[x.pending++]=g>>>8&255,x.pending_buf[x.pending++]=g&255}function p4(x,g,_,O){var l=x.avail_in;if(l>O)l=O;if(l===0)return 0;if(x.avail_in-=l,j0.arraySet(g,x.input,x.next_in,l,_),x.state.wrap===1)x.adler=GC(x.adler,g,l,_);else if(x.state.wrap===2)x.adler=IO(x.adler,g,l,_);return x.next_in+=l,x.total_in+=l,l}function pC(x,g){var{max_chain_length:_,strstart:O}=x,l,G,p=x.prev_length,W=x.nice_match,w=x.strstart>x.w_size-rg?x.strstart-(x.w_size-rg):0,o=x.window,v=x.w_mask,N=x.prev,k=x.strstart+rO,C=o[O+p-1],c=o[O+p];if(x.prev_length>=x.good_match)_>>=2;if(W>x.lookahead)W=x.lookahead;do{if(l=g,o[l+p]!==c||o[l+p-1]!==C||o[l]!==o[O]||o[++l]!==o[O+1])continue;O+=2,l++;do;while(o[++O]===o[++l]&&o[++O]===o[++l]&&o[++O]===o[++l]&&o[++O]===o[++l]&&o[++O]===o[++l]&&o[++O]===o[++l]&&o[++O]===o[++l]&&o[++O]===o[++l]&&O<k);if(G=rO-(k-O),O=k-rO,G>p){if(x.match_start=g,p=G,G>=W)break;C=o[O+p-1],c=o[O+p]}}while((g=N[g&v])>w&&--_!==0);if(p<=x.lookahead)return p;return x.lookahead}function A6(x){var g=x.w_size,_,O,l,G,p;do{if(G=x.window_size-x.lookahead-x.strstart,x.strstart>=g+(g-rg)){j0.arraySet(x.window,x.window,g,g,0),x.match_start-=g,x.strstart-=g,x.block_start-=g,O=x.hash_size,_=O;do l=x.head[--_],x.head[_]=l>=g?l-g:0;while(--O);O=g,_=O;do l=x.prev[--_],x.prev[_]=l>=g?l-g:0;while(--O);G+=g}if(x.strm.avail_in===0)break;if(O=p4(x.strm,x.window,x.strstart+x.lookahead,G),x.lookahead+=O,x.lookahead+x.insert>=fx){p=x.strstart-x.insert,x.ins_h=x.window[p],x.ins_h=(x.ins_h<<x.hash_shift^x.window[p+1])&x.hash_mask;while(x.insert)if(x.ins_h=(x.ins_h<<x.hash_shift^x.window[p+fx-1])&x.hash_mask,x.prev[p&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=p,p++,x.insert--,x.lookahead+x.insert<fx)break}}while(x.lookahead<rg&&x.strm.avail_in!==0)}function W4(x,g){var _=65535;if(_>x.pending_buf_size-5)_=x.pending_buf_size-5;for(;;){if(x.lookahead<=1){if(A6(x),x.lookahead===0&&g===u6)return q0;if(x.lookahead===0)break}x.strstart+=x.lookahead,x.lookahead=0;var O=x.block_start+_;if(x.strstart===0||x.strstart>=O){if(x.lookahead=x.strstart-O,x.strstart=O,V0(x,!1),x.strm.avail_out===0)return q0}if(x.strstart-x.block_start>=x.w_size-rg){if(V0(x,!1),x.strm.avail_out===0)return q0}}if(x.insert=0,g===DO){if(V0(x,!0),x.strm.avail_out===0)return F6;return s8}if(x.strstart>x.block_start){if(V0(x,!1),x.strm.avail_out===0)return q0}return q0}function mv(x,g){var _,O;for(;;){if(x.lookahead<rg){if(A6(x),x.lookahead<rg&&g===u6)return q0;if(x.lookahead===0)break}if(_=0,x.lookahead>=fx)x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+fx-1])&x.hash_mask,_=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;if(_!==0&&x.strstart-_<=x.w_size-rg)x.match_length=pC(x,_);if(x.match_length>=fx)if(O=mg._tr_tally(x,x.strstart-x.match_start,x.match_length-fx),x.lookahead-=x.match_length,x.match_length<=x.max_lazy_match&&x.lookahead>=fx){x.match_length--;do x.strstart++,x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+fx-1])&x.hash_mask,_=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.match_length!==0);x.strstart++}else x.strstart+=x.match_length,x.match_length=0,x.ins_h=x.window[x.strstart],x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+1])&x.hash_mask;else O=mg._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(O){if(V0(x,!1),x.strm.avail_out===0)return q0}}if(x.insert=x.strstart<fx-1?x.strstart:fx-1,g===DO){if(V0(x,!0),x.strm.avail_out===0)return F6;return s8}if(x.last_lit){if(V0(x,!1),x.strm.avail_out===0)return q0}return v9}function R8(x,g){var _,O,l;for(;;){if(x.lookahead<rg){if(A6(x),x.lookahead<rg&&g===u6)return q0;if(x.lookahead===0)break}if(_=0,x.lookahead>=fx)x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+fx-1])&x.hash_mask,_=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;if(x.prev_length=x.match_length,x.prev_match=x.match_start,x.match_length=fx-1,_!==0&&x.prev_length<x.max_lazy_match&&x.strstart-_<=x.w_size-rg){if(x.match_length=pC(x,_),x.match_length<=5&&(x.strategy===BK||x.match_length===fx&&x.strstart-x.match_start>4096))x.match_length=fx-1}if(x.prev_length>=fx&&x.match_length<=x.prev_length){l=x.strstart+x.lookahead-fx,O=mg._tr_tally(x,x.strstart-1-x.prev_match,x.prev_length-fx),x.lookahead-=x.prev_length-1,x.prev_length-=2;do if(++x.strstart<=l)x.ins_h=(x.ins_h<<x.hash_shift^x.window[x.strstart+fx-1])&x.hash_mask,_=x.prev[x.strstart&x.w_mask]=x.head[x.ins_h],x.head[x.ins_h]=x.strstart;while(--x.prev_length!==0);if(x.match_available=0,x.match_length=fx-1,x.strstart++,O){if(V0(x,!1),x.strm.avail_out===0)return q0}}else if(x.match_available){if(O=mg._tr_tally(x,0,x.window[x.strstart-1]),O)V0(x,!1);if(x.strstart++,x.lookahead--,x.strm.avail_out===0)return q0}else x.match_available=1,x.strstart++,x.lookahead--}if(x.match_available)O=mg._tr_tally(x,0,x.window[x.strstart-1]),x.match_available=0;if(x.insert=x.strstart<fx-1?x.strstart:fx-1,g===DO){if(V0(x,!0),x.strm.avail_out===0)return F6;return s8}if(x.last_lit){if(V0(x,!1),x.strm.avail_out===0)return q0}return v9}function o4(x,g){var _,O,l,G,p=x.window;for(;;){if(x.lookahead<=rO){if(A6(x),x.lookahead<=rO&&g===u6)return q0;if(x.lookahead===0)break}if(x.match_length=0,x.lookahead>=fx&&x.strstart>0){if(l=x.strstart-1,O=p[l],O===p[++l]&&O===p[++l]&&O===p[++l]){G=x.strstart+rO;do;while(O===p[++l]&&O===p[++l]&&O===p[++l]&&O===p[++l]&&O===p[++l]&&O===p[++l]&&O===p[++l]&&O===p[++l]&&l<G);if(x.match_length=rO-(G-l),x.match_length>x.lookahead)x.match_length=x.lookahead}}if(x.match_length>=fx)_=mg._tr_tally(x,1,x.match_length-fx),x.lookahead-=x.match_length,x.strstart+=x.match_length,x.match_length=0;else _=mg._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++;if(_){if(V0(x,!1),x.strm.avail_out===0)return q0}}if(x.insert=0,g===DO){if(V0(x,!0),x.strm.avail_out===0)return F6;return s8}if(x.last_lit){if(V0(x,!1),x.strm.avail_out===0)return q0}return v9}function w4(x,g){var _;for(;;){if(x.lookahead===0){if(A6(x),x.lookahead===0){if(g===u6)return q0;break}}if(x.match_length=0,_=mg._tr_tally(x,0,x.window[x.strstart]),x.lookahead--,x.strstart++,_){if(V0(x,!1),x.strm.avail_out===0)return q0}}if(x.insert=0,g===DO){if(V0(x,!0),x.strm.avail_out===0)return F6;return s8}if(x.last_lit){if(V0(x,!1),x.strm.avail_out===0)return q0}return v9}function o_(x,g,_,O,l){this.good_length=x,this.max_lazy=g,this.nice_length=_,this.max_chain=O,this.func=l}var T8;T8=[new o_(0,0,0,0,W4),new o_(4,4,8,4,mv),new o_(4,5,16,8,mv),new o_(4,6,32,32,mv),new o_(4,4,16,16,R8),new o_(8,16,32,32,R8),new o_(8,16,128,128,R8),new o_(8,32,128,256,R8),new o_(32,128,258,1024,R8),new o_(32,258,258,4096,R8)];function z4(x){x.window_size=2*x.w_size,jO(x.head),x.max_lazy_match=T8[x.level].max_lazy,x.good_match=T8[x.level].good_length,x.nice_match=T8[x.level].nice_length,x.max_chain_length=T8[x.level].max_chain,x.strstart=0,x.block_start=0,x.lookahead=0,x.insert=0,x.match_length=x.prev_length=fx-1,x.match_available=0,x.ins_h=0}function v4(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Up,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new j0.Buf16(_4*2),this.dyn_dtree=new j0.Buf16((2*x4+1)*2),this.bl_tree=new j0.Buf16((2*g4+1)*2),jO(this.dyn_ltree),jO(this.dyn_dtree),jO(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new j0.Buf16(O4+1),this.heap=new j0.Buf16(2*bv+1),jO(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new j0.Buf16(2*bv+1),jO(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function WC(x){var g;if(!x||!x.state)return UO(x,bg);if(x.total_in=x.total_out=0,x.data_type=iK,g=x.state,g.pending=0,g.pending_out=0,g.wrap<0)g.wrap=-g.wrap;return g.status=g.wrap?Dp:X6,x.adler=g.wrap===2?0:1,g.last_flush=u6,mg._tr_init(g),w_}function oC(x){var g=WC(x);if(g===w_)z4(x.state);return g}function y4(x,g){if(!x||!x.state)return bg;if(x.state.wrap!==2)return bg;return x.state.gzhead=g,w_}function wC(x,g,_,O,l,G){if(!x)return bg;var p=1;if(g===$K)g=6;if(O<0)p=0,O=-O;else if(O>15)p=2,O-=16;if(l<1||l>RK||_!==Up||O<8||O>15||g<0||g>9||G<0||G>PK)return UO(x,bg);if(O===8)O=9;var W=new v4;return x.state=W,W.strm=x,W.wrap=p,W.gzhead=null,W.w_bits=O,W.w_size=1<<W.w_bits,W.w_mask=W.w_size-1,W.hash_bits=l+7,W.hash_size=1<<W.hash_bits,W.hash_mask=W.hash_size-1,W.hash_shift=~~((W.hash_bits+fx-1)/fx),W.window=new j0.Buf8(W.w_size*2),W.head=new j0.Buf16(W.hash_size),W.prev=new j0.Buf16(W.w_size),W.lit_bufsize=1<<l+6,W.pending_buf_size=W.lit_bufsize*4,W.pending_buf=new j0.Buf8(W.pending_buf_size),W.d_buf=1*W.lit_bufsize,W.l_buf=3*W.lit_bufsize,W.level=g,W.strategy=G,W.method=_,oC(x)}function N4(x,g){return wC(x,g,Up,TK,sK,JK)}function k4(x,g){var _,O,l,G;if(!x||!x.state||g>_C||g<0)return x?UO(x,bg):bg;if(O=x.state,!x.output||!x.input&&x.avail_in!==0||O.status===z9&&g!==DO)return UO(x,x.avail_out===0?cv:bg);if(O.strm=x,_=O.last_flush,O.last_flush=g,O.status===Dp)if(O.wrap===2)if(x.adler=0,Xx(O,31),Xx(O,139),Xx(O,8),!O.gzhead)Xx(O,0),Xx(O,0),Xx(O,0),Xx(O,0),Xx(O,0),Xx(O,O.level===9?2:O.strategy>=Ip||O.level<2?4:0),Xx(O,G4),O.status=X6;else{if(Xx(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(!O.gzhead.extra?0:4)+(!O.gzhead.name?0:8)+(!O.gzhead.comment?0:16)),Xx(O,O.gzhead.time&255),Xx(O,O.gzhead.time>>8&255),Xx(O,O.gzhead.time>>16&255),Xx(O,O.gzhead.time>>24&255),Xx(O,O.level===9?2:O.strategy>=Ip||O.level<2?4:0),Xx(O,O.gzhead.os&255),O.gzhead.extra&&O.gzhead.extra.length)Xx(O,O.gzhead.extra.length&255),Xx(O,O.gzhead.extra.length>>8&255);if(O.gzhead.hcrc)x.adler=IO(x.adler,O.pending_buf,O.pending,0);O.gzindex=0,O.status=hv}else{var p=Up+(O.w_bits-8<<4)<<8,W=-1;if(O.strategy>=Ip||O.level<2)W=0;else if(O.level<6)W=1;else if(O.level===6)W=2;else W=3;if(p|=W<<6,O.strstart!==0)p|=l4;if(p+=31-p%31,O.status=X6,w9(O,p),O.strstart!==0)w9(O,x.adler>>>16),w9(O,x.adler&65535);x.adler=1}if(O.status===hv)if(O.gzhead.extra){l=O.pending;while(O.gzindex<(O.gzhead.extra.length&65535)){if(O.pending===O.pending_buf_size){if(O.gzhead.hcrc&&O.pending>l)x.adler=IO(x.adler,O.pending_buf,O.pending-l,l);if(ZO(x),l=O.pending,O.pending===O.pending_buf_size)break}Xx(O,O.gzhead.extra[O.gzindex]&255),O.gzindex++}if(O.gzhead.hcrc&&O.pending>l)x.adler=IO(x.adler,O.pending_buf,O.pending-l,l);if(O.gzindex===O.gzhead.extra.length)O.gzindex=0,O.status=Zp}else O.status=Zp;if(O.status===Zp)if(O.gzhead.name){l=O.pending;do{if(O.pending===O.pending_buf_size){if(O.gzhead.hcrc&&O.pending>l)x.adler=IO(x.adler,O.pending_buf,O.pending-l,l);if(ZO(x),l=O.pending,O.pending===O.pending_buf_size){G=1;break}}if(O.gzindex<O.gzhead.name.length)G=O.gzhead.name.charCodeAt(O.gzindex++)&255;else G=0;Xx(O,G)}while(G!==0);if(O.gzhead.hcrc&&O.pending>l)x.adler=IO(x.adler,O.pending_buf,O.pending-l,l);if(G===0)O.gzindex=0,O.status=jp}else O.status=jp;if(O.status===jp)if(O.gzhead.comment){l=O.pending;do{if(O.pending===O.pending_buf_size){if(O.gzhead.hcrc&&O.pending>l)x.adler=IO(x.adler,O.pending_buf,O.pending-l,l);if(ZO(x),l=O.pending,O.pending===O.pending_buf_size){G=1;break}}if(O.gzindex<O.gzhead.comment.length)G=O.gzhead.comment.charCodeAt(O.gzindex++)&255;else G=0;Xx(O,G)}while(G!==0);if(O.gzhead.hcrc&&O.pending>l)x.adler=IO(x.adler,O.pending_buf,O.pending-l,l);if(G===0)O.status=rp}else O.status=rp;if(O.status===rp)if(O.gzhead.hcrc){if(O.pending+2>O.pending_buf_size)ZO(x);if(O.pending+2<=O.pending_buf_size)Xx(O,x.adler&255),Xx(O,x.adler>>8&255),x.adler=0,O.status=X6}else O.status=X6;if(O.pending!==0){if(ZO(x),x.avail_out===0)return O.last_flush=-1,w_}else if(x.avail_in===0&&lC(g)<=lC(_)&&g!==DO)return UO(x,cv);if(O.status===z9&&x.avail_in!==0)return UO(x,cv);if(x.avail_in!==0||O.lookahead!==0||g!==u6&&O.status!==z9){var w=O.strategy===Ip?w4(O,g):O.strategy===HK?o4(O,g):T8[O.level].func(O,g);if(w===F6||w===s8)O.status=z9;if(w===q0||w===F6){if(x.avail_out===0)O.last_flush=-1;return w_}if(w===v9){if(g===aK)mg._tr_align(O);else if(g!==_C){if(mg._tr_stored_block(O,0,0,!1),g===EK){if(jO(O.head),O.lookahead===0)O.strstart=0,O.block_start=0,O.insert=0}}if(ZO(x),x.avail_out===0)return O.last_flush=-1,w_}}if(g!==DO)return w_;if(O.wrap<=0)return OC;if(O.wrap===2)Xx(O,x.adler&255),Xx(O,x.adler>>8&255),Xx(O,x.adler>>16&255),Xx(O,x.adler>>24&255),Xx(O,x.total_in&255),Xx(O,x.total_in>>8&255),Xx(O,x.total_in>>16&255),Xx(O,x.total_in>>24&255);else w9(O,x.adler>>>16),w9(O,x.adler&65535);if(ZO(x),O.wrap>0)O.wrap=-O.wrap;return O.pending!==0?w_:OC}function d4(x){var g;if(!x||!x.state)return bg;if(g=x.state.status,g!==Dp&&g!==hv&&g!==Zp&&g!==jp&&g!==rp&&g!==X6&&g!==z9)return UO(x,bg);return x.state=null,g===X6?UO(x,nK):w_}function C4(x,g){var _=g.length,O,l,G,p,W,w,o,v;if(!x||!x.state)return bg;if(O=x.state,p=O.wrap,p===2||p===1&&O.status!==Dp||O.lookahead)return bg;if(p===1)x.adler=GC(x.adler,g,_,0);if(O.wrap=0,_>=O.w_size){if(p===0)jO(O.head),O.strstart=0,O.block_start=0,O.insert=0;v=new j0.Buf8(O.w_size),j0.arraySet(v,g,_-O.w_size,O.w_size,0),g=v,_=O.w_size}W=x.avail_in,w=x.next_in,o=x.input,x.avail_in=_,x.next_in=0,x.input=g,A6(O);while(O.lookahead>=fx){l=O.strstart,G=O.lookahead-(fx-1);do O.ins_h=(O.ins_h<<O.hash_shift^O.window[l+fx-1])&O.hash_mask,O.prev[l&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=l,l++;while(--G);O.strstart=l,O.lookahead=fx-1,A6(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=fx-1,O.match_available=0,x.next_in=w,x.input=o,x.avail_in=W,O.wrap=p,w_}q4.deflateInit=N4;q4.deflateInit2=wC;q4.deflateReset=oC;q4.deflateResetKeep=WC;q4.deflateSetHeader=y4;q4.deflate=k4;q4.deflateEnd=d4;q4.deflateSetDictionary=C4;q4.deflateInfo="pako deflate (from Nodeca project)"});var Kv=px((L4)=>{var Qp=E_(),vC=!0,yC=!0;try{String.fromCharCode.apply(null,[0])}catch(x){vC=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(x){yC=!1}var y9=new Qp.Buf8(256);for(z_=0;z_<256;z_++)y9[z_]=z_>=252?6:z_>=248?5:z_>=240?4:z_>=224?3:z_>=192?2:1;var z_;y9[254]=y9[254]=1;L4.string2buf=function(x){var g,_,O,l,G,p=x.length,W=0;for(l=0;l<p;l++){if(_=x.charCodeAt(l),(_&64512)===55296&&l+1<p){if(O=x.charCodeAt(l+1),(O&64512)===56320)_=65536+(_-55296<<10)+(O-56320),l++}W+=_<128?1:_<2048?2:_<65536?3:4}g=new Qp.Buf8(W);for(G=0,l=0;G<W;l++){if(_=x.charCodeAt(l),(_&64512)===55296&&l+1<p){if(O=x.charCodeAt(l+1),(O&64512)===56320)_=65536+(_-55296<<10)+(O-56320),l++}if(_<128)g[G++]=_;else if(_<2048)g[G++]=192|_>>>6,g[G++]=128|_&63;else if(_<65536)g[G++]=224|_>>>12,g[G++]=128|_>>>6&63,g[G++]=128|_&63;else g[G++]=240|_>>>18,g[G++]=128|_>>>12&63,g[G++]=128|_>>>6&63,g[G++]=128|_&63}return g};function NC(x,g){if(g<65534){if(x.subarray&&yC||!x.subarray&&vC)return String.fromCharCode.apply(null,Qp.shrinkBuf(x,g))}var _="";for(var O=0;O<g;O++)_+=String.fromCharCode(x[O]);return _}L4.buf2binstring=function(x){return NC(x,x.length)};L4.binstring2buf=function(x){var g=new Qp.Buf8(x.length);for(var _=0,O=g.length;_<O;_++)g[_]=x.charCodeAt(_);return g};L4.buf2string=function(x,g){var _,O,l,G,p=g||x.length,W=new Array(p*2);for(O=0,_=0;_<p;){if(l=x[_++],l<128){W[O++]=l;continue}if(G=y9[l],G>4){W[O++]=65533,_+=G-1;continue}l&=G===2?31:G===3?15:7;while(G>1&&_<p)l=l<<6|x[_++]&63,G--;if(G>1){W[O++]=65533;continue}if(l<65536)W[O++]=l;else l-=65536,W[O++]=55296|l>>10&1023,W[O++]=56320|l&1023}return NC(W,O)};L4.utf8border=function(x,g){var _;if(g=g||x.length,g>x.length)g=x.length;_=g-1;while(_>=0&&(x[_]&192)===128)_--;if(_<0)return g;if(_===0)return g;return _+y9[x[_]]>g?_:g}});var Vv=px((Xu,kC)=>{function I4(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}kC.exports=I4});var MC=px((E4)=>{var N9=zC(),k9=E_(),Xv=Kv(),Fv=Sp(),Z4=Vv(),qC=Object.prototype.toString,j4=0,Lv=4,t8=0,dC=1,CC=2,r4=-1,U4=0,D4=8;function S6(x){if(!(this instanceof S6))return new S6(x);this.options=k9.assign({level:r4,method:D4,chunkSize:16384,windowBits:15,memLevel:8,strategy:U4,to:""},x||{});var g=this.options;if(g.raw&&g.windowBits>0)g.windowBits=-g.windowBits;else if(g.gzip&&g.windowBits>0&&g.windowBits<16)g.windowBits+=16;this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Z4,this.strm.avail_out=0;var _=N9.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(_!==t8)throw new Error(Fv[_]);if(g.header)N9.deflateSetHeader(this.strm,g.header);if(g.dictionary){var O;if(typeof g.dictionary==="string")O=Xv.string2buf(g.dictionary);else if(qC.call(g.dictionary)==="[object ArrayBuffer]")O=new Uint8Array(g.dictionary);else O=g.dictionary;if(_=N9.deflateSetDictionary(this.strm,O),_!==t8)throw new Error(Fv[_]);this._dict_set=!0}}S6.prototype.push=function(x,g){var _=this.strm,O=this.options.chunkSize,l,G;if(this.ended)return!1;if(G=g===~~g?g:g===!0?Lv:j4,typeof x==="string")_.input=Xv.string2buf(x);else if(qC.call(x)==="[object ArrayBuffer]")_.input=new Uint8Array(x);else _.input=x;_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0)_.output=new k9.Buf8(O),_.next_out=0,_.avail_out=O;if(l=N9.deflate(_,G),l!==dC&&l!==t8)return this.onEnd(l),this.ended=!0,!1;if(_.avail_out===0||_.avail_in===0&&(G===Lv||G===CC))if(this.options.to==="string")this.onData(Xv.buf2binstring(k9.shrinkBuf(_.output,_.next_out)));else this.onData(k9.shrinkBuf(_.output,_.next_out))}while((_.avail_in>0||_.avail_out===0)&&l!==dC);if(G===Lv)return l=N9.deflateEnd(this.strm),this.onEnd(l),this.ended=!0,l===t8;if(G===CC)return this.onEnd(t8),_.avail_out=0,!0;return!0};S6.prototype.onData=function(x){this.chunks.push(x)};S6.prototype.onEnd=function(x){if(x===t8)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=k9.flattenChunks(this.chunks);this.chunks=[],this.err=x,this.msg=this.strm.msg};function Av(x,g){var _=new S6(g);if(_.push(x,!0),_.err)throw _.msg||Fv[_.err];return _.result}function Q4(x,g){return g=g||{},g.raw=!0,Av(x,g)}function a4(x,g){return g=g||{},g.gzip=!0,Av(x,g)}E4.Deflate=S6;E4.deflate=Av;E4.deflateRaw=Q4;E4.gzip=a4});var fC=px((Au,YC)=>{var ap=30,P4=12;YC.exports=function x(g,_){var O,l,G,p,W,w,o,v,N,k,C,c,m,b,f,d,M,Y,K,h,V,F,D,U,Q;O=g.state,l=g.next_in,U=g.input,G=l+(g.avail_in-5),p=g.next_out,Q=g.output,W=p-(_-g.avail_out),w=p+(g.avail_out-257),o=O.dmax,v=O.wsize,N=O.whave,k=O.wnext,C=O.window,c=O.hold,m=O.bits,b=O.lencode,f=O.distcode,d=(1<<O.lenbits)-1,M=(1<<O.distbits)-1;x:do{if(m<15)c+=U[l++]<<m,m+=8,c+=U[l++]<<m,m+=8;Y=b[c&d];g:for(;;){if(K=Y>>>24,c>>>=K,m-=K,K=Y>>>16&255,K===0)Q[p++]=Y&65535;else if(K&16){if(h=Y&65535,K&=15,K){if(m<K)c+=U[l++]<<m,m+=8;h+=c&(1<<K)-1,c>>>=K,m-=K}if(m<15)c+=U[l++]<<m,m+=8,c+=U[l++]<<m,m+=8;Y=f[c&M];_:for(;;){if(K=Y>>>24,c>>>=K,m-=K,K=Y>>>16&255,K&16){if(V=Y&65535,K&=15,m<K){if(c+=U[l++]<<m,m+=8,m<K)c+=U[l++]<<m,m+=8}if(V+=c&(1<<K)-1,V>o){g.msg="invalid distance too far back",O.mode=ap;break x}if(c>>>=K,m-=K,K=p-W,V>K){if(K=V-K,K>N){if(O.sane){g.msg="invalid distance too far back",O.mode=ap;break x}}if(F=0,D=C,k===0){if(F+=v-K,K<h){h-=K;do Q[p++]=C[F++];while(--K);F=p-V,D=Q}}else if(k<K){if(F+=v+k-K,K-=k,K<h){h-=K;do Q[p++]=C[F++];while(--K);if(F=0,k<h){K=k,h-=K;do Q[p++]=C[F++];while(--K);F=p-V,D=Q}}}else if(F+=k-K,K<h){h-=K;do Q[p++]=C[F++];while(--K);F=p-V,D=Q}while(h>2)Q[p++]=D[F++],Q[p++]=D[F++],Q[p++]=D[F++],h-=3;if(h){if(Q[p++]=D[F++],h>1)Q[p++]=D[F++]}}else{F=p-V;do Q[p++]=Q[F++],Q[p++]=Q[F++],Q[p++]=Q[F++],h-=3;while(h>2);if(h){if(Q[p++]=Q[F++],h>1)Q[p++]=Q[F++]}}}else if((K&64)===0){Y=f[(Y&65535)+(c&(1<<K)-1)];continue _}else{g.msg="invalid distance code",O.mode=ap;break x}break}}else if((K&64)===0){Y=b[(Y&65535)+(c&(1<<K)-1)];continue g}else if(K&32){O.mode=P4;break x}else{g.msg="invalid literal/length code",O.mode=ap;break x}break}}while(l<G&&p<w);h=m>>3,l-=h,m-=h<<3,c&=(1<<m)-1,g.next_in=l,g.next_out=p,g.avail_in=l<G?5+(G-l):5-(l-G),g.avail_out=p<w?257+(w-p):257-(p-w),O.hold=c,O.bits=m;return}});var LC=px((uu,VC)=>{var cC=E_(),e8=15,mC=852,bC=592,hC=0,uv=1,KC=2,J4=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],i4=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],R4=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],T4=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];VC.exports=function x(g,_,O,l,G,p,W,w){var o=w.bits,v=0,N=0,k=0,C=0,c=0,m=0,b=0,f=0,d=0,M=0,Y,K,h,V,F,D=null,U=0,Q,L=new cC.Buf16(e8+1),a=new cC.Buf16(e8+1),s=null,u=0,B,P,i;for(v=0;v<=e8;v++)L[v]=0;for(N=0;N<l;N++)L[_[O+N]]++;c=o;for(C=e8;C>=1;C--)if(L[C]!==0)break;if(c>C)c=C;if(C===0)return G[p++]=20971520,G[p++]=20971520,w.bits=1,0;for(k=1;k<C;k++)if(L[k]!==0)break;if(c<k)c=k;f=1;for(v=1;v<=e8;v++)if(f<<=1,f-=L[v],f<0)return-1;if(f>0&&(g===hC||C!==1))return-1;a[1]=0;for(v=1;v<e8;v++)a[v+1]=a[v]+L[v];for(N=0;N<l;N++)if(_[O+N]!==0)W[a[_[O+N]]++]=N;if(g===hC)D=s=W,Q=19;else if(g===uv)D=J4,U-=257,s=i4,u-=257,Q=256;else D=R4,s=T4,Q=-1;if(M=0,N=0,v=k,F=p,m=c,b=0,h=-1,d=1<<c,V=d-1,g===uv&&d>mC||g===KC&&d>bC)return 1;for(;;){if(B=v-b,W[N]<Q)P=0,i=W[N];else if(W[N]>Q)P=s[u+W[N]],i=D[U+W[N]];else P=96,i=0;Y=1<<v-b,K=1<<m,k=K;do K-=Y,G[F+(M>>b)+K]=B<<24|P<<16|i|0;while(K!==0);Y=1<<v-1;while(M&Y)Y>>=1;if(Y!==0)M&=Y-1,M+=Y;else M=0;if(N++,--L[v]===0){if(v===C)break;v=_[O+W[N]]}if(v>c&&(M&V)!==h){if(b===0)b=c;F+=k,m=v-b,f=1<<m;while(m+b<C){if(f-=L[m+b],f<=0)break;m++,f<<=1}if(d+=1<<m,g===uv&&d>mC||g===KC&&d>bC)return 1;h=M&V,G[h]=c<<24|m<<16|F-p|0}}if(M!==0)G[F+M]=v-b<<24|4194304|0;return w.bits=c,0}});var oq=px((dV)=>{var Gg=E_(),Uv=Yv(),v_=fv(),s4=fC(),d9=LC(),t4=0,eC=1,xq=2,XC=4,e4=5,Ep=6,I6=0,xV=1,gV=2,hg=-2,gq=-3,Dv=-4,_V=-5,FC=8,_q=1,AC=2,uC=3,SC=4,IC=5,ZC=6,jC=7,rC=8,UC=9,DC=10,Bp=11,$_=12,Sv=13,QC=14,Iv=15,aC=16,EC=17,nC=18,$C=19,np=20,$p=21,BC=22,HC=23,PC=24,JC=25,iC=26,Zv=27,RC=28,TC=29,Px=30,Qv=31,OV=32,lV=852,GV=592,pV=15,WV=pV;function sC(x){return(x>>>24&255)+(x>>>8&65280)+((x&65280)<<8)+((x&255)<<24)}function oV(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Gg.Buf16(320),this.work=new Gg.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Oq(x){var g;if(!x||!x.state)return hg;if(g=x.state,x.total_in=x.total_out=g.total=0,x.msg="",g.wrap)x.adler=g.wrap&1;return g.mode=_q,g.last=0,g.havedict=0,g.dmax=32768,g.head=null,g.hold=0,g.bits=0,g.lencode=g.lendyn=new Gg.Buf32(lV),g.distcode=g.distdyn=new Gg.Buf32(GV),g.sane=1,g.back=-1,I6}function lq(x){var g;if(!x||!x.state)return hg;return g=x.state,g.wsize=0,g.whave=0,g.wnext=0,Oq(x)}function Gq(x,g){var _,O;if(!x||!x.state)return hg;if(O=x.state,g<0)_=0,g=-g;else if(_=(g>>4)+1,g<48)g&=15;if(g&&(g<8||g>15))return hg;if(O.window!==null&&O.wbits!==g)O.window=null;return O.wrap=_,O.wbits=g,lq(x)}function pq(x,g){var _,O;if(!x)return hg;if(O=new oV,x.state=O,O.window=null,_=Gq(x,g),_!==I6)x.state=null;return _}function wV(x){return pq(x,WV)}var tC=!0,jv,rv;function zV(x){if(tC){var g;jv=new Gg.Buf32(512),rv=new Gg.Buf32(32),g=0;while(g<144)x.lens[g++]=8;while(g<256)x.lens[g++]=9;while(g<280)x.lens[g++]=7;while(g<288)x.lens[g++]=8;d9(eC,x.lens,0,288,jv,0,x.work,{bits:9}),g=0;while(g<32)x.lens[g++]=5;d9(xq,x.lens,0,32,rv,0,x.work,{bits:5}),tC=!1}x.lencode=jv,x.lenbits=9,x.distcode=rv,x.distbits=5}function Wq(x,g,_,O){var l,G=x.state;if(G.window===null)G.wsize=1<<G.wbits,G.wnext=0,G.whave=0,G.window=new Gg.Buf8(G.wsize);if(O>=G.wsize)Gg.arraySet(G.window,g,_-G.wsize,G.wsize,0),G.wnext=0,G.whave=G.wsize;else{if(l=G.wsize-G.wnext,l>O)l=O;if(Gg.arraySet(G.window,g,_-O,l,G.wnext),O-=l,O)Gg.arraySet(G.window,g,_-O,O,0),G.wnext=O,G.whave=G.wsize;else{if(G.wnext+=l,G.wnext===G.wsize)G.wnext=0;if(G.whave<G.wsize)G.whave+=l}}return 0}function vV(x,g){var _,O,l,G,p,W,w,o,v,N,k,C,c,m,b=0,f,d,M,Y,K,h,V,F,D=new Gg.Buf8(4),U,Q,L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!x||!x.state||!x.output||!x.input&&x.avail_in!==0)return hg;if(_=x.state,_.mode===$_)_.mode=Sv;p=x.next_out,l=x.output,w=x.avail_out,G=x.next_in,O=x.input,W=x.avail_in,o=_.hold,v=_.bits,N=W,k=w,F=I6;x:for(;;)switch(_.mode){case _q:if(_.wrap===0){_.mode=Sv;break}while(v<16){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(_.wrap&2&&o===35615){_.check=0,D[0]=o&255,D[1]=o>>>8&255,_.check=v_(_.check,D,2,0),o=0,v=0,_.mode=AC;break}if(_.flags=0,_.head)_.head.done=!1;if(!(_.wrap&1)||(((o&255)<<8)+(o>>8))%31){x.msg="incorrect header check",_.mode=Px;break}if((o&15)!==FC){x.msg="unknown compression method",_.mode=Px;break}if(o>>>=4,v-=4,V=(o&15)+8,_.wbits===0)_.wbits=V;else if(V>_.wbits){x.msg="invalid window size",_.mode=Px;break}_.dmax=1<<V,x.adler=_.check=1,_.mode=o&512?DC:$_,o=0,v=0;break;case AC:while(v<16){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(_.flags=o,(_.flags&255)!==FC){x.msg="unknown compression method",_.mode=Px;break}if(_.flags&57344){x.msg="unknown header flags set",_.mode=Px;break}if(_.head)_.head.text=o>>8&1;if(_.flags&512)D[0]=o&255,D[1]=o>>>8&255,_.check=v_(_.check,D,2,0);o=0,v=0,_.mode=uC;case uC:while(v<32){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(_.head)_.head.time=o;if(_.flags&512)D[0]=o&255,D[1]=o>>>8&255,D[2]=o>>>16&255,D[3]=o>>>24&255,_.check=v_(_.check,D,4,0);o=0,v=0,_.mode=SC;case SC:while(v<16){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(_.head)_.head.xflags=o&255,_.head.os=o>>8;if(_.flags&512)D[0]=o&255,D[1]=o>>>8&255,_.check=v_(_.check,D,2,0);o=0,v=0,_.mode=IC;case IC:if(_.flags&1024){while(v<16){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(_.length=o,_.head)_.head.extra_len=o;if(_.flags&512)D[0]=o&255,D[1]=o>>>8&255,_.check=v_(_.check,D,2,0);o=0,v=0}else if(_.head)_.head.extra=null;_.mode=ZC;case ZC:if(_.flags&1024){if(C=_.length,C>W)C=W;if(C){if(_.head){if(V=_.head.extra_len-_.length,!_.head.extra)_.head.extra=new Array(_.head.extra_len);Gg.arraySet(_.head.extra,O,G,C,V)}if(_.flags&512)_.check=v_(_.check,O,C,G);W-=C,G+=C,_.length-=C}if(_.length)break x}_.length=0,_.mode=jC;case jC:if(_.flags&2048){if(W===0)break x;C=0;do if(V=O[G+C++],_.head&&V&&_.length<65536)_.head.name+=String.fromCharCode(V);while(V&&C<W);if(_.flags&512)_.check=v_(_.check,O,C,G);if(W-=C,G+=C,V)break x}else if(_.head)_.head.name=null;_.length=0,_.mode=rC;case rC:if(_.flags&4096){if(W===0)break x;C=0;do if(V=O[G+C++],_.head&&V&&_.length<65536)_.head.comment+=String.fromCharCode(V);while(V&&C<W);if(_.flags&512)_.check=v_(_.check,O,C,G);if(W-=C,G+=C,V)break x}else if(_.head)_.head.comment=null;_.mode=UC;case UC:if(_.flags&512){while(v<16){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(o!==(_.check&65535)){x.msg="header crc mismatch",_.mode=Px;break}o=0,v=0}if(_.head)_.head.hcrc=_.flags>>9&1,_.head.done=!0;x.adler=_.check=0,_.mode=$_;break;case DC:while(v<32){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}x.adler=_.check=sC(o),o=0,v=0,_.mode=Bp;case Bp:if(_.havedict===0)return x.next_out=p,x.avail_out=w,x.next_in=G,x.avail_in=W,_.hold=o,_.bits=v,gV;x.adler=_.check=1,_.mode=$_;case $_:if(g===e4||g===Ep)break x;case Sv:if(_.last){o>>>=v&7,v-=v&7,_.mode=Zv;break}while(v<3){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}switch(_.last=o&1,o>>>=1,v-=1,o&3){case 0:_.mode=QC;break;case 1:if(zV(_),_.mode=np,g===Ep){o>>>=2,v-=2;break x}break;case 2:_.mode=EC;break;case 3:x.msg="invalid block type",_.mode=Px}o>>>=2,v-=2;break;case QC:o>>>=v&7,v-=v&7;while(v<32){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if((o&65535)!==(o>>>16^65535)){x.msg="invalid stored block lengths",_.mode=Px;break}if(_.length=o&65535,o=0,v=0,_.mode=Iv,g===Ep)break x;case Iv:_.mode=aC;case aC:if(C=_.length,C){if(C>W)C=W;if(C>w)C=w;if(C===0)break x;Gg.arraySet(l,O,G,C,p),W-=C,G+=C,w-=C,p+=C,_.length-=C;break}_.mode=$_;break;case EC:while(v<14){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(_.nlen=(o&31)+257,o>>>=5,v-=5,_.ndist=(o&31)+1,o>>>=5,v-=5,_.ncode=(o&15)+4,o>>>=4,v-=4,_.nlen>286||_.ndist>30){x.msg="too many length or distance symbols",_.mode=Px;break}_.have=0,_.mode=nC;case nC:while(_.have<_.ncode){while(v<3){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}_.lens[L[_.have++]]=o&7,o>>>=3,v-=3}while(_.have<19)_.lens[L[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,U={bits:_.lenbits},F=d9(t4,_.lens,0,19,_.lencode,0,_.work,U),_.lenbits=U.bits,F){x.msg="invalid code lengths set",_.mode=Px;break}_.have=0,_.mode=$C;case $C:while(_.have<_.nlen+_.ndist){for(;;){if(b=_.lencode[o&(1<<_.lenbits)-1],f=b>>>24,d=b>>>16&255,M=b&65535,f<=v)break;if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(M<16)o>>>=f,v-=f,_.lens[_.have++]=M;else{if(M===16){Q=f+2;while(v<Q){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(o>>>=f,v-=f,_.have===0){x.msg="invalid bit length repeat",_.mode=Px;break}V=_.lens[_.have-1],C=3+(o&3),o>>>=2,v-=2}else if(M===17){Q=f+3;while(v<Q){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}o>>>=f,v-=f,V=0,C=3+(o&7),o>>>=3,v-=3}else{Q=f+7;while(v<Q){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}o>>>=f,v-=f,V=0,C=11+(o&127),o>>>=7,v-=7}if(_.have+C>_.nlen+_.ndist){x.msg="invalid bit length repeat",_.mode=Px;break}while(C--)_.lens[_.have++]=V}}if(_.mode===Px)break;if(_.lens[256]===0){x.msg="invalid code -- missing end-of-block",_.mode=Px;break}if(_.lenbits=9,U={bits:_.lenbits},F=d9(eC,_.lens,0,_.nlen,_.lencode,0,_.work,U),_.lenbits=U.bits,F){x.msg="invalid literal/lengths set",_.mode=Px;break}if(_.distbits=6,_.distcode=_.distdyn,U={bits:_.distbits},F=d9(xq,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,U),_.distbits=U.bits,F){x.msg="invalid distances set",_.mode=Px;break}if(_.mode=np,g===Ep)break x;case np:_.mode=$p;case $p:if(W>=6&&w>=258){if(x.next_out=p,x.avail_out=w,x.next_in=G,x.avail_in=W,_.hold=o,_.bits=v,s4(x,k),p=x.next_out,l=x.output,w=x.avail_out,G=x.next_in,O=x.input,W=x.avail_in,o=_.hold,v=_.bits,_.mode===$_)_.back=-1;break}_.back=0;for(;;){if(b=_.lencode[o&(1<<_.lenbits)-1],f=b>>>24,d=b>>>16&255,M=b&65535,f<=v)break;if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(d&&(d&240)===0){Y=f,K=d,h=M;for(;;){if(b=_.lencode[h+((o&(1<<Y+K)-1)>>Y)],f=b>>>24,d=b>>>16&255,M=b&65535,Y+f<=v)break;if(W===0)break x;W--,o+=O[G++]<<v,v+=8}o>>>=Y,v-=Y,_.back+=Y}if(o>>>=f,v-=f,_.back+=f,_.length=M,d===0){_.mode=iC;break}if(d&32){_.back=-1,_.mode=$_;break}if(d&64){x.msg="invalid literal/length code",_.mode=Px;break}_.extra=d&15,_.mode=BC;case BC:if(_.extra){Q=_.extra;while(v<Q){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}_.length+=o&(1<<_.extra)-1,o>>>=_.extra,v-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=HC;case HC:for(;;){if(b=_.distcode[o&(1<<_.distbits)-1],f=b>>>24,d=b>>>16&255,M=b&65535,f<=v)break;if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if((d&240)===0){Y=f,K=d,h=M;for(;;){if(b=_.distcode[h+((o&(1<<Y+K)-1)>>Y)],f=b>>>24,d=b>>>16&255,M=b&65535,Y+f<=v)break;if(W===0)break x;W--,o+=O[G++]<<v,v+=8}o>>>=Y,v-=Y,_.back+=Y}if(o>>>=f,v-=f,_.back+=f,d&64){x.msg="invalid distance code",_.mode=Px;break}_.offset=M,_.extra=d&15,_.mode=PC;case PC:if(_.extra){Q=_.extra;while(v<Q){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}_.offset+=o&(1<<_.extra)-1,o>>>=_.extra,v-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){x.msg="invalid distance too far back",_.mode=Px;break}_.mode=JC;case JC:if(w===0)break x;if(C=k-w,_.offset>C){if(C=_.offset-C,C>_.whave){if(_.sane){x.msg="invalid distance too far back",_.mode=Px;break}}if(C>_.wnext)C-=_.wnext,c=_.wsize-C;else c=_.wnext-C;if(C>_.length)C=_.length;m=_.window}else m=l,c=p-_.offset,C=_.length;if(C>w)C=w;w-=C,_.length-=C;do l[p++]=m[c++];while(--C);if(_.length===0)_.mode=$p;break;case iC:if(w===0)break x;l[p++]=_.length,w--,_.mode=$p;break;case Zv:if(_.wrap){while(v<32){if(W===0)break x;W--,o|=O[G++]<<v,v+=8}if(k-=w,x.total_out+=k,_.total+=k,k)x.adler=_.check=_.flags?v_(_.check,l,k,p-k):Uv(_.check,l,k,p-k);if(k=w,(_.flags?o:sC(o))!==_.check){x.msg="incorrect data check",_.mode=Px;break}o=0,v=0}_.mode=RC;case RC:if(_.wrap&&_.flags){while(v<32){if(W===0)break x;W--,o+=O[G++]<<v,v+=8}if(o!==(_.total&4294967295)){x.msg="incorrect length check",_.mode=Px;break}o=0,v=0}_.mode=TC;case TC:F=xV;break x;case Px:F=gq;break x;case Qv:return Dv;case OV:default:return hg}if(x.next_out=p,x.avail_out=w,x.next_in=G,x.avail_in=W,_.hold=o,_.bits=v,_.wsize||k!==x.avail_out&&_.mode<Px&&(_.mode<Zv||g!==XC)){if(Wq(x,x.output,x.next_out,k-x.avail_out))return _.mode=Qv,Dv}if(N-=x.avail_in,k-=x.avail_out,x.total_in+=N,x.total_out+=k,_.total+=k,_.wrap&&k)x.adler=_.check=_.flags?v_(_.check,l,k,x.next_out-k):Uv(_.check,l,k,x.next_out-k);if(x.data_type=_.bits+(_.last?64:0)+(_.mode===$_?128:0)+(_.mode===np||_.mode===Iv?256:0),(N===0&&k===0||g===XC)&&F===I6)F=_V;return F}function yV(x){if(!x||!x.state)return hg;var g=x.state;if(g.window)g.window=null;return x.state=null,I6}function NV(x,g){var _;if(!x||!x.state)return hg;if(_=x.state,(_.wrap&2)===0)return hg;return _.head=g,g.done=!1,I6}function kV(x,g){var _=g.length,O,l,G;if(!x||!x.state)return hg;if(O=x.state,O.wrap!==0&&O.mode!==Bp)return hg;if(O.mode===Bp){if(l=1,l=Uv(l,g,_,0),l!==O.check)return gq}if(G=Wq(x,g,_,_),G)return O.mode=Qv,Dv;return O.havedict=1,I6}dV.inflateReset=lq;dV.inflateReset2=Gq;dV.inflateResetKeep=Oq;dV.inflateInit=wV;dV.inflateInit2=pq;dV.inflate=vV;dV.inflateEnd=yV;dV.inflateGetHeader=NV;dV.inflateSetDictionary=kV;dV.inflateInfo="pako inflate (from Nodeca project)"});var av=px((Iu,wq)=>{wq.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var vq=px((Zu,zq)=>{function VV(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}zq.exports=VV});var Nq=px((AV)=>{var xl=oq(),C9=E_(),Hp=Kv(),p0=av(),Ev=Sp(),LV=Vv(),XV=vq(),yq=Object.prototype.toString;function Z6(x){if(!(this instanceof Z6))return new Z6(x);this.options=C9.assign({chunkSize:16384,windowBits:0,to:""},x||{});var g=this.options;if(g.raw&&g.windowBits>=0&&g.windowBits<16){if(g.windowBits=-g.windowBits,g.windowBits===0)g.windowBits=-15}if(g.windowBits>=0&&g.windowBits<16&&!(x&&x.windowBits))g.windowBits+=32;if(g.windowBits>15&&g.windowBits<48){if((g.windowBits&15)===0)g.windowBits|=15}this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new LV,this.strm.avail_out=0;var _=xl.inflateInit2(this.strm,g.windowBits);if(_!==p0.Z_OK)throw new Error(Ev[_]);if(this.header=new XV,xl.inflateGetHeader(this.strm,this.header),g.dictionary){if(typeof g.dictionary==="string")g.dictionary=Hp.string2buf(g.dictionary);else if(yq.call(g.dictionary)==="[object ArrayBuffer]")g.dictionary=new Uint8Array(g.dictionary);if(g.raw){if(_=xl.inflateSetDictionary(this.strm,g.dictionary),_!==p0.Z_OK)throw new Error(Ev[_])}}}Z6.prototype.push=function(x,g){var _=this.strm,O=this.options.chunkSize,l=this.options.dictionary,G,p,W,w,o,v=!1;if(this.ended)return!1;if(p=g===~~g?g:g===!0?p0.Z_FINISH:p0.Z_NO_FLUSH,typeof x==="string")_.input=Hp.binstring2buf(x);else if(yq.call(x)==="[object ArrayBuffer]")_.input=new Uint8Array(x);else _.input=x;_.next_in=0,_.avail_in=_.input.length;do{if(_.avail_out===0)_.output=new C9.Buf8(O),_.next_out=0,_.avail_out=O;if(G=xl.inflate(_,p0.Z_NO_FLUSH),G===p0.Z_NEED_DICT&&l)G=xl.inflateSetDictionary(this.strm,l);if(G===p0.Z_BUF_ERROR&&v===!0)G=p0.Z_OK,v=!1;if(G!==p0.Z_STREAM_END&&G!==p0.Z_OK)return this.onEnd(G),this.ended=!0,!1;if(_.next_out){if(_.avail_out===0||G===p0.Z_STREAM_END||_.avail_in===0&&(p===p0.Z_FINISH||p===p0.Z_SYNC_FLUSH))if(this.options.to==="string"){if(W=Hp.utf8border(_.output,_.next_out),w=_.next_out-W,o=Hp.buf2string(_.output,W),_.next_out=w,_.avail_out=O-w,w)C9.arraySet(_.output,_.output,W,w,0);this.onData(o)}else this.onData(C9.shrinkBuf(_.output,_.next_out))}if(_.avail_in===0&&_.avail_out===0)v=!0}while((_.avail_in>0||_.avail_out===0)&&G!==p0.Z_STREAM_END);if(G===p0.Z_STREAM_END)p=p0.Z_FINISH;if(p===p0.Z_FINISH)return G=xl.inflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===p0.Z_OK;if(p===p0.Z_SYNC_FLUSH)return this.onEnd(p0.Z_OK),_.avail_out=0,!0;return!0};Z6.prototype.onData=function(x){this.chunks.push(x)};Z6.prototype.onEnd=function(x){if(x===p0.Z_OK)if(this.options.to==="string")this.result=this.chunks.join("");else this.result=C9.flattenChunks(this.chunks);this.chunks=[],this.err=x,this.msg=this.strm.msg};function nv(x,g){var _=new Z6(g);if(_.push(x,!0),_.err)throw _.msg||Ev[_.err];return _.result}function FV(x,g){return g=g||{},g.raw=!0,nv(x,g)}AV.Inflate=Z6;AV.inflate=nv;AV.inflateRaw=FV;AV.ungzip=nv});var Cq=px((ru,dq)=>{var jV=E_().assign,rV=MC(),UV=Nq(),DV=av(),kq={};jV(kq,rV,UV,DV);dq.exports=kq});var Mq=px((nV)=>{var QV=typeof Uint8Array!=="undefined"&&typeof Uint16Array!=="undefined"&&typeof Uint32Array!=="undefined",aV=Cq(),qq=tx(),Pp=lg(),EV=QV?"uint8array":"array";nV.magic="\b\x00";function j6(x,g){Pp.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=g,this.meta={}}qq.inherits(j6,Pp);j6.prototype.processChunk=function(x){if(this.meta=x.meta,this._pako===null)this._createPako();this._pako.push(qq.transformTo(EV,x.data),!1)};j6.prototype.flush=function(){if(Pp.prototype.flush.call(this),this._pako===null)this._createPako();this._pako.push([],!0)};j6.prototype.cleanUp=function(){Pp.prototype.cleanUp.call(this),this._pako=null};j6.prototype._createPako=function(){this._pako=new aV[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(g){x.push({data:g,meta:x.meta})}};nV.compressWorker=function(x){return new j6("Deflate",x)};nV.uncompressWorker=function(){return new j6("Inflate",{})}});var $v=px((PV)=>{var Yq=lg();PV.STORE={magic:"\x00\x00",compressWorker:function(){return new Yq("STORE compression")},uncompressWorker:function(){return new Yq("STORE decompression")}};PV.DEFLATE=Mq()});var Bv=px((RV)=>{RV.LOCAL_FILE_HEADER="PK\x03\x04";RV.CENTRAL_FILE_HEADER="PK\x01\x02";RV.CENTRAL_DIRECTORY_END="PK\x05\x06";RV.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07";RV.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06";RV.DATA_DESCRIPTOR="PK\x07\b"});var bq=px((au,mq)=>{var gl=tx(),_l=lg(),Hv=H8(),fq=Xp(),Jp=Bv(),ax=function(x,g){var _="",O;for(O=0;O<g;O++)_+=String.fromCharCode(x&255),x=x>>>8;return _},_L=function(x,g){var _=x;if(!x)_=g?16893:33204;return(_&65535)<<16},OL=function(x){return(x||0)&63},cq=function(x,g,_,O,l,G){var{file:p,compression:W}=x,w=G!==Hv.utf8encode,o=gl.transformTo("string",G(p.name)),v=gl.transformTo("string",Hv.utf8encode(p.name)),N=p.comment,k=gl.transformTo("string",G(N)),C=gl.transformTo("string",Hv.utf8encode(N)),c=v.length!==p.name.length,m=C.length!==N.length,b,f,d="",M="",Y="",K=p.dir,h=p.date,V={crc32:0,compressedSize:0,uncompressedSize:0};if(!g||_)V.crc32=x.crc32,V.compressedSize=x.compressedSize,V.uncompressedSize=x.uncompressedSize;var F=0;if(g)F|=8;if(!w&&(c||m))F|=2048;var D=0,U=0;if(K)D|=16;if(l==="UNIX")U=798,D|=_L(p.unixPermissions,K);else U=20,D|=OL(p.dosPermissions,K);if(b=h.getUTCHours(),b=b<<6,b=b|h.getUTCMinutes(),b=b<<5,b=b|h.getUTCSeconds()/2,f=h.getUTCFullYear()-1980,f=f<<4,f=f|h.getUTCMonth()+1,f=f<<5,f=f|h.getUTCDate(),c)M=ax(1,1)+ax(fq(o),4)+v,d+="up"+ax(M.length,2)+M;if(m)Y=ax(1,1)+ax(fq(k),4)+C,d+="uc"+ax(Y.length,2)+Y;var Q="";Q+=`
\x00`,Q+=ax(F,2),Q+=W.magic,Q+=ax(b,2),Q+=ax(f,2),Q+=ax(V.crc32,4),Q+=ax(V.compressedSize,4),Q+=ax(V.uncompressedSize,4),Q+=ax(o.length,2),Q+=ax(d.length,2);var L=Jp.LOCAL_FILE_HEADER+Q+o+d,a=Jp.CENTRAL_FILE_HEADER+ax(U,2)+Q+ax(k.length,2)+"\x00\x00\x00\x00"+ax(D,4)+ax(O,4)+o+d+k;return{fileRecord:L,dirRecord:a}},lL=function(x,g,_,O,l){var G="",p=gl.transformTo("string",l(O));return G=Jp.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+ax(x,2)+ax(x,2)+ax(g,4)+ax(_,4)+ax(p.length,2)+p,G},GL=function(x){var g="";return g=Jp.DATA_DESCRIPTOR+ax(x.crc32,4)+ax(x.compressedSize,4)+ax(x.uncompressedSize,4),g};function Ug(x,g,_,O){_l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=_,this.encodeFileName=O,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}gl.inherits(Ug,_l);Ug.prototype.push=function(x){var g=x.meta.percent||0,_=this.entriesCount,O=this._sources.length;if(this.accumulate)this.contentBuffer.push(x);else this.bytesWritten+=x.data.length,_l.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:_?(g+100*(_-O-1))/_:100}})};Ug.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var g=this.streamFiles&&!x.file.dir;if(g){var _=cq(x,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0};Ug.prototype.closedSource=function(x){this.accumulate=!1;var g=this.streamFiles&&!x.file.dir,_=cq(x,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),g)this.push({data:GL(x),meta:{percent:100}});else{this.push({data:_.fileRecord,meta:{percent:0}});while(this.contentBuffer.length)this.push(this.contentBuffer.shift())}this.currentFile=null};Ug.prototype.flush=function(){var x=this.bytesWritten;for(var g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var _=this.bytesWritten-x,O=lL(this.dirRecords.length,_,x,this.zipComment,this.encodeFileName);this.push({data:O,meta:{percent:100}})};Ug.prototype.prepareNextSource=function(){if(this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused)this.previous.pause();else this.previous.resume()};Ug.prototype.registerPrevious=function(x){this._sources.push(x);var g=this;return x.on("data",function(_){g.processChunk(_)}),x.on("end",function(){if(g.closedSource(g.previous.streamInfo),g._sources.length)g.prepareNextSource();else g.end()}),x.on("error",function(_){g.error(_)}),this};Ug.prototype.resume=function(){if(!_l.prototype.resume.call(this))return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0};Ug.prototype.error=function(x){var g=this._sources;if(!_l.prototype.error.call(this,x))return!1;for(var _=0;_<g.length;_++)try{g[_].error(x)}catch(O){}return!0};Ug.prototype.lock=function(){_l.prototype.lock.call(this);var x=this._sources;for(var g=0;g<x.length;g++)x[g].lock()};mq.exports=Ug});var hq=px((wL)=>{var pL=$v(),WL=bq(),oL=function(x,g){var _=x||g,O=pL[_];if(!O)throw new Error(_+" is not a valid compression method !");return O};wL.generateWorker=function(x,g,_){var O=new WL(g.streamFiles,_,g.platform,g.encodeFileName),l=0;try{x.forEach(function(G,p){l++;var W=oL(p.options.compression,g.compression),w=p.options.compressionOptions||g.compressionOptions||{},o=p.dir,v=p.date;p._compressWorker(W,w).withStreamInfo("file",{name:G,dir:o,date:v,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(O)}),O.entriesCount=l}catch(G){O.error(G)}return O}});var Vq=px((nu,Kq)=>{var vL=tx(),ip=lg();function q9(x,g){ip.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(g)}vL.inherits(q9,ip);q9.prototype._bindStream=function(x){var g=this;this._stream=x,x.pause(),x.on("data",function(_){g.push({data:_,meta:{percent:0}})}).on("error",function(_){if(g.isPaused)this.generatedError=_;else g.error(_)}).on("end",function(){if(g.isPaused)g._upstreamEnded=!0;else g.end()})};q9.prototype.pause=function(){if(!ip.prototype.pause.call(this))return!1;return this._stream.pause(),!0};q9.prototype.resume=function(){if(!ip.prototype.resume.call(this))return!1;if(this._upstreamEnded)this.end();else this._stream.resume();return!0};Kq.exports=q9});var rq=px(($u,jq)=>{var yL=H8(),M9=tx(),Aq=lg(),NL=Rz(),uq=Tz(),Lq=Fp(),kL=Xd(),dL=hq(),Xq=R7(),CL=Vq(),Sq=function(x,g,_){var O=M9.getTypeOf(g),l,G=M9.extend(_||{},uq);if(G.date=G.date||new Date,G.compression!==null)G.compression=G.compression.toUpperCase();if(typeof G.unixPermissions==="string")G.unixPermissions=parseInt(G.unixPermissions,8);if(G.unixPermissions&&G.unixPermissions&16384)G.dir=!0;if(G.dosPermissions&&G.dosPermissions&16)G.dir=!0;if(G.dir)x=Iq(x);if(G.createFolders&&(l=qL(x)))Zq.call(this,l,!0);var p=O==="string"&&G.binary===!1&&G.base64===!1;if(!_||typeof _.binary==="undefined")G.binary=!p;var W=g instanceof Lq&&g.uncompressedSize===0;if(W||G.dir||!g||g.length===0)G.base64=!1,G.binary=!0,g="",G.compression="STORE",O="string";var w=null;if(g instanceof Lq||g instanceof Aq)w=g;else if(Xq.isNode&&Xq.isStream(g))w=new CL(x,g);else w=M9.prepareContent(x,g,G.binary,G.optimizedBinaryString,G.base64);var o=new kL(x,w,G);this.files[x]=o},qL=function(x){if(x.slice(-1)==="/")x=x.substring(0,x.length-1);var g=x.lastIndexOf("/");return g>0?x.substring(0,g):""},Iq=function(x){if(x.slice(-1)!=="/")x+="/";return x},Zq=function(x,g){if(g=typeof g!=="undefined"?g:uq.createFolders,x=Iq(x),!this.files[x])Sq.call(this,x,null,{dir:!0,createFolders:g});return this.files[x]};function Fq(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var ML={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var g,_,O;for(g in this.files)if(O=this.files[g],_=g.slice(this.root.length,g.length),_&&g.slice(0,this.root.length)===this.root)x(_,O)},filter:function(x){var g=[];return this.forEach(function(_,O){if(x(_,O))g.push(O)}),g},file:function(x,g,_){if(arguments.length===1)if(Fq(x)){var O=x;return this.filter(function(G,p){return!p.dir&&O.test(G)})}else{var l=this.files[this.root+x];if(l&&!l.dir)return l;else return null}else x=this.root+x,Sq.call(this,x,g,_);return this},folder:function(x){if(!x)return this;if(Fq(x))return this.filter(function(l,G){return G.dir&&x.test(l)});var g=this.root+x,_=Zq.call(this,g),O=this.clone();return O.root=_.name,O},remove:function(x){x=this.root+x;var g=this.files[x];if(!g){if(x.slice(-1)!=="/")x+="/";g=this.files[x]}if(g&&!g.dir)delete this.files[x];else{var _=this.filter(function(l,G){return G.name.slice(0,x.length)===x});for(var O=0;O<_.length;O++)delete this.files[_[O].name]}return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var g,_={};try{if(_=M9.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:yL.utf8encode}),_.type=_.type.toLowerCase(),_.compression=_.compression.toUpperCase(),_.type==="binarystring")_.type="string";if(!_.type)throw new Error("No output type specified.");if(M9.checkSupport(_.type),_.platform==="darwin"||_.platform==="freebsd"||_.platform==="linux"||_.platform==="sunos")_.platform="UNIX";if(_.platform==="win32")_.platform="DOS";var O=_.comment||this.comment||"";g=dL.generateWorker(this,_,O)}catch(l){g=new Aq("error"),g.error(l)}return new NL(g,_.type||"string",_.mimeType)},generateAsync:function(x,g){return this.generateInternalStream(x).accumulate(g)},generateNodeStream:function(x,g){if(x=x||{},!x.type)x.type="nodebuffer";return this.generateInternalStream(x).toNodejsStream(g)}};jq.exports=ML});var Pv=px((Bu,Dq)=>{var YL=tx();function Uq(x){this.data=x,this.length=x.length,this.index=0,this.zero=0}Uq.prototype={checkOffset:function(x){this.checkIndex(this.index+x)},checkIndex:function(x){if(this.length<this.zero+x||x<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+x+"). Corrupted zip ?")},setIndex:function(x){this.checkIndex(x),this.index=x},skip:function(x){this.setIndex(this.index+x)},byteAt:function(){},readInt:function(x){var g=0,_;this.checkOffset(x);for(_=this.index+x-1;_>=this.index;_--)g=(g<<8)+this.byteAt(_);return this.index+=x,g},readString:function(x){return YL.transformTo("string",this.readData(x))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var x=this.readInt(4);return new Date(Date.UTC((x>>25&127)+1980,(x>>21&15)-1,x>>16&31,x>>11&31,x>>5&63,(x&31)<<1))}};Dq.exports=Uq});var Jv=px((Hu,aq)=>{var Qq=Pv(),fL=tx();function Ol(x){Qq.call(this,x);for(var g=0;g<this.data.length;g++)x[g]=x[g]&255}fL.inherits(Ol,Qq);Ol.prototype.byteAt=function(x){return this.data[this.zero+x]};Ol.prototype.lastIndexOfSignature=function(x){var g=x.charCodeAt(0),_=x.charCodeAt(1),O=x.charCodeAt(2),l=x.charCodeAt(3);for(var G=this.length-4;G>=0;--G)if(this.data[G]===g&&this.data[G+1]===_&&this.data[G+2]===O&&this.data[G+3]===l)return G-this.zero;return-1};Ol.prototype.readAndCheckSignature=function(x){var g=x.charCodeAt(0),_=x.charCodeAt(1),O=x.charCodeAt(2),l=x.charCodeAt(3),G=this.readData(4);return g===G[0]&&_===G[1]&&O===G[2]&&l===G[3]};Ol.prototype.readData=function(x){if(this.checkOffset(x),x===0)return[];var g=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,g};aq.exports=Ol});var $q=px((Pu,nq)=>{var Eq=Pv(),cL=tx();function ll(x){Eq.call(this,x)}cL.inherits(ll,Eq);ll.prototype.byteAt=function(x){return this.data.charCodeAt(this.zero+x)};ll.prototype.lastIndexOfSignature=function(x){return this.data.lastIndexOf(x)-this.zero};ll.prototype.readAndCheckSignature=function(x){var g=this.readData(4);return x===g};ll.prototype.readData=function(x){this.checkOffset(x);var g=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,g};nq.exports=ll});var Rv=px((Ju,Hq)=>{var Bq=Jv(),mL=tx();function iv(x){Bq.call(this,x)}mL.inherits(iv,Bq);iv.prototype.readData=function(x){if(this.checkOffset(x),x===0)return new Uint8Array(0);var g=this.data.subarray(this.zero+this.index,this.zero+this.index+x);return this.index+=x,g};Hq.exports=iv});var iq=px((iu,Jq)=>{var Pq=Rv(),bL=tx();function Tv(x){Pq.call(this,x)}bL.inherits(Tv,Pq);Tv.prototype.readData=function(x){this.checkOffset(x);var g=this.data.slice(this.zero+this.index,this.zero+this.index+x);return this.index+=x,g};Jq.exports=Tv});var sv=px((Ru,Tq)=>{var Rp=tx(),Rq=a_(),hL=Jv(),KL=$q(),VL=iq(),LL=Rv();Tq.exports=function(x){var g=Rp.getTypeOf(x);if(Rp.checkSupport(g),g==="string"&&!Rq.uint8array)return new KL(x);if(g==="nodebuffer")return new VL(x);if(Rq.uint8array)return new LL(Rp.transformTo("uint8array",x));return new hL(Rp.transformTo("array",x))}});var x5=px((Tu,eq)=>{var tv=sv(),QO=tx(),XL=Fp(),sq=Xp(),Tp=H8(),sp=$v(),FL=a_(),AL=0,uL=3,SL=function(x){for(var g in sp){if(!Object.prototype.hasOwnProperty.call(sp,g))continue;if(sp[g].magic===x)return sp[g]}return null};function tq(x,g){this.options=x,this.loadOptions=g}tq.prototype={isEncrypted:function(){return(this.bitFlag&1)===1},useUTF8:function(){return(this.bitFlag&2048)===2048},readLocalPart:function(x){var g,_;if(x.skip(22),this.fileNameLength=x.readInt(2),_=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(g=SL(this.compressionMethod),g===null)throw new Error("Corrupted zip : compression "+QO.pretty(this.compressionMethod)+" unknown (inner file : "+QO.transformTo("string",this.fileName)+")");this.decompressed=new XL(this.compressedSize,this.uncompressedSize,this.crc32,g,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var g=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(g),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;if(this.dir=this.externalFileAttributes&16?!0:!1,x===AL)this.dosPermissions=this.externalFileAttributes&63;if(x===uL)this.unixPermissions=this.externalFileAttributes>>16&65535;if(!this.dir&&this.fileNameStr.slice(-1)==="/")this.dir=!0},parseZIP64ExtraField:function(){if(!this.extraFields[1])return;var x=tv(this.extraFields[1].value);if(this.uncompressedSize===QO.MAX_VALUE_32BITS)this.uncompressedSize=x.readInt(8);if(this.compressedSize===QO.MAX_VALUE_32BITS)this.compressedSize=x.readInt(8);if(this.localHeaderOffset===QO.MAX_VALUE_32BITS)this.localHeaderOffset=x.readInt(8);if(this.diskNumberStart===QO.MAX_VALUE_32BITS)this.diskNumberStart=x.readInt(4)},readExtraFields:function(x){var g=x.index+this.extraFieldsLength,_,O,l;if(!this.extraFields)this.extraFields={};while(x.index+4<g)_=x.readInt(2),O=x.readInt(2),l=x.readData(O),this.extraFields[_]={id:_,length:O,value:l};x.setIndex(g)},handleUTF8:function(){var x=FL.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Tp.utf8decode(this.fileName),this.fileCommentStr=Tp.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var _=QO.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var O=this.findExtraFieldUnicodeComment();if(O!==null)this.fileCommentStr=O;else{var l=QO.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(l)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var g=tv(x.value);if(g.readInt(1)!==1)return null;if(sq(this.fileName)!==g.readInt(4))return null;return Tp.utf8decode(g.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var g=tv(x.value);if(g.readInt(1)!==1)return null;if(sq(this.fileComment)!==g.readInt(4))return null;return Tp.utf8decode(g.readData(x.length-5))}return null}};eq.exports=tq});var O5=px((su,_5)=>{var IL=sv(),B_=tx(),Dg=Bv(),ZL=x5(),jL=a_();function g5(x){this.files=[],this.loadOptions=x}g5.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+B_.pretty(g)+", expected "+B_.pretty(x)+")")}},isSignature:function(x,g){var _=this.reader.index;this.reader.setIndex(x);var O=this.reader.readString(4),l=O===g;return this.reader.setIndex(_),l},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),g=jL.uint8array?"uint8array":"array",_=B_.transformTo(g,x);this.zipComment=this.loadOptions.decodeFileName(_)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};var x=this.zip64EndOfCentralSize-44,g=0,_,O,l;while(g<x)_=this.reader.readInt(2),O=this.reader.readInt(4),l=this.reader.readData(O),this.zip64ExtensibleData[_]={id:_,length:O,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,g;for(x=0;x<this.files.length;x++)g=this.files[x],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(Dg.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var x;this.reader.setIndex(this.centralDirOffset);while(this.reader.readAndCheckSignature(Dg.CENTRAL_FILE_HEADER))x=new ZL({zip64:this.zip64},this.loadOptions),x.readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length){if(this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(Dg.CENTRAL_DIRECTORY_END);if(x<0){var g=!this.isSignature(0,Dg.LOCAL_FILE_HEADER);if(g)throw new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");else throw new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(x);var _=x;if(this.checkSignature(Dg.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===B_.MAX_VALUE_16BITS||this.diskWithCentralDirStart===B_.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===B_.MAX_VALUE_16BITS||this.centralDirRecords===B_.MAX_VALUE_16BITS||this.centralDirSize===B_.MAX_VALUE_32BITS||this.centralDirOffset===B_.MAX_VALUE_32BITS){if(this.zip64=!0,x=this.reader.lastIndexOfSignature(Dg.ZIP64_CENTRAL_DIRECTORY_LOCATOR),x<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(Dg.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Dg.ZIP64_CENTRAL_DIRECTORY_END)){if(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Dg.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory")}this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Dg.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var O=this.centralDirOffset+this.centralDirSize;if(this.zip64)O+=20,O+=12+this.zip64EndOfCentralSize;var l=_-O;if(l>0)if(this.isSignature(_,Dg.CENTRAL_FILE_HEADER));else this.reader.zero=l;else if(l<0)throw new Error("Corrupted zip: missing "+Math.abs(l)+" bytes.")},prepareReader:function(x){this.reader=IL(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};_5.exports=g5});var p5=px((tu,G5)=>{var ev=tx(),tp=n8(),rL=H8(),UL=O5(),DL=ez(),l5=R7();function QL(x){return new tp.Promise(function(g,_){var O=x.decompressed.getContentWorker().pipe(new DL);O.on("error",function(l){_(l)}).on("end",function(){if(O.streamInfo.crc32!==x.decompressed.crc32)_(new Error("Corrupted zip : CRC32 mismatch"));else g()}).resume()})}G5.exports=function(x,g){var _=this;if(g=ev.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:rL.utf8decode}),l5.isNode&&l5.isStream(x))return tp.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file."));return ev.prepareContent("the loaded zip file",x,!0,g.optimizedBinaryString,g.base64).then(function(O){var l=new UL(g);return l.load(O),l}).then(function O(l){var G=[tp.Promise.resolve(l)],p=l.files;if(g.checkCRC32)for(var W=0;W<p.length;W++)G.push(QL(p[W]));return tp.Promise.all(G)}).then(function O(l){var G=l.shift(),p=G.files;for(var W=0;W<p.length;W++){var w=p[W],o=w.fileNameStr,v=ev.resolve(w.fileNameStr);if(_.file(v,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:g.createFolders}),!w.dir)_.file(v).unsafeOriginalName=o}if(G.zipComment.length)_.comment=G.zipComment;return _})}});var o5=px((eu,W5)=>{function Kg(){if(!(this instanceof Kg))return new Kg;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var x=new Kg;for(var g in this)if(typeof this[g]!=="function")x[g]=this[g];return x}}Kg.prototype=rq();Kg.prototype.loadAsync=p5();Kg.support=a_();Kg.defaults=Tz();Kg.version="3.10.1";Kg.loadAsync=function(x,g){return new Kg().loadAsync(x,g)};Kg.external=n8();W5.exports=Kg});var df=$W(Vk(),1);OO();var Yb=Symbol.for("react.transitional.element"),fb=Symbol.for("react.fragment");function Lk(x,g,_){var O=null;if(_!==void 0&&(O=""+_),g.key!==void 0&&(O=""+g.key),"key"in g){_={};for(var l in g)l!=="key"&&(_[l]=g[l])}else _=g;return g=_.ref,{$$typeof:Yb,type:x,key:O,ref:g!==void 0?g:null,props:_}}var jg=fb,Gx=Lk,Vx=Lk;function Xk({setFileData:x,setIsProcessing:g,resetStates:_}){let O=Ag(null);function l(G){_(),console.log("entering uploadFiles");let p=G.target.files;if(!p||p.length===0){console.error("No files selected.");return}g(!0),console.log("Files processing:",p.length);for(let W=0;W<p.length;W++){if(console.log("Processing file:",p[W].name),!p[W].type.startsWith("image/png")){console.error("Only PNG files are allowed.");continue}else{console.log("creating fileName");let w=p[W].name.substring(0,p[W].name.lastIndexOf(".")),o=p[W],v=new FileReader;v.onload=(N)=>{console.log("entering reader.onload");let k=N.target?.result;x((C)=>{let c=[...C,{name:w,data:k}];if(c.length===p.length)g(!1),console.log("processing complete");return c})},v.readAsDataURL(o)}console.log("File processed + added to fileData.")}}return Gx(jg,{children:Vx("div",{className:"py-[80px]",children:[Gx("button",{onClick:()=>O.current?.click(),className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Upload Files"}),Gx("p",{className:"italic text-gray-600 pt-[15px]",children:"Requires original .png files"}),Vx("p",{className:"italic text-gray-600",children:["Need blank icons?",Gx("a",{href:"https://nightlight.gg/packs/default-icons-no-shadow",className:"",target:"_blank",rel:"noopener noreferrer",children:"Download from NightLight"})]}),Gx("input",{type:"file",id:"files",name:"files",multiple:!0,accept:"image/png",ref:O,className:"hidden",onChange:l})]})})}var w5=$W(o5(),1);OO();function z5({files:x}){console.log("Preparing Files for ZIP:",x);let g=Ag(null),_=new w5.default;async function O(){if(!x||x.length===0){alert("No files to download");return}for(let l=0;l<x.length;l++){let p=await(await fetch(x[l].data)).blob();if(_.file(`${x[l].name}.png`,p),l===x.length-1){let W=await _.generateAsync({type:"blob"}),w=URL.createObjectURL(W);if(g.current)g.current.href=w,g.current.download="icons.zip",g.current.click(),setTimeout(()=>URL.revokeObjectURL(w),100)}}}return Gx(jg,{children:Vx("div",{className:"py-5",children:[Gx("button",{onClick:O,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Click to Download"}),Gx("a",{ref:g,style:{display:"none"}})]})})}function v5({files:x}){return Vx(jg,{children:[x?.length>0&&Vx(jg,{children:[Gx("h2",{className:"guide",children:"Step 3: Download and Enjoy!"}),Gx(z5,{files:x})]}),Gx("h2",{className:"title",children:"Generated Icons"}),Vx("div",{className:"container pt-0",children:[x?.length===0&&Gx("p",{className:"italic text-gray-600",children:"No Files to Display"}),x?.length>0&&Gx(jg,{children:Gx("div",{className:"grid grid-cols-4 gap-4",children:x.map((g)=>Gx("img",{src:g.data,alt:`Custom Icon Generated: ${g.name}`,className:"w-[256px] h-auto"},g.name))})})]})]})}OO();var y5="./90s Icon Pack-6qk1xcjd.png";function j(x,g,_){return(g=function(O){var l=function(G,p){if(typeof G!="object"||!G)return G;var W=G[Symbol.toPrimitive];if(W!==void 0){var w=W.call(G,p||"default");if(typeof w!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(G)}(O,"string");return typeof l=="symbol"?l:l+""}(g))in x?Object.defineProperty(x,g,{value:_,enumerable:!0,configurable:!0,writable:!0}):x[g]=_,x}function N5(x,g){var _=Object.keys(x);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(x);g&&(O=O.filter(function(l){return Object.getOwnPropertyDescriptor(x,l).enumerable})),_.push.apply(_,O)}return _}function Z(x){for(var g=1;g<arguments.length;g++){var _=arguments[g]!=null?arguments[g]:{};g%2?N5(Object(_),!0).forEach(function(O){j(x,O,_[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(_)):N5(Object(_)).forEach(function(O){Object.defineProperty(x,O,Object.getOwnPropertyDescriptor(_,O))})}return x}function ix(x,g){if(x==null)return{};var _,O,l=function(p,W){if(p==null)return{};var w={};for(var o in p)if({}.hasOwnProperty.call(p,o)){if(W.indexOf(o)>=0)continue;w[o]=p[o]}return w}(x,g);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(x);for(O=0;O<G.length;O++)_=G[O],g.indexOf(_)>=0||{}.propertyIsEnumerable.call(x,_)&&(l[_]=x[_])}return l}function JO(x,g){return g||(g=x.slice(0)),Object.freeze(Object.defineProperties(x,{raw:{value:Object.freeze(g)}}))}class yy{constructor(){j(this,"browserShadowBlurConstant",1),j(this,"DPI",96),j(this,"devicePixelRatio",typeof window!="undefined"?window.devicePixelRatio:1),j(this,"perfLimitSizeTotal",2097152),j(this,"maxCacheSideLimit",4096),j(this,"minCacheSideLimit",256),j(this,"disableStyleCopyPaste",!1),j(this,"enableGLFiltering",!0),j(this,"textureSize",4096),j(this,"forceGLPutImageData",!1),j(this,"cachesBoundsOfCurve",!1),j(this,"fontPaths",{}),j(this,"NUM_FRACTION_DIGITS",4)}}var hx=new class extends yy{constructor(x){super(),this.configure(x)}configure(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.assign(this,x)}addFonts(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fontPaths=Z(Z({},this.fontPaths),x)}removeFonts(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach((x)=>{delete this.fontPaths[x]})}clearFonts(){this.fontPaths={}}restoreDefaults(x){let g=new yy,_=(x==null?void 0:x.reduce((O,l)=>(O[l]=g[l],O),{}))||g;this.configure(_)}},$O=function(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return console[x]("fabric",..._)};class ng extends Error{constructor(x,g){super("fabric: ".concat(x),g)}}class uy extends ng{constructor(x){super("".concat(x," 'options.signal' is in 'aborted' state"))}}class $5{}class B5 extends $5{testPrecision(x,g){let _="precision ".concat(g,` float;
void main(){}`),O=x.createShader(x.FRAGMENT_SHADER);return!!O&&(x.shaderSource(O,_),x.compileShader(O),!!x.getShaderParameter(O,x.COMPILE_STATUS))}queryWebGL(x){let g=x.getContext("webgl");g&&(this.maxTextureSize=g.getParameter(g.MAX_TEXTURE_SIZE),this.GLPrecision=["highp","mediump","lowp"].find((_)=>this.testPrecision(g,_)),g.getExtension("WEBGL_lose_context").loseContext(),$O("log","WebGL: max texture size ".concat(this.maxTextureSize)))}isSupported(x){return!!this.maxTextureSize&&this.maxTextureSize>=x}}var EL={},k5;var d_=()=>k5||(k5={document,window,isTouchSupported:"ontouchstart"in window||"ontouchstart"in document||window&&window.navigator&&window.navigator.maxTouchPoints>0,WebGLProbe:new B5,dispose(){},copyPasteData:EL}),Al=()=>d_().document,bW=()=>d_().window,H5=()=>{var x;return Math.max((x=hx.devicePixelRatio)!==null&&x!==void 0?x:bW().devicePixelRatio,1)},h9=new class{constructor(){j(this,"charWidthsCache",{}),j(this,"boundsOfCurveCache",{})}getFontCache(x){let{fontFamily:g,fontStyle:_,fontWeight:O}=x;g=g.toLowerCase(),this.charWidthsCache[g]||(this.charWidthsCache[g]={});let l=this.charWidthsCache[g],G="".concat(_.toLowerCase(),"_").concat((O+"").toLowerCase());return l[G]||(l[G]={}),l[G]}clearFontCache(x){(x=(x||"").toLowerCase())?this.charWidthsCache[x]&&delete this.charWidthsCache[x]:this.charWidthsCache={}}limitDimsByArea(x){let{perfLimitSizeTotal:g}=hx,_=Math.sqrt(g*x);return[Math.floor(_),Math.floor(g/_)]}},Ny="6.6.1";function B6(){}var BO=Math.PI/2,e_=2*Math.PI,Sy=Math.PI/180,D0=Object.freeze([1,0,0,1,0,0]),Iy=16,aO=0.4477152502,yx="center",Ax="left",J0="top",ky="bottom",W0="right",i0="none",Zy=/\r?\n/,P5="moving",hW="scaling",J5="rotating",jy="rotate",i5="skewing",A9="resizing",R5="modifyPoly",nL="modifyPath",oW="changed",KW="scale",Q0="scaleX",og="scaleY",ul="skewX",Sl="skewY",M0="fill",R0="stroke",wW="modified",Gl="json",xy="svg",_x=new class{constructor(){this[Gl]=new Map,this[xy]=new Map}has(x){return this[Gl].has(x)}getClass(x){let g=this[Gl].get(x);if(!g)throw new ng("No class registered for ".concat(x));return g}setClass(x,g){g?this[Gl].set(g,x):(this[Gl].set(x.type,x),this[Gl].set(x.type.toLowerCase(),x))}getSVGClass(x){return this[xy].get(x)}setSVGClass(x,g){this[xy].set(g!=null?g:x.type.toLowerCase(),x)}},zW=new class extends Array{remove(x){let g=this.indexOf(x);g>-1&&this.splice(g,1)}cancelAll(){let x=this.splice(0);return x.forEach((g)=>g.abort()),x}cancelByCanvas(x){if(!x)return[];let g=this.filter((_)=>{var O;return _.target===x||typeof _.target=="object"&&((O=_.target)===null||O===void 0?void 0:O.canvas)===x});return g.forEach((_)=>_.abort()),g}cancelByTarget(x){if(!x)return[];let g=this.filter((_)=>_.target===x);return g.forEach((_)=>_.abort()),g}};class T5{constructor(){j(this,"__eventListeners",{})}on(x,g){if(this.__eventListeners||(this.__eventListeners={}),typeof x=="object")return Object.entries(x).forEach((_)=>{let[O,l]=_;this.on(O,l)}),()=>this.off(x);if(g){let _=x;return this.__eventListeners[_]||(this.__eventListeners[_]=[]),this.__eventListeners[_].push(g),()=>this.off(_,g)}return()=>!1}once(x,g){if(typeof x=="object"){let _=[];return Object.entries(x).forEach((O)=>{let[l,G]=O;_.push(this.once(l,G))}),()=>_.forEach((O)=>O())}if(g){let _=this.on(x,function(){for(var O=arguments.length,l=new Array(O),G=0;G<O;G++)l[G]=arguments[G];g.call(this,...l),_()});return _}return()=>!1}_removeEventListener(x,g){if(this.__eventListeners[x])if(g){let _=this.__eventListeners[x],O=_.indexOf(g);O>-1&&_.splice(O,1)}else this.__eventListeners[x]=[]}off(x,g){if(this.__eventListeners)if(x===void 0)for(let _ in this.__eventListeners)this._removeEventListener(_);else typeof x=="object"?Object.entries(x).forEach((_)=>{let[O,l]=_;this._removeEventListener(O,l)}):this._removeEventListener(x,g)}fire(x,g){var _;if(!this.__eventListeners)return;let O=(_=this.__eventListeners[x])===null||_===void 0?void 0:_.concat();if(O)for(let l=0;l<O.length;l++)O[l].call(this,g||{})}}var r6=(x,g)=>{let _=x.indexOf(g);return _!==-1&&x.splice(_,1),x},Hg=(x)=>{if(x===0)return 1;switch(Math.abs(x)/BO){case 1:case 3:return 0;case 2:return-1}return Math.cos(x)},Pg=(x)=>{if(x===0)return 0;let g=x/BO,_=Math.sign(x);switch(g){case 1:return _;case 2:return 0;case 3:return-_}return Math.sin(x)};class E{constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;typeof x=="object"?(this.x=x.x,this.y=x.y):(this.x=x,this.y=g)}add(x){return new E(this.x+x.x,this.y+x.y)}addEquals(x){return this.x+=x.x,this.y+=x.y,this}scalarAdd(x){return new E(this.x+x,this.y+x)}scalarAddEquals(x){return this.x+=x,this.y+=x,this}subtract(x){return new E(this.x-x.x,this.y-x.y)}subtractEquals(x){return this.x-=x.x,this.y-=x.y,this}scalarSubtract(x){return new E(this.x-x,this.y-x)}scalarSubtractEquals(x){return this.x-=x,this.y-=x,this}multiply(x){return new E(this.x*x.x,this.y*x.y)}scalarMultiply(x){return new E(this.x*x,this.y*x)}scalarMultiplyEquals(x){return this.x*=x,this.y*=x,this}divide(x){return new E(this.x/x.x,this.y/x.y)}scalarDivide(x){return new E(this.x/x,this.y/x)}scalarDivideEquals(x){return this.x/=x,this.y/=x,this}eq(x){return this.x===x.x&&this.y===x.y}lt(x){return this.x<x.x&&this.y<x.y}lte(x){return this.x<=x.x&&this.y<=x.y}gt(x){return this.x>x.x&&this.y>x.y}gte(x){return this.x>=x.x&&this.y>=x.y}lerp(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0.5;return g=Math.max(Math.min(1,g),0),new E(this.x+(x.x-this.x)*g,this.y+(x.y-this.y)*g)}distanceFrom(x){let g=this.x-x.x,_=this.y-x.y;return Math.sqrt(g*g+_*_)}midPointFrom(x){return this.lerp(x)}min(x){return new E(Math.min(this.x,x.x),Math.min(this.y,x.y))}max(x){return new E(Math.max(this.x,x.x),Math.max(this.y,x.y))}toString(){return"".concat(this.x,",").concat(this.y)}setXY(x,g){return this.x=x,this.y=g,this}setX(x){return this.x=x,this}setY(x){return this.y=x,this}setFromPoint(x){return this.x=x.x,this.y=x.y,this}swap(x){let g=this.x,_=this.y;this.x=x.x,this.y=x.y,x.x=g,x.y=_}clone(){return new E(this.x,this.y)}rotate(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ry,_=Pg(x),O=Hg(x),l=this.subtract(g);return new E(l.x*O-l.y*_,l.x*_+l.y*O).add(g)}transform(x){let g=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new E(x[0]*this.x+x[2]*this.y+(g?0:x[4]),x[1]*this.x+x[3]*this.y+(g?0:x[5]))}}var ry=new E(0,0),pW=(x)=>!!x&&Array.isArray(x._objects);function s5(x){class g extends x{constructor(){super(...arguments),j(this,"_objects",[])}_onObjectAdded(_){}_onObjectRemoved(_){}_onStackOrderChanged(_){}add(){for(var _=arguments.length,O=new Array(_),l=0;l<_;l++)O[l]=arguments[l];let G=this._objects.push(...O);return O.forEach((p)=>this._onObjectAdded(p)),G}insertAt(_){for(var O=arguments.length,l=new Array(O>1?O-1:0),G=1;G<O;G++)l[G-1]=arguments[G];return this._objects.splice(_,0,...l),l.forEach((p)=>this._onObjectAdded(p)),this._objects.length}remove(){let _=this._objects,O=[];for(var l=arguments.length,G=new Array(l),p=0;p<l;p++)G[p]=arguments[p];return G.forEach((W)=>{let w=_.indexOf(W);w!==-1&&(_.splice(w,1),O.push(W),this._onObjectRemoved(W))}),O}forEachObject(_){this.getObjects().forEach((O,l,G)=>_(O,l,G))}getObjects(){for(var _=arguments.length,O=new Array(_),l=0;l<_;l++)O[l]=arguments[l];return O.length===0?[...this._objects]:this._objects.filter((G)=>G.isType(...O))}item(_){return this._objects[_]}isEmpty(){return this._objects.length===0}size(){return this._objects.length}contains(_,O){return!!this._objects.includes(_)||!!O&&this._objects.some((l)=>l instanceof g&&l.contains(_,!0))}complexity(){return this._objects.reduce((_,O)=>_+=O.complexity?O.complexity():0,0)}sendObjectToBack(_){return!(!_||_===this._objects[0])&&(r6(this._objects,_),this._objects.unshift(_),this._onStackOrderChanged(_),!0)}bringObjectToFront(_){return!(!_||_===this._objects[this._objects.length-1])&&(r6(this._objects,_),this._objects.push(_),this._onStackOrderChanged(_),!0)}sendObjectBackwards(_,O){if(!_)return!1;let l=this._objects.indexOf(_);if(l!==0){let G=this.findNewLowerIndex(_,l,O);return r6(this._objects,_),this._objects.splice(G,0,_),this._onStackOrderChanged(_),!0}return!1}bringObjectForward(_,O){if(!_)return!1;let l=this._objects.indexOf(_);if(l!==this._objects.length-1){let G=this.findNewUpperIndex(_,l,O);return r6(this._objects,_),this._objects.splice(G,0,_),this._onStackOrderChanged(_),!0}return!1}moveObjectTo(_,O){return _!==this._objects[O]&&(r6(this._objects,_),this._objects.splice(O,0,_),this._onStackOrderChanged(_),!0)}findNewLowerIndex(_,O,l){let G;if(l){G=O;for(let p=O-1;p>=0;--p)if(_.isOverlapping(this._objects[p])){G=p;break}}else G=O-1;return G}findNewUpperIndex(_,O,l){let G;if(l){G=O;for(let p=O+1;p<this._objects.length;++p)if(_.isOverlapping(this._objects[p])){G=p;break}}else G=O+1;return G}collectObjects(_){let{left:O,top:l,width:G,height:p}=_,{includeIntersecting:W=!0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=[],o=new E(O,l),v=o.add(new E(G,p));for(let N=this._objects.length-1;N>=0;N--){let k=this._objects[N];k.selectable&&k.visible&&(W&&k.intersectsWithRect(o,v)||k.isContainedWithinRect(o,v)||W&&k.containsPoint(o)||W&&k.containsPoint(v))&&w.push(k)}return w}}return g}class Uy extends T5{_setOptions(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};for(let g in x)this.set(g,x[g])}_setObject(x){for(let g in x)this._set(g,x[g])}set(x,g){return typeof x=="object"?this._setObject(x):this._set(x,g),this}_set(x,g){this[x]=g}toggle(x){let g=this.get(x);return typeof g=="boolean"&&this.set(x,!g),this}get(x){return this[x]}}function K9(x){return bW().requestAnimationFrame(x)}function t5(x){return bW().cancelAnimationFrame(x)}var $L=0,HO=()=>$L++,Xg=()=>{let x=Al().createElement("canvas");if(!x||x.getContext===void 0)throw new ng("Failed to create `canvas` element");return x},e5=()=>Al().createElement("img"),Jg=(x)=>{let g=Xg();return g.width=x.width,g.height=x.height,g},Dy=(x,g,_)=>x.toDataURL("image/".concat(g),_),Qy=(x,g,_)=>new Promise((O,l)=>{x.toBlob(O,"image/".concat(g),_)}),O0=(x)=>x*Sy,PO=(x)=>x/Sy,xM=(x)=>x.every((g,_)=>g===D0[_]),u0=(x,g,_)=>new E(x).transform(g,_),Wg=(x)=>{let g=1/(x[0]*x[3]-x[1]*x[2]),_=[g*x[3],-g*x[1],-g*x[2],g*x[0],0,0],{x:O,y:l}=new E(x[4],x[5]).transform(_,!0);return _[4]=-O,_[5]=-l,_},l0=(x,g,_)=>[x[0]*g[0]+x[2]*g[1],x[1]*g[0]+x[3]*g[1],x[0]*g[2]+x[2]*g[3],x[1]*g[2]+x[3]*g[3],_?0:x[0]*g[4]+x[2]*g[5]+x[4],_?0:x[1]*g[4]+x[3]*g[5]+x[5]],VW=(x,g)=>x.reduceRight((_,O)=>O&&_?l0(O,_,g):O||_,void 0)||D0.concat(),gM=(x)=>{let[g,_]=x;return Math.atan2(_,g)},Vl=(x)=>{let g=gM(x),_=Math.pow(x[0],2)+Math.pow(x[1],2),O=Math.sqrt(_),l=(x[0]*x[3]-x[2]*x[1])/O,G=Math.atan2(x[0]*x[2]+x[1]*x[3],_);return{angle:PO(g),scaleX:O,scaleY:l,skewX:PO(G),skewY:0,translateX:x[4]||0,translateY:x[5]||0}},Il=function(x){return[1,0,0,1,x,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0]};function Zl(){let{angle:x=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{x:g=0,y:_=0}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=O0(x),l=Hg(O),G=Pg(O);return[l,G,-G,l,g?g-(l*g-G*_):0,_?_-(G*g+l*_):0]}var LW=function(x){return[x,0,0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:x,0,0]},_M=(x)=>Math.tan(O0(x)),ay=(x)=>[1,0,_M(x),1,0,0],Ey=(x)=>[1,_M(x),0,1,0,0],Z9=(x)=>{let{scaleX:g=1,scaleY:_=1,flipX:O=!1,flipY:l=!1,skewX:G=0,skewY:p=0}=x,W=LW(O?-g:g,l?-_:_);return G&&(W=l0(W,ay(G),!0)),p&&(W=l0(W,Ey(p),!0)),W},OM=(x)=>{let{translateX:g=0,translateY:_=0,angle:O=0}=x,l=Il(g,_);O&&(l=l0(l,Zl({angle:O})));let G=Z9(x);return xM(G)||(l=l0(l,G)),l},V9=function(x){let{signal:g,crossOrigin:_=null}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(O,l){if(g&&g.aborted)return l(new uy("loadImage"));let G=e5(),p;g&&(p=function(w){G.src="",l(w)},g.addEventListener("abort",p,{once:!0}));let W=function(){G.onload=G.onerror=null,p&&(g==null||g.removeEventListener("abort",p)),O(G)};x?(G.onload=W,G.onerror=function(){p&&(g==null||g.removeEventListener("abort",p)),l(new ng("Error loading ".concat(G.src)))},_&&(G.crossOrigin=_),G.src=x):W()})},Ll=function(x){let{signal:g,reviver:_=B6}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((O,l)=>{let G=[];g&&g.addEventListener("abort",l,{once:!0}),Promise.all(x.map((p)=>_x.getClass(p.type).fromObject(p,{signal:g}).then((W)=>(_(p,W),G.push(W),W)))).then(O).catch((p)=>{G.forEach((W)=>{W.dispose&&W.dispose()}),l(p)}).finally(()=>{g&&g.removeEventListener("abort",l)})})},j9=function(x){let{signal:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise((_,O)=>{let l=[];g&&g.addEventListener("abort",O,{once:!0});let G=Object.values(x).map((W)=>W&&W.type&&_x.has(W.type)?Ll([W],{signal:g}).then((w)=>{let[o]=w;return l.push(o),o}):W),p=Object.keys(x);Promise.all(G).then((W)=>W.reduce((w,o,v)=>(w[p[v]]=o,w),{})).then(_).catch((W)=>{l.forEach((w)=>{w.dispose&&w.dispose()}),O(W)}).finally(()=>{g&&g.removeEventListener("abort",O)})})},i6=function(x){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).reduce((g,_)=>((_ in x)&&(g[_]=x[_]),g),{})},ny=(x,g)=>Object.keys(x).reduce((_,O)=>(g(x[O],O,x)&&(_[O]=x[O]),_),{}),d5={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#0FF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000",blanchedalmond:"#FFEBCD",blue:"#00F",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#0FF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#F0F",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#0F0",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#F0F",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#639",red:"#F00",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFF",whitesmoke:"#F5F5F5",yellow:"#FF0",yellowgreen:"#9ACD32"},gy=(x,g,_)=>(_<0&&(_+=1),_>1&&(_-=1),_<0.16666666666666666?x+6*(g-x)*_:_<0.5?g:_<0.6666666666666666?x+(g-x)*(0.6666666666666666-_)*6:x),C5=(x,g,_,O)=>{x/=255,g/=255,_/=255;let l=Math.max(x,g,_),G=Math.min(x,g,_),p,W,w=(l+G)/2;if(l===G)p=W=0;else{let o=l-G;switch(W=w>0.5?o/(2-l-G):o/(l+G),l){case x:p=(g-_)/o+(g<_?6:0);break;case g:p=(_-x)/o+2;break;case _:p=(x-g)/o+4}p/=6}return[Math.round(360*p),Math.round(100*W),Math.round(100*w),O]},q5=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"1";return parseFloat(x)/(x.endsWith("%")?100:1)},ep=(x)=>Math.min(Math.round(x),255).toString(16).toUpperCase().padStart(2,"0"),M5=(x)=>{let[g,_,O,l=1]=x,G=Math.round(0.3*g+0.59*_+0.11*O);return[G,G,G,l]};class Sx{constructor(x){if(j(this,"isUnrecognised",!1),x)if(x instanceof Sx)this.setSource([...x._source]);else if(Array.isArray(x)){let[g,_,O,l=1]=x;this.setSource([g,_,O,l])}else this.setSource(this._tryParsingColor(x));else this.setSource([0,0,0,1])}_tryParsingColor(x){return(x=x.toLowerCase())in d5&&(x=d5[x]),x==="transparent"?[255,255,255,0]:Sx.sourceFromHex(x)||Sx.sourceFromRgb(x)||Sx.sourceFromHsl(x)||(this.isUnrecognised=!0)&&[0,0,0,1]}getSource(){return this._source}setSource(x){this._source=x}toRgb(){let[x,g,_]=this.getSource();return"rgb(".concat(x,",").concat(g,",").concat(_,")")}toRgba(){return"rgba(".concat(this.getSource().join(","),")")}toHsl(){let[x,g,_]=C5(...this.getSource());return"hsl(".concat(x,",").concat(g,"%,").concat(_,"%)")}toHsla(){let[x,g,_,O]=C5(...this.getSource());return"hsla(".concat(x,",").concat(g,"%,").concat(_,"%,").concat(O,")")}toHex(){return this.toHexa().slice(0,6)}toHexa(){let[x,g,_,O]=this.getSource();return"".concat(ep(x)).concat(ep(g)).concat(ep(_)).concat(ep(Math.round(255*O)))}getAlpha(){return this.getSource()[3]}setAlpha(x){return this._source[3]=x,this}toGrayscale(){return this.setSource(M5(this.getSource())),this}toBlackWhite(x){let[g,,,_]=M5(this.getSource()),O=g<(x||127)?0:255;return this.setSource([O,O,O,_]),this}overlayWith(x){x instanceof Sx||(x=new Sx(x));let g=this.getSource(),_=x.getSource(),[O,l,G]=g.map((p,W)=>Math.round(0.5*p+0.5*_[W]));return this.setSource([O,l,G,g[3]]),this}static fromRgb(x){return Sx.fromRgba(x)}static fromRgba(x){return new Sx(Sx.sourceFromRgb(x))}static sourceFromRgb(x){let g=x.match(/^rgba?\(\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d{0,3}(?:\.\d+)?%?)\s*)?\)$/i);if(g){let[_,O,l]=g.slice(1,4).map((G)=>{let p=parseFloat(G);return G.endsWith("%")?Math.round(2.55*p):p});return[_,O,l,q5(g[4])]}}static fromHsl(x){return Sx.fromHsla(x)}static fromHsla(x){return new Sx(Sx.sourceFromHsl(x))}static sourceFromHsl(x){let g=x.match(/^hsla?\(\s*([+-]?\d{0,3}(?:\.\d+)?(?:deg|turn|rad)?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*[\s|,]\s*(\d{0,3}(?:\.\d+)?%?)\s*(?:\s*[,/]\s*(\d*(?:\.\d+)?%?)\s*)?\)$/i);if(!g)return;let _=(Sx.parseAngletoDegrees(g[1])%360+360)%360/360,O=parseFloat(g[2])/100,l=parseFloat(g[3])/100,G,p,W;if(O===0)G=p=W=l;else{let w=l<=0.5?l*(O+1):l+O-l*O,o=2*l-w;G=gy(o,w,_+0.3333333333333333),p=gy(o,w,_),W=gy(o,w,_-0.3333333333333333)}return[Math.round(255*G),Math.round(255*p),Math.round(255*W),q5(g[4])]}static fromHex(x){return new Sx(Sx.sourceFromHex(x))}static sourceFromHex(x){if(x.match(/^#?(([0-9a-f]){3,4}|([0-9a-f]{2}){3,4})$/i)){let g=x.slice(x.indexOf("#")+1),_;_=g.length<=4?g.split("").map((W)=>W+W):g.match(/.{2}/g);let[O,l,G,p=255]=_.map((W)=>parseInt(W,16));return[O,l,G,p/255]}}static parseAngletoDegrees(x){let g=x.toLowerCase(),_=parseFloat(g);return g.includes("rad")?PO(_):g.includes("turn")?360*_:_}}var Jx=(x,g)=>parseFloat(Number(x).toFixed(g)),H6=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Iy,_=/\D{0,2}$/.exec(x),O=parseFloat(x),l=hx.DPI;switch(_==null?void 0:_[0]){case"mm":return O*l/25.4;case"cm":return O*l/2.54;case"in":return O*l;case"pt":return O*l/72;case"pc":return O*l/72*12;case"em":return O*g;default:return O}},lM=(x)=>{let[g,_]=x.trim().split(" "),[O,l]=(G=g)&&G!==i0?[G.slice(1,4),G.slice(5,8)]:G===i0?[G,G]:["Mid","Mid"];var G;return{meetOrSlice:_||"meet",alignX:O,alignY:l}},u9=(x)=>"matrix("+x.map((g)=>Jx(g,hx.NUM_FRACTION_DIGITS)).join(" ")+")",S9=function(x,g){let _,O,l=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(g)if(g.toLive)_="url(#SVGID_".concat(g.id,")");else{let G=new Sx(g),p=G.getAlpha();_=G.toRgb(),p!==1&&(O=p.toString())}else _="none";return l?"".concat(x,": ").concat(_,"; ").concat(O?"".concat(x,"-opacity: ").concat(O,"; "):""):"".concat(x,'="').concat(_,'" ').concat(O?"".concat(x,'-opacity="').concat(O,'" '):"")},Lg=(x)=>!!x&&x.toLive!==void 0,Y5=(x)=>!!x&&typeof x.toObject=="function",f5=(x)=>!!x&&x.offsetX!==void 0&&("source"in x),U6=(x)=>!!x&&("multiSelectionStacking"in x);function GM(x){let g=x&&Eg(x),_=0,O=0;if(!x||!g)return{left:_,top:O};let l=x,G=g.documentElement,p=g.body||{scrollLeft:0,scrollTop:0};for(;l&&(l.parentNode||l.host)&&(l=l.parentNode||l.host,l===g?(_=p.scrollLeft||G.scrollLeft||0,O=p.scrollTop||G.scrollTop||0):(_+=l.scrollLeft||0,O+=l.scrollTop||0),l.nodeType!==1||l.style.position!=="fixed"););return{left:_,top:O}}var Eg=(x)=>x.ownerDocument||null,pM=(x)=>{var g;return((g=x.ownerDocument)===null||g===void 0?void 0:g.defaultView)||null},WM=function(x,g,_){let{width:O,height:l}=_,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;x.width=O,x.height=l,G>1&&(x.setAttribute("width",(O*G).toString()),x.setAttribute("height",(l*G).toString()),g.scale(G,G))},dy=(x,g)=>{let{width:_,height:O}=g;_&&(x.style.width=typeof _=="number"?"".concat(_,"px"):_),O&&(x.style.height=typeof O=="number"?"".concat(O,"px"):O)};function c5(x){return x.onselectstart!==void 0&&(x.onselectstart=()=>!1),x.style.userSelect=i0,x}class $y{constructor(x){j(this,"_originalCanvasStyle",void 0),j(this,"lower",void 0);let g=this.createLowerCanvas(x);this.lower={el:g,ctx:g.getContext("2d")}}createLowerCanvas(x){let g=(_=x)&&_.getContext!==void 0?x:x&&Al().getElementById(x)||Xg();var _;if(g.hasAttribute("data-fabric"))throw new ng("Trying to initialize a canvas that has already been initialized. Did you forget to dispose the canvas?");return this._originalCanvasStyle=g.style.cssText,g.setAttribute("data-fabric","main"),g.classList.add("lower-canvas"),g}cleanupDOM(x){let{width:g,height:_}=x,{el:O}=this.lower;O.classList.remove("lower-canvas"),O.removeAttribute("data-fabric"),O.setAttribute("width","".concat(g)),O.setAttribute("height","".concat(_)),O.style.cssText=this._originalCanvasStyle||"",this._originalCanvasStyle=void 0}setDimensions(x,g){let{el:_,ctx:O}=this.lower;WM(_,O,x,g)}setCSSDimensions(x){dy(this.lower.el,x)}calcOffset(){return function(x){var g;let _=x&&Eg(x),O={left:0,top:0};if(!_)return O;let l=((g=pM(x))===null||g===void 0?void 0:g.getComputedStyle(x,null))||{};O.left+=parseInt(l.borderLeftWidth,10)||0,O.top+=parseInt(l.borderTopWidth,10)||0,O.left+=parseInt(l.paddingLeft,10)||0,O.top+=parseInt(l.paddingTop,10)||0;let G={left:0,top:0},p=_.documentElement;x.getBoundingClientRect!==void 0&&(G=x.getBoundingClientRect());let W=GM(x);return{left:G.left+W.left-(p.clientLeft||0)+O.left,top:G.top+W.top-(p.clientTop||0)+O.top}}(this.lower.el)}dispose(){d_().dispose(this.lower.el),delete this.lower}}var BL={backgroundVpt:!0,backgroundColor:"",overlayVpt:!0,overlayColor:"",includeDefaultValues:!0,svgViewportTransformation:!0,renderOnAddRemove:!0,skipOffscreen:!0,enableRetinaScaling:!0,imageSmoothingEnabled:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,viewportTransform:[...D0]};class r9 extends s5(Uy){get lowerCanvasEl(){var x;return(x=this.elements.lower)===null||x===void 0?void 0:x.el}get contextContainer(){var x;return(x=this.elements.lower)===null||x===void 0?void 0:x.ctx}static getDefaults(){return r9.ownDefaults}constructor(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,this.constructor.getDefaults()),this.set(g),this.initElements(x),this._setDimensionsImpl({width:this.width||this.elements.lower.el.width||0,height:this.height||this.elements.lower.el.height||0}),this.skipControlsDrawing=!1,this.viewportTransform=[...this.viewportTransform],this.calcViewportBoundaries()}initElements(x){this.elements=new $y(x)}add(){let x=super.add(...arguments);return arguments.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),x}insertAt(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];let l=super.insertAt(x,..._);return _.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),l}remove(){let x=super.remove(...arguments);return x.length>0&&this.renderOnAddRemove&&this.requestRenderAll(),x}_onObjectAdded(x){x.canvas&&x.canvas!==this&&($O("warn",`Canvas is trying to add an object that belongs to a different canvas.
Resulting to default behavior: removing object from previous canvas and adding to new canvas`),x.canvas.remove(x)),x._set("canvas",this),x.setCoords(),this.fire("object:added",{target:x}),x.fire("added",{target:this})}_onObjectRemoved(x){x._set("canvas",void 0),this.fire("object:removed",{target:x}),x.fire("removed",{target:this})}_onStackOrderChanged(){this.renderOnAddRemove&&this.requestRenderAll()}getRetinaScaling(){return this.enableRetinaScaling?H5():1}calcOffset(){return this._offset=this.elements.calcOffset()}getWidth(){return this.width}getHeight(){return this.height}setWidth(x,g){return this.setDimensions({width:x},g)}setHeight(x,g){return this.setDimensions({height:x},g)}_setDimensionsImpl(x){let{cssOnly:g=!1,backstoreOnly:_=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!g){let O=Z({width:this.width,height:this.height},x);this.elements.setDimensions(O,this.getRetinaScaling()),this.hasLostContext=!0,this.width=O.width,this.height=O.height}_||this.elements.setCSSDimensions(x),this.calcOffset()}setDimensions(x,g){this._setDimensionsImpl(x,g),g&&g.cssOnly||this.requestRenderAll()}getZoom(){return this.viewportTransform[0]}setViewportTransform(x){this.viewportTransform=x,this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll()}zoomToPoint(x,g){let _=x,O=[...this.viewportTransform],l=u0(x,Wg(O));O[0]=g,O[3]=g;let G=u0(l,O);O[4]+=_.x-G.x,O[5]+=_.y-G.y,this.setViewportTransform(O)}setZoom(x){this.zoomToPoint(new E(0,0),x)}absolutePan(x){let g=[...this.viewportTransform];return g[4]=-x.x,g[5]=-x.y,this.setViewportTransform(g)}relativePan(x){return this.absolutePan(new E(-x.x-this.viewportTransform[4],-x.y-this.viewportTransform[5]))}getElement(){return this.elements.lower.el}clearContext(x){x.clearRect(0,0,this.width,this.height)}getContext(){return this.elements.lower.ctx}clear(){this.remove(...this.getObjects()),this.backgroundImage=void 0,this.overlayImage=void 0,this.backgroundColor="",this.overlayColor="",this.clearContext(this.getContext()),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll()}renderAll(){this.cancelRequestedRender(),this.destroyed||this.renderCanvas(this.getContext(),this._objects)}renderAndReset(){this.nextRenderHandle=0,this.renderAll()}requestRenderAll(){this.nextRenderHandle||this.disposed||this.destroyed||(this.nextRenderHandle=K9(()=>this.renderAndReset()))}calcViewportBoundaries(){let x=this.width,g=this.height,_=Wg(this.viewportTransform),O=u0({x:0,y:0},_),l=u0({x,y:g},_),G=O.min(l),p=O.max(l);return this.vptCoords={tl:G,tr:new E(p.x,G.y),bl:new E(G.x,p.y),br:p}}cancelRequestedRender(){this.nextRenderHandle&&(t5(this.nextRenderHandle),this.nextRenderHandle=0)}drawControls(x){}renderCanvas(x,g){if(this.destroyed)return;let _=this.viewportTransform,O=this.clipPath;this.calcViewportBoundaries(),this.clearContext(x),x.imageSmoothingEnabled=this.imageSmoothingEnabled,x.patternQuality="best",this.fire("before:render",{ctx:x}),this._renderBackground(x),x.save(),x.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._renderObjects(x,g),x.restore(),this.controlsAboveOverlay||this.skipControlsDrawing||this.drawControls(x),O&&(O._set("canvas",this),O.shouldCache(),O._transformDone=!0,O.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(x,O)),this._renderOverlay(x),this.controlsAboveOverlay&&!this.skipControlsDrawing&&this.drawControls(x),this.fire("after:render",{ctx:x}),this.__cleanupTask&&(this.__cleanupTask(),this.__cleanupTask=void 0)}drawClipPathOnCanvas(x,g){let _=this.viewportTransform;x.save(),x.transform(..._),x.globalCompositeOperation="destination-in",g.transform(x),x.scale(1/g.zoomX,1/g.zoomY),x.drawImage(g._cacheCanvas,-g.cacheTranslationX,-g.cacheTranslationY),x.restore()}_renderObjects(x,g){for(let _=0,O=g.length;_<O;++_)g[_]&&g[_].render(x)}_renderBackgroundOrOverlay(x,g){let _=this["".concat(g,"Color")],O=this["".concat(g,"Image")],l=this.viewportTransform,G=this["".concat(g,"Vpt")];if(!_&&!O)return;let p=Lg(_);if(_){if(x.save(),x.beginPath(),x.moveTo(0,0),x.lineTo(this.width,0),x.lineTo(this.width,this.height),x.lineTo(0,this.height),x.closePath(),x.fillStyle=p?_.toLive(x):_,G&&x.transform(...l),p){x.transform(1,0,0,1,_.offsetX||0,_.offsetY||0);let W=_.gradientTransform||_.patternTransform;W&&x.transform(...W)}x.fill(),x.restore()}if(O){x.save();let{skipOffscreen:W}=this;this.skipOffscreen=G,G&&x.transform(...l),O.render(x),this.skipOffscreen=W,x.restore()}}_renderBackground(x){this._renderBackgroundOrOverlay(x,"background")}_renderOverlay(x){this._renderBackgroundOrOverlay(x,"overlay")}getCenter(){return{top:this.height/2,left:this.width/2}}getCenterPoint(){return new E(this.width/2,this.height/2)}centerObjectH(x){return this._centerObject(x,new E(this.getCenterPoint().x,x.getCenterPoint().y))}centerObjectV(x){return this._centerObject(x,new E(x.getCenterPoint().x,this.getCenterPoint().y))}centerObject(x){return this._centerObject(x,this.getCenterPoint())}viewportCenterObject(x){return this._centerObject(x,this.getVpCenter())}viewportCenterObjectH(x){return this._centerObject(x,new E(this.getVpCenter().x,x.getCenterPoint().y))}viewportCenterObjectV(x){return this._centerObject(x,new E(x.getCenterPoint().x,this.getVpCenter().y))}getVpCenter(){return u0(this.getCenterPoint(),Wg(this.viewportTransform))}_centerObject(x,g){x.setXY(g,yx,yx),x.setCoords(),this.renderOnAddRemove&&this.requestRenderAll()}toDatalessJSON(x){return this.toDatalessObject(x)}toObject(x){return this._toObjectMethod("toObject",x)}toJSON(){return this.toObject()}toDatalessObject(x){return this._toObjectMethod("toDatalessObject",x)}_toObjectMethod(x,g){let _=this.clipPath,O=_&&!_.excludeFromExport?this._toObject(_,x,g):null;return Z(Z(Z({version:Ny},i6(this,g)),{},{objects:this._objects.filter((l)=>!l.excludeFromExport).map((l)=>this._toObject(l,x,g))},this.__serializeBgOverlay(x,g)),O?{clipPath:O}:null)}_toObject(x,g,_){let O;this.includeDefaultValues||(O=x.includeDefaultValues,x.includeDefaultValues=!1);let l=x[g](_);return this.includeDefaultValues||(x.includeDefaultValues=!!O),l}__serializeBgOverlay(x,g){let _={},O=this.backgroundImage,l=this.overlayImage,G=this.backgroundColor,p=this.overlayColor;return Lg(G)?G.excludeFromExport||(_.background=G.toObject(g)):G&&(_.background=G),Lg(p)?p.excludeFromExport||(_.overlay=p.toObject(g)):p&&(_.overlay=p),O&&!O.excludeFromExport&&(_.backgroundImage=this._toObject(O,x,g)),l&&!l.excludeFromExport&&(_.overlayImage=this._toObject(l,x,g)),_}toSVG(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=arguments.length>1?arguments[1]:void 0;x.reviver=g;let _=[];return this._setSVGPreamble(_,x),this._setSVGHeader(_,x),this.clipPath&&_.push('<g clip-path="url(#'.concat(this.clipPath.clipPathId,`)" >
`)),this._setSVGBgOverlayColor(_,"background"),this._setSVGBgOverlayImage(_,"backgroundImage",g),this._setSVGObjects(_,g),this.clipPath&&_.push(`</g>
`),this._setSVGBgOverlayColor(_,"overlay"),this._setSVGBgOverlayImage(_,"overlayImage",g),_.push("</svg>"),_.join("")}_setSVGPreamble(x,g){g.suppressPreamble||x.push('<?xml version="1.0" encoding="',g.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)}_setSVGHeader(x,g){let _=g.width||"".concat(this.width),O=g.height||"".concat(this.height),l=hx.NUM_FRACTION_DIGITS,G=g.viewBox,p;if(G)p='viewBox="'.concat(G.x," ").concat(G.y," ").concat(G.width," ").concat(G.height,'" ');else if(this.svgViewportTransformation){let W=this.viewportTransform;p='viewBox="'.concat(Jx(-W[4]/W[0],l)," ").concat(Jx(-W[5]/W[3],l)," ").concat(Jx(this.width/W[0],l)," ").concat(Jx(this.height/W[3],l),'" ')}else p='viewBox="0 0 '.concat(this.width," ").concat(this.height,'" ');x.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',_,'" ','height="',O,'" ',p,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",Ny,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(g),`</defs>
`)}createSVGClipPathMarkup(x){let g=this.clipPath;return g?(g.clipPathId="CLIPPATH_".concat(HO()),'<clipPath id="'.concat(g.clipPathId,`" >
`).concat(g.toClipPathSVG(x.reviver),`</clipPath>
`)):""}createSVGRefElementsMarkup(){return["background","overlay"].map((x)=>{let g=this["".concat(x,"Color")];if(Lg(g)){let _=this["".concat(x,"Vpt")],O=this.viewportTransform,l={isType:()=>!1,width:this.width/(_?O[0]:1),height:this.height/(_?O[3]:1)};return g.toSVG(l,{additionalTransform:_?u9(O):""})}}).join("")}createSVGFontFacesMarkup(){let x=[],g={},_=hx.fontPaths;this._objects.forEach(function l(G){x.push(G),pW(G)&&G._objects.forEach(l)}),x.forEach((l)=>{if(!(G=l)||typeof G._renderText!="function")return;var G;let{styles:p,fontFamily:W}=l;!g[W]&&_[W]&&(g[W]=!0,p&&Object.values(p).forEach((w)=>{Object.values(w).forEach((o)=>{let{fontFamily:v=""}=o;!g[v]&&_[v]&&(g[v]=!0)})}))});let O=Object.keys(g).map((l)=>`		@font-face {
			font-family: '`.concat(l,`';
			src: url('`).concat(_[l],`');
		}
`)).join("");return O?`	<style type="text/css"><![CDATA[
`.concat(O,`]]></style>
`):""}_setSVGObjects(x,g){this.forEachObject((_)=>{_.excludeFromExport||this._setSVGObject(x,_,g)})}_setSVGObject(x,g,_){x.push(g.toSVG(_))}_setSVGBgOverlayImage(x,g,_){let O=this[g];O&&!O.excludeFromExport&&O.toSVG&&x.push(O.toSVG(_))}_setSVGBgOverlayColor(x,g){let _=this["".concat(g,"Color")];if(_)if(Lg(_)){let O=_.repeat||"",l=this.width,G=this.height,p=this["".concat(g,"Vpt")]?u9(Wg(this.viewportTransform)):"";x.push('<rect transform="'.concat(p," translate(").concat(l/2,",").concat(G/2,')" x="').concat(_.offsetX-l/2,'" y="').concat(_.offsetY-G/2,'" width="').concat(O!=="repeat-y"&&O!=="no-repeat"||!f5(_)?l:_.source.width,'" height="').concat(O!=="repeat-x"&&O!=="no-repeat"||!f5(_)?G:_.source.height,'" fill="url(#SVGID_').concat(_.id,`)"></rect>
`))}else x.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',_,'"',`></rect>
`)}loadFromJSON(x,g){let{signal:_}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!x)return Promise.reject(new ng("`json` is undefined"));let O=typeof x=="string"?JSON.parse(x):x,{objects:l=[],backgroundImage:G,background:p,overlayImage:W,overlay:w,clipPath:o}=O,v=this.renderOnAddRemove;return this.renderOnAddRemove=!1,Promise.all([Ll(l,{reviver:g,signal:_}),j9({backgroundImage:G,backgroundColor:p,overlayImage:W,overlayColor:w,clipPath:o},{signal:_})]).then((N)=>{let[k,C]=N;return this.clear(),this.add(...k),this.set(O),this.set(C),this.renderOnAddRemove=v,this})}clone(x){let g=this.toObject(x);return this.cloneWithoutData().loadFromJSON(g)}cloneWithoutData(){let x=Jg(this);return new this.constructor(x)}toDataURL(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:g="png",quality:_=1,multiplier:O=1,enableRetinaScaling:l=!1}=x,G=O*(l?this.getRetinaScaling():1);return Dy(this.toCanvasElement(G,x),g,_)}toBlob(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{format:g="png",quality:_=1,multiplier:O=1,enableRetinaScaling:l=!1}=x,G=O*(l?this.getRetinaScaling():1);return Qy(this.toCanvasElement(G,x),g,_)}toCanvasElement(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,{width:g,height:_,left:O,top:l,filter:G}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=(g||this.width)*x,W=(_||this.height)*x,w=this.getZoom(),o=this.width,v=this.height,N=this.skipControlsDrawing,k=w*x,C=this.viewportTransform,c=[k,0,0,k,(C[4]-(O||0))*x,(C[5]-(l||0))*x],m=this.enableRetinaScaling,b=Jg({width:p,height:W}),f=G?this._objects.filter((d)=>G(d)):this._objects;return this.enableRetinaScaling=!1,this.viewportTransform=c,this.width=p,this.height=W,this.skipControlsDrawing=!0,this.calcViewportBoundaries(),this.renderCanvas(b.getContext("2d"),f),this.viewportTransform=C,this.width=o,this.height=v,this.calcViewportBoundaries(),this.enableRetinaScaling=m,this.skipControlsDrawing=N,b}dispose(){return!this.disposed&&this.elements.cleanupDOM({width:this.width,height:this.height}),zW.cancelByCanvas(this),this.disposed=!0,new Promise((x,g)=>{let _=()=>{this.destroy(),x(!0)};_.kill=g,this.__cleanupTask&&this.__cleanupTask.kill("aborted"),this.destroyed?x(!1):this.nextRenderHandle?this.__cleanupTask=_:_()})}destroy(){this.destroyed=!0,this.cancelRequestedRender(),this.forEachObject((x)=>x.dispose()),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose(),this.backgroundImage=void 0,this.overlayImage&&this.overlayImage.dispose(),this.overlayImage=void 0,this.elements.dispose()}toString(){return"#<Canvas (".concat(this.complexity(),"): { objects: ").concat(this._objects.length," }>")}}j(r9,"ownDefaults",BL);var HL=["touchstart","touchmove","touchend"],oM=(x)=>{let g=GM(x.target),_=function(O){let l=O.changedTouches;return l&&l[0]?l[0]:O}(x);return new E(_.clientX+g.left,_.clientY+g.top)},vW=(x)=>HL.includes(x.type)||x.pointerType==="touch",Cy=(x)=>{x.preventDefault(),x.stopPropagation()},k_=(x)=>{let g=0,_=0,O=0,l=0;for(let G=0,p=x.length;G<p;G++){let{x:W,y:w}=x[G];(W>O||!G)&&(O=W),(W<g||!G)&&(g=W),(w>l||!G)&&(l=w),(w<_||!G)&&(_=w)}return{left:g,top:_,width:O-g,height:l-_}},PL=["translateX","translateY","scaleX","scaleY"],wM=(x,g)=>Xl(x,l0(g,x.calcOwnMatrix())),Xl=(x,g)=>{let _=Vl(g),{translateX:O,translateY:l,scaleX:G,scaleY:p}=_,W=ix(_,PL),w=new E(O,l);x.flipX=!1,x.flipY=!1,Object.assign(x,W),x.set({scaleX:G,scaleY:p}),x.setPositionByOrigin(w,yx,yx)},zM=(x)=>{x.scaleX=1,x.scaleY=1,x.skewX=0,x.skewY=0,x.flipX=!1,x.flipY=!1,x.rotate(0)},By=(x)=>({scaleX:x.scaleX,scaleY:x.scaleY,skewX:x.skewX,skewY:x.skewY,angle:x.angle,left:x.left,flipX:x.flipX,flipY:x.flipY,top:x.top}),XW=(x,g,_)=>{let O=x/2,l=g/2,G=[new E(-O,-l),new E(O,-l),new E(-O,l),new E(O,l)].map((W)=>W.transform(_)),p=k_(G);return new E(p.width,p.height)},U9=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D0;return l0(Wg(arguments.length>1&&arguments[1]!==void 0?arguments[1]:D0),x)},T_=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D0;return x.transform(U9(g,_))},vM=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:D0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D0;return x.transform(U9(g,_),!0)},qy=(x,g,_)=>{let O=U9(g,_);return Xl(x,l0(O,x.calcOwnMatrix())),O},Hy=(x,g)=>{var _;let{transform:{target:O}}=g;(_=O.canvas)===null||_===void 0||_.fire("object:".concat(x),Z(Z({},g),{},{target:O})),O.fire(x,g)},JL={left:-0.5,top:-0.5,center:0,bottom:0.5,right:0.5},N0=(x)=>typeof x=="string"?JL[x]:x-0.5,yW="not-allowed";function yM(x){return N0(x.originX)===N0(yx)&&N0(x.originY)===N0(yx)}function m5(x){return 0.5-N0(x)}var Bg=(x,g)=>x[g],Py=(x,g,_,O)=>({e:x,transform:g,pointer:new E(_,O)});function NM(x,g){let _=x.getTotalAngle()+PO(Math.atan2(g.y,g.x))+360;return Math.round(_%360/45)}function FW(x,g,_,O,l){var G;let{target:p,corner:W}=x,w=p.controls[W],o=((G=p.canvas)===null||G===void 0?void 0:G.getZoom())||1,v=p.padding/o,N=function(k,C,c,m){let b=k.getRelativeCenterPoint(),f=c!==void 0&&m!==void 0?k.translateToGivenOrigin(b,yx,yx,c,m):new E(k.left,k.top);return(k.angle?C.rotate(-O0(k.angle),b):C).subtract(f)}(p,new E(O,l),g,_);return N.x>=v&&(N.x-=v),N.x<=-v&&(N.x+=v),N.y>=v&&(N.y-=v),N.y<=v&&(N.y+=v),N.x-=w.offsetX,N.y-=w.offsetY,N}var kM=(x,g,_,O)=>{let{target:l,offsetX:G,offsetY:p}=g,W=_-G,w=O-p,o=!Bg(l,"lockMovementX")&&l.left!==W,v=!Bg(l,"lockMovementY")&&l.top!==w;return o&&l.set(Ax,W),v&&l.set(J0,w),(o||v)&&Hy(P5,Py(x,g,_,O)),o||v};class Jy{getSvgStyles(x){let g=this.fillRule?this.fillRule:"nonzero",_=this.strokeWidth?this.strokeWidth:"0",O=this.strokeDashArray?this.strokeDashArray.join(" "):i0,l=this.strokeDashOffset?this.strokeDashOffset:"0",G=this.strokeLineCap?this.strokeLineCap:"butt",p=this.strokeLineJoin?this.strokeLineJoin:"miter",W=this.strokeMiterLimit?this.strokeMiterLimit:"4",w=this.opacity!==void 0?this.opacity:"1",o=this.visible?"":" visibility: hidden;",v=x?"":this.getSvgFilter(),N=S9(M0,this.fill);return[S9(R0,this.stroke),"stroke-width: ",_,"; ","stroke-dasharray: ",O,"; ","stroke-linecap: ",G,"; ","stroke-dashoffset: ",l,"; ","stroke-linejoin: ",p,"; ","stroke-miterlimit: ",W,"; ",N,"fill-rule: ",g,"; ","opacity: ",w,";",v,o].join("")}getSvgFilter(){return this.shadow?"filter: url(#SVGID_".concat(this.shadow.id,");"):""}getSvgCommons(){return[this.id?'id="'.concat(this.id,'" '):"",this.clipPath?'clip-path="url(#'.concat(this.clipPath.clipPathId,')" '):""].join("")}getSvgTransform(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",_=x?this.calcTransformMatrix():this.calcOwnMatrix(),O='transform="'.concat(u9(_));return"".concat(O).concat(g,'" ')}_toSVG(x){return[""]}toSVG(x){return this._createBaseSVGMarkup(this._toSVG(x),{reviver:x})}toClipPathSVG(x){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(x),{reviver:x})}_createBaseClipPathSVGMarkup(x){let{reviver:g,additionalTransform:_=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=[this.getSvgTransform(!0,_),this.getSvgCommons()].join(""),l=x.indexOf("COMMON_PARTS");return x[l]=O,g?g(x.join("")):x.join("")}_createBaseSVGMarkup(x){let{noStyle:g,reviver:_,withShadow:O,additionalTransform:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},G=g?"":'style="'.concat(this.getSvgStyles(),'" '),p=O?'style="'.concat(this.getSvgFilter(),'" '):"",W=this.clipPath,w=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",o=W&&W.absolutePositioned,v=this.stroke,N=this.fill,k=this.shadow,C=[],c=x.indexOf("COMMON_PARTS"),m;W&&(W.clipPathId="CLIPPATH_".concat(HO()),m='<clipPath id="'.concat(W.clipPathId,`" >
`).concat(W.toClipPathSVG(_),`</clipPath>
`)),o&&C.push("<g ",p,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),o?"":p+this.getSvgCommons(),` >
`);let b=[G,w,g?"":this.addPaintOrder()," ",l?'transform="'.concat(l,'" '):""].join("");return x[c]=b,Lg(N)&&C.push(N.toSVG(this)),Lg(v)&&C.push(v.toSVG(this)),k&&C.push(k.toSVG(this)),W&&C.push(m),C.push(x.join("")),C.push(`</g>
`),o&&C.push(`</g>
`),_?_(C.join("")):C.join("")}addPaintOrder(){return this.paintFirst!==M0?' paint-order="'.concat(this.paintFirst,'" '):""}}function AW(x){return new RegExp("^("+x.join("|")+")\\b","i")}var b5,$g=String.raw(b5||(b5=JO(["(?:[-+]?(?:d*.d+|d+.?)(?:[eE][-+]?d+)?)"],["(?:[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?)"])));var iL=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+$g+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+$g+"))?\\s+(.*)"),RL={cx:Ax,x:Ax,r:"radius",cy:J0,y:J0,display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_y="font-size",Oy="clip-path",WS=AW(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),oS=AW(["symbol","image","marker","pattern","view","svg"]),h5=AW(["symbol","g","a","svg","clipPath","defs"]),wS=new RegExp("^\\s*("+$g+"+)\\s*,?\\s*("+$g+"+)\\s*,?\\s*("+$g+"+)\\s*,?\\s*("+$g+"+)\\s*$"),TL=new E(1,0),dM=new E,iy=(x,g)=>x.rotate(g),NW=(x,g)=>new E(g).subtract(x),kW=(x)=>x.distanceFrom(dM),dW=(x,g)=>Math.atan2(hl(x,g),qM(x,g)),CM=(x)=>dW(TL,x),uW=(x)=>x.eq(dM)?x:x.scalarDivide(kW(x)),Ry=function(x){let g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return uW(new E(-x.y,x.x).scalarMultiply(g?1:-1))},hl=(x,g)=>x.x*g.y-x.y*g.x,qM=(x,g)=>x.x*g.x+x.y*g.y,My=(x,g,_)=>{if(x.eq(g)||x.eq(_))return!0;let O=hl(g,_),l=hl(g,x),G=hl(_,x);return O>=0?l>=0&&G<=0:!(l<=0&&G>=0)},K5="(-?\\d+(?:\\.\\d*)?(?:px)?(?:\\s?|$))?",V5=new RegExp("(?:\\s|^)"+K5+K5+"("+$g+"?(?:px)?)?(?:\\s?|$)(?:$|\\s)");class s_{constructor(x){let g=typeof x=="string"?s_.parseShadow(x):x;Object.assign(this,s_.ownDefaults,g),this.id=HO()}static parseShadow(x){let g=x.trim(),[,_=0,O=0,l=0]=(V5.exec(g)||[]).map((G)=>parseFloat(G)||0);return{color:(g.replace(V5,"")||"rgb(0,0,0)").trim(),offsetX:_,offsetY:O,blur:l}}toString(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")}toSVG(x){let g=iy(new E(this.offsetX,this.offsetY),O0(-x.angle)),_=new Sx(this.color),O=40,l=40;return x.width&&x.height&&(O=100*Jx((Math.abs(g.x)+this.blur)/x.width,hx.NUM_FRACTION_DIGITS)+20,l=100*Jx((Math.abs(g.y)+this.blur)/x.height,hx.NUM_FRACTION_DIGITS)+20),x.flipX&&(g.x*=-1),x.flipY&&(g.y*=-1),'<filter id="SVGID_'.concat(this.id,'" y="-').concat(l,'%" height="').concat(100+2*l,'%" x="-').concat(O,'%" width="').concat(100+2*O,`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`).concat(Jx(this.blur?this.blur/2:0,hx.NUM_FRACTION_DIGITS),`"></feGaussianBlur>
	<feOffset dx="`).concat(Jx(g.x,hx.NUM_FRACTION_DIGITS),'" dy="').concat(Jx(g.y,hx.NUM_FRACTION_DIGITS),`" result="oBlur" ></feOffset>
	<feFlood flood-color="`).concat(_.toRgb(),'" flood-opacity="').concat(_.getAlpha(),`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`)}toObject(){let x={color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling,type:this.constructor.type},g=s_.ownDefaults;return this.includeDefaultValues?x:ny(x,(_,O)=>_!==g[O])}static async fromObject(x){return new this(x)}}j(s_,"ownDefaults",{color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1}),j(s_,"type","shadow"),_x.setClass(s_,"shadow");var P6=(x,g,_)=>Math.max(x,Math.min(g,_)),sL=[J0,Ax,Q0,og,"flipX","flipY","originX","originY","angle","opacity","globalCompositeOperation","shadow","visible",ul,Sl],xO=[M0,R0,"strokeWidth","strokeDashArray","width","height","paintFirst","strokeUniform","strokeLineCap","strokeDashOffset","strokeLineJoin","strokeMiterLimit","backgroundColor","clipPath"],tL={top:0,left:0,width:0,height:0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,minScaleLimit:0,skewX:0,skewY:0,originX:Ax,originY:J0,strokeWidth:1,strokeUniform:!1,padding:0,opacity:1,paintFirst:M0,fill:"rgb(0,0,0)",fillRule:"nonzero",stroke:null,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,globalCompositeOperation:"source-over",backgroundColor:"",shadow:null,visible:!0,includeDefaultValues:!0,excludeFromExport:!1,objectCaching:!0,clipPath:void 0,inverted:!1,absolutePositioned:!1,centeredRotation:!0,centeredScaling:!1,dirty:!0},ly=(x,g,_,O)=>(x<Math.abs(g)?(x=g,O=_/4):O=g===0&&x===0?_/e_*Math.asin(1):_/e_*Math.asin(g/x),{a:x,c:g,p:_,s:O}),L5=(x,g,_,O,l)=>x*Math.pow(2,10*(O-=1))*Math.sin((O*l-g)*e_/_),MM=(x,g,_,O)=>-_*Math.cos(x/O*BO)+_+g,Yy=(x,g,_,O)=>(x/=O)<0.36363636363636365?_*(7.5625*x*x)+g:x<0.7272727272727273?_*(7.5625*(x-=0.5454545454545454)*x+0.75)+g:x<0.9090909090909091?_*(7.5625*(x-=0.8181818181818182)*x+0.9375)+g:_*(7.5625*(x-=0.9545454545454546)*x+0.984375)+g,X5=(x,g,_,O)=>_-Yy(O-x,0,_,O)+g,eL=Object.freeze({__proto__:null,defaultEasing:MM,easeInBack:function(x,g,_,O){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return _*(x/=O)*x*((l+1)*x-l)+g},easeInBounce:X5,easeInCirc:(x,g,_,O)=>-_*(Math.sqrt(1-(x/=O)*x)-1)+g,easeInCubic:(x,g,_,O)=>_*(x/O)**3+g,easeInElastic:(x,g,_,O)=>{let l=_,G=0;if(x===0)return g;if((x/=O)===1)return g+_;G||(G=0.3*O);let{a:p,s:W,p:w}=ly(l,_,G,1.70158);return-L5(p,W,w,x,O)+g},easeInExpo:(x,g,_,O)=>x===0?g:_*2**(10*(x/O-1))+g,easeInOutBack:function(x,g,_,O){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return(x/=O/2)<1?_/2*(x*x*((1+(l*=1.525))*x-l))+g:_/2*((x-=2)*x*((1+(l*=1.525))*x+l)+2)+g},easeInOutBounce:(x,g,_,O)=>x<O/2?0.5*X5(2*x,0,_,O)+g:0.5*Yy(2*x-O,0,_,O)+0.5*_+g,easeInOutCirc:(x,g,_,O)=>(x/=O/2)<1?-_/2*(Math.sqrt(1-x**2)-1)+g:_/2*(Math.sqrt(1-(x-=2)*x)+1)+g,easeInOutCubic:(x,g,_,O)=>(x/=O/2)<1?_/2*x**3+g:_/2*((x-2)**3+2)+g,easeInOutElastic:(x,g,_,O)=>{let l=_,G=0;if(x===0)return g;if((x/=O/2)===2)return g+_;G||(G=O*0.44999999999999996);let{a:p,s:W,p:w,c:o}=ly(l,_,G,1.70158);return x<1?-0.5*L5(p,W,w,x,O)+g:p*Math.pow(2,-10*(x-=1))*Math.sin((x*O-W)*e_/w)*0.5+o+g},easeInOutExpo:(x,g,_,O)=>x===0?g:x===O?g+_:(x/=O/2)<1?_/2*2**(10*(x-1))+g:_/2*-(2**(-10*--x)+2)+g,easeInOutQuad:(x,g,_,O)=>(x/=O/2)<1?_/2*x**2+g:-_/2*(--x*(x-2)-1)+g,easeInOutQuart:(x,g,_,O)=>(x/=O/2)<1?_/2*x**4+g:-_/2*((x-=2)*x**3-2)+g,easeInOutQuint:(x,g,_,O)=>(x/=O/2)<1?_/2*x**5+g:_/2*((x-2)**5+2)+g,easeInOutSine:(x,g,_,O)=>-_/2*(Math.cos(Math.PI*x/O)-1)+g,easeInQuad:(x,g,_,O)=>_*(x/=O)*x+g,easeInQuart:(x,g,_,O)=>_*(x/=O)*x**3+g,easeInQuint:(x,g,_,O)=>_*(x/O)**5+g,easeInSine:(x,g,_,O)=>-_*Math.cos(x/O*BO)+_+g,easeOutBack:function(x,g,_,O){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1.70158;return _*((x=x/O-1)*x*((l+1)*x+l)+1)+g},easeOutBounce:Yy,easeOutCirc:(x,g,_,O)=>_*Math.sqrt(1-(x=x/O-1)*x)+g,easeOutCubic:(x,g,_,O)=>_*((x/O-1)**3+1)+g,easeOutElastic:(x,g,_,O)=>{let l=_,G=0;if(x===0)return g;if((x/=O)===1)return g+_;G||(G=0.3*O);let{a:p,s:W,p:w,c:o}=ly(l,_,G,1.70158);return p*2**(-10*x)*Math.sin((x*O-W)*e_/w)+o+g},easeOutExpo:(x,g,_,O)=>x===O?g+_:_*-(2**(-10*x/O)+1)+g,easeOutQuad:(x,g,_,O)=>-_*(x/=O)*(x-2)+g,easeOutQuart:(x,g,_,O)=>-_*((x=x/O-1)*x**3-1)+g,easeOutQuint:(x,g,_,O)=>_*((x/O-1)**5+1)+g,easeOutSine:(x,g,_,O)=>_*Math.sin(x/O*BO)+g}),xX=()=>!1;class SW{constructor(x){let{startValue:g,byValue:_,duration:O=500,delay:l=0,easing:G=MM,onStart:p=B6,onChange:W=B6,onComplete:w=B6,abort:o=xX,target:v}=x;j(this,"_state","pending"),j(this,"durationProgress",0),j(this,"valueProgress",0),this.tick=this.tick.bind(this),this.duration=O,this.delay=l,this.easing=G,this._onStart=p,this._onChange=W,this._onComplete=w,this._abort=o,this.target=v,this.startValue=g,this.byValue=_,this.value=this.startValue,this.endValue=Object.freeze(this.calculate(this.duration).value)}get state(){return this._state}isDone(){return this._state==="aborted"||this._state==="completed"}start(){let x=(g)=>{this._state==="pending"&&(this.startTime=g||+new Date,this._state="running",this._onStart(),this.tick(this.startTime))};this.register(),this.delay>0?setTimeout(()=>K9(x),this.delay):K9(x)}tick(x){let g=(x||+new Date)-this.startTime,_=Math.min(g,this.duration);this.durationProgress=_/this.duration;let{value:O,valueProgress:l}=this.calculate(_);this.value=Object.freeze(O),this.valueProgress=l,this._state!=="aborted"&&(this._abort(this.value,this.valueProgress,this.durationProgress)?(this._state="aborted",this.unregister()):g>=this.duration?(this.durationProgress=this.valueProgress=1,this._onChange(this.endValue,this.valueProgress,this.durationProgress),this._state="completed",this._onComplete(this.endValue,this.valueProgress,this.durationProgress),this.unregister()):(this._onChange(this.value,this.valueProgress,this.durationProgress),K9(this.tick)))}register(){zW.push(this)}unregister(){zW.remove(this)}abort(){this._state="aborted",this.unregister()}}var gX=["startValue","endValue"];class YM extends SW{constructor(x){let{startValue:g=0,endValue:_=100}=x;super(Z(Z({},ix(x,gX)),{},{startValue:g,byValue:_-g}))}calculate(x){let g=this.easing(x,this.startValue,this.byValue,this.duration);return{value:g,valueProgress:Math.abs((g-this.startValue)/this.byValue)}}}var _X=["startValue","endValue"];class fM extends SW{constructor(x){let{startValue:g=[0],endValue:_=[100]}=x;super(Z(Z({},ix(x,_X)),{},{startValue:g,byValue:_.map((O,l)=>O-g[l])}))}calculate(x){let g=this.startValue.map((_,O)=>this.easing(x,_,this.byValue[O],this.duration,O));return{value:g,valueProgress:Math.abs((g[0]-this.startValue[0])/this.byValue[0])}}}var OX=["startValue","endValue","easing","onChange","onComplete","abort"],lX=(x,g,_,O)=>g+_*(1-Math.cos(x/O*BO)),Gy=(x)=>x&&((g,_,O)=>x(new Sx(g).toRgba(),_,O));class cM extends SW{constructor(x){let{startValue:g,endValue:_,easing:O=lX,onChange:l,onComplete:G,abort:p}=x,W=ix(x,OX),w=new Sx(g).getSource(),o=new Sx(_).getSource();super(Z(Z({},W),{},{startValue:w,byValue:o.map((v,N)=>v-w[N]),easing:O,onChange:Gy(l),onComplete:Gy(G),abort:Gy(p)}))}calculate(x){let[g,_,O,l]=this.startValue.map((p,W)=>this.easing(x,p,this.byValue[W],this.duration,W)),G=[...[g,_,O].map(Math.round),P6(0,l,1)];return{value:G,valueProgress:G.map((p,W)=>this.byValue[W]!==0?Math.abs((p-this.startValue[W])/this.byValue[W]):0).find((p)=>p!==0)||0}}}function Ty(x){let g=((_)=>Array.isArray(_.startValue)||Array.isArray(_.endValue))(x)?new fM(x):new YM(x);return g.start(),g}function mM(x){let g=new cM(x);return g.start(),g}class ex{constructor(x){this.status=x,this.points=[]}includes(x){return this.points.some((g)=>g.eq(x))}append(){for(var x=arguments.length,g=new Array(x),_=0;_<x;_++)g[_]=arguments[_];return this.points=this.points.concat(g.filter((O)=>!this.includes(O))),this}static isPointContained(x,g,_){let O=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if(g.eq(_))return x.eq(g);if(g.x===_.x)return x.x===g.x&&(O||x.y>=Math.min(g.y,_.y)&&x.y<=Math.max(g.y,_.y));if(g.y===_.y)return x.y===g.y&&(O||x.x>=Math.min(g.x,_.x)&&x.x<=Math.max(g.x,_.x));{let l=NW(g,_),G=NW(g,x).divide(l);return O?Math.abs(G.x)===Math.abs(G.y):G.x===G.y&&G.x>=0&&G.x<=1}}static isPointInPolygon(x,g){let _=new E(x).setX(Math.min(x.x-1,...g.map((l)=>l.x))),O=0;for(let l=0;l<g.length;l++){let G=this.intersectSegmentSegment(g[l],g[(l+1)%g.length],x,_);if(G.includes(x))return!0;O+=Number(G.status==="Intersection")}return O%2==1}static intersectLineLine(x,g,_,O){let l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],G=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],p=g.x-x.x,W=g.y-x.y,w=O.x-_.x,o=O.y-_.y,v=x.x-_.x,N=x.y-_.y,k=w*N-o*v,C=p*N-W*v,c=o*p-w*W;if(c!==0){let m=k/c,b=C/c;return(l||0<=m&&m<=1)&&(G||0<=b&&b<=1)?new ex("Intersection").append(new E(x.x+m*p,x.y+m*W)):new ex}if(k===0||C===0){let m=l||G||ex.isPointContained(x,_,O)||ex.isPointContained(g,_,O)||ex.isPointContained(_,x,g)||ex.isPointContained(O,x,g);return new ex(m?"Coincident":void 0)}return new ex("Parallel")}static intersectSegmentLine(x,g,_,O){return ex.intersectLineLine(x,g,_,O,!1,!0)}static intersectSegmentSegment(x,g,_,O){return ex.intersectLineLine(x,g,_,O,!1,!1)}static intersectLinePolygon(x,g,_){let O=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],l=new ex,G=_.length;for(let p,W,w,o=0;o<G;o++){if(p=_[o],W=_[(o+1)%G],w=ex.intersectLineLine(x,g,p,W,O,!1),w.status==="Coincident")return w;l.append(...w.points)}return l.points.length>0&&(l.status="Intersection"),l}static intersectSegmentPolygon(x,g,_){return ex.intersectLinePolygon(x,g,_,!1)}static intersectPolygonPolygon(x,g){let _=new ex,O=x.length,l=[];for(let G=0;G<O;G++){let p=x[G],W=x[(G+1)%O],w=ex.intersectSegmentPolygon(p,W,g);w.status==="Coincident"?(l.push(w),_.append(p,W)):_.append(...w.points)}return l.length>0&&l.length===x.length?new ex("Coincident"):(_.points.length>0&&(_.status="Intersection"),_)}static intersectPolygonRectangle(x,g,_){let O=g.min(_),l=g.max(_),G=new E(l.x,O.y),p=new E(O.x,l.y);return ex.intersectPolygonPolygon(x,[O,G,l,p])}}class bM extends Uy{getX(){return this.getXY().x}setX(x){this.setXY(this.getXY().setX(x))}getY(){return this.getXY().y}setY(x){this.setXY(this.getXY().setY(x))}getRelativeX(){return this.left}setRelativeX(x){this.left=x}getRelativeY(){return this.top}setRelativeY(x){this.top=x}getXY(){let x=this.getRelativeXY();return this.group?u0(x,this.group.calcTransformMatrix()):x}setXY(x,g,_){this.group&&(x=u0(x,Wg(this.group.calcTransformMatrix()))),this.setRelativeXY(x,g,_)}getRelativeXY(){return new E(this.left,this.top)}setRelativeXY(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.originX,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.originY;this.setPositionByOrigin(x,g,_)}isStrokeAccountedForInDimensions(){return!1}getCoords(){let{tl:x,tr:g,br:_,bl:O}=this.aCoords||(this.aCoords=this.calcACoords()),l=[x,g,_,O];if(this.group){let G=this.group.calcTransformMatrix();return l.map((p)=>u0(p,G))}return l}intersectsWithRect(x,g){return ex.intersectPolygonRectangle(this.getCoords(),x,g).status==="Intersection"}intersectsWithObject(x){let g=ex.intersectPolygonPolygon(this.getCoords(),x.getCoords());return g.status==="Intersection"||g.status==="Coincident"||x.isContainedWithinObject(this)||this.isContainedWithinObject(x)}isContainedWithinObject(x){return this.getCoords().every((g)=>x.containsPoint(g))}isContainedWithinRect(x,g){let{left:_,top:O,width:l,height:G}=this.getBoundingRect();return _>=x.x&&_+l<=g.x&&O>=x.y&&O+G<=g.y}isOverlapping(x){return this.intersectsWithObject(x)||this.isContainedWithinObject(x)||x.isContainedWithinObject(this)}containsPoint(x){return ex.isPointInPolygon(x,this.getCoords())}isOnScreen(){if(!this.canvas)return!1;let{tl:x,br:g}=this.canvas.vptCoords;return!!this.getCoords().some((_)=>_.x<=g.x&&_.x>=x.x&&_.y<=g.y&&_.y>=x.y)||(!!this.intersectsWithRect(x,g)||this.containsPoint(x.midPointFrom(g)))}isPartiallyOnScreen(){if(!this.canvas)return!1;let{tl:x,br:g}=this.canvas.vptCoords;if(this.intersectsWithRect(x,g))return!0;return this.getCoords().every((_)=>(_.x>=g.x||_.x<=x.x)&&(_.y>=g.y||_.y<=x.y))&&this.containsPoint(x.midPointFrom(g))}getBoundingRect(){return k_(this.getCoords())}getScaledWidth(){return this._getTransformedDimensions().x}getScaledHeight(){return this._getTransformedDimensions().y}scale(x){this._set(Q0,x),this._set(og,x),this.setCoords()}scaleToWidth(x){let g=this.getBoundingRect().width/this.getScaledWidth();return this.scale(x/this.width/g)}scaleToHeight(x){let g=this.getBoundingRect().height/this.getScaledHeight();return this.scale(x/this.height/g)}getCanvasRetinaScaling(){var x;return((x=this.canvas)===null||x===void 0?void 0:x.getRetinaScaling())||1}getTotalAngle(){return this.group?PO(gM(this.calcTransformMatrix())):this.angle}getViewportTransform(){var x;return((x=this.canvas)===null||x===void 0?void 0:x.viewportTransform)||D0.concat()}calcACoords(){let x=Zl({angle:this.angle}),{x:g,y:_}=this.getRelativeCenterPoint(),O=Il(g,_),l=l0(O,x),G=this._getTransformedDimensions(),p=G.x/2,W=G.y/2;return{tl:u0({x:-p,y:-W},l),tr:u0({x:p,y:-W},l),bl:u0({x:-p,y:W},l),br:u0({x:p,y:W},l)}}setCoords(){this.aCoords=this.calcACoords()}transformMatrixKey(){let x=arguments.length>0&&arguments[0]!==void 0&&arguments[0],g=[];return!x&&this.group&&(g=this.group.transformMatrixKey(x)),g.push(this.top,this.left,this.width,this.height,this.scaleX,this.scaleY,this.angle,this.strokeWidth,this.skewX,this.skewY,+this.flipX,+this.flipY,N0(this.originX),N0(this.originY)),g}calcTransformMatrix(){let x=arguments.length>0&&arguments[0]!==void 0&&arguments[0],g=this.calcOwnMatrix();if(x||!this.group)return g;let _=this.transformMatrixKey(x),O=this.matrixCache;return O&&O.key.every((l,G)=>l===_[G])?O.value:(this.group&&(g=l0(this.group.calcTransformMatrix(!1),g)),this.matrixCache={key:_,value:g},g)}calcOwnMatrix(){let x=this.transformMatrixKey(!0),g=this.ownMatrixCache;if(g&&g.key===x)return g.value;let _=this.getRelativeCenterPoint(),O={angle:this.angle,translateX:_.x,translateY:_.y,scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY},l=OM(O);return this.ownMatrixCache={key:x,value:l},l}_getNonTransformedDimensions(){return new E(this.width,this.height).scalarAdd(this.strokeWidth)}_calculateCurrentDimensions(x){return this._getTransformedDimensions(x).transform(this.getViewportTransform(),!0).scalarAdd(2*this.padding)}_getTransformedDimensions(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=Z({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,width:this.width,height:this.height,strokeWidth:this.strokeWidth},x),_=g.strokeWidth,O=_,l=0;this.strokeUniform&&(O=0,l=_);let G=g.width+O,p=g.height+O,W;return W=g.skewX===0&&g.skewY===0?new E(G*g.scaleX,p*g.scaleY):XW(G,p,Z9(g)),W.scalarAdd(l)}translateToGivenOrigin(x,g,_,O,l){let{x:G,y:p}=x,W=N0(O)-N0(g),w=N0(l)-N0(_);if(W||w){let o=this._getTransformedDimensions();G+=W*o.x,p+=w*o.y}return new E(G,p)}translateToCenterPoint(x,g,_){if(g===yx&&_===yx)return x;let O=this.translateToGivenOrigin(x,g,_,yx,yx);return this.angle?O.rotate(O0(this.angle),x):O}translateToOriginPoint(x,g,_){let O=this.translateToGivenOrigin(x,yx,yx,g,_);return this.angle?O.rotate(O0(this.angle),x):O}getCenterPoint(){let x=this.getRelativeCenterPoint();return this.group?u0(x,this.group.calcTransformMatrix()):x}getRelativeCenterPoint(){return this.translateToCenterPoint(new E(this.left,this.top),this.originX,this.originY)}getPointByOrigin(x,g){return this.translateToOriginPoint(this.getRelativeCenterPoint(),x,g)}setPositionByOrigin(x,g,_){let O=this.translateToCenterPoint(x,g,_),l=this.translateToOriginPoint(O,this.originX,this.originY);this.set({left:l.x,top:l.y})}_getLeftTopCoords(){return this.translateToOriginPoint(this.getRelativeCenterPoint(),Ax,J0)}}var GX=["type"],pX=["extraParam"],H_=class x extends bM{static getDefaults(){return x.ownDefaults}get type(){let g=this.constructor.type;return g==="FabricObject"?"object":g.toLowerCase()}set type(g){$O("warn","Setting type has no effect",g)}constructor(g){super(),j(this,"_cacheContext",null),Object.assign(this,x.ownDefaults),this.setOptions(g)}_createCacheCanvas(){this._cacheCanvas=Xg(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0}_limitCacheSize(g){let{width:_,height:O}=g,l=hx.maxCacheSideLimit,G=hx.minCacheSideLimit;if(_<=l&&O<=l&&_*O<=hx.perfLimitSizeTotal)return _<G&&(g.width=G),O<G&&(g.height=G),g;let p=_/O,[W,w]=h9.limitDimsByArea(p),o=P6(G,W,l),v=P6(G,w,l);return _>o&&(g.zoomX/=_/o,g.width=o,g.capped=!0),O>v&&(g.zoomY/=O/v,g.height=v,g.capped=!0),g}_getCacheCanvasDimensions(){let g=this.getTotalObjectScaling(),_=this._getTransformedDimensions({skewX:0,skewY:0}),O=_.x*g.x/this.scaleX,l=_.y*g.y/this.scaleY;return{width:Math.ceil(O+2),height:Math.ceil(l+2),zoomX:g.x,zoomY:g.y,x:O,y:l}}_updateCacheCanvas(){let g=this._cacheCanvas,_=this._cacheContext,{width:O,height:l,zoomX:G,zoomY:p,x:W,y:w}=this._limitCacheSize(this._getCacheCanvasDimensions()),o=O!==g.width||l!==g.height,v=this.zoomX!==G||this.zoomY!==p;if(!g||!_)return!1;if(o||v){O!==g.width||l!==g.height?(g.width=O,g.height=l):(_.setTransform(1,0,0,1,0,0),_.clearRect(0,0,g.width,g.height));let N=W/2,k=w/2;return this.cacheTranslationX=Math.round(g.width/2-N)+N,this.cacheTranslationY=Math.round(g.height/2-k)+k,_.translate(this.cacheTranslationX,this.cacheTranslationY),_.scale(G,p),this.zoomX=G,this.zoomY=p,!0}return!1}setOptions(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._setOptions(g)}transform(g){let _=this.group&&!this.group._transformDone||this.group&&this.canvas&&g===this.canvas.contextTop,O=this.calcTransformMatrix(!_);g.transform(O[0],O[1],O[2],O[3],O[4],O[5])}getObjectScaling(){if(!this.group)return new E(Math.abs(this.scaleX),Math.abs(this.scaleY));let g=Vl(this.calcTransformMatrix());return new E(Math.abs(g.scaleX),Math.abs(g.scaleY))}getTotalObjectScaling(){let g=this.getObjectScaling();if(this.canvas){let _=this.canvas.getZoom(),O=this.getCanvasRetinaScaling();return g.scalarMultiply(_*O)}return g}getObjectOpacity(){let g=this.opacity;return this.group&&(g*=this.group.getObjectOpacity()),g}_constrainScale(g){return Math.abs(g)<this.minScaleLimit?g<0?-this.minScaleLimit:this.minScaleLimit:g===0?0.0001:g}_set(g,_){g!==Q0&&g!==og||(_=this._constrainScale(_)),g===Q0&&_<0?(this.flipX=!this.flipX,_*=-1):g==="scaleY"&&_<0?(this.flipY=!this.flipY,_*=-1):g!=="shadow"||!_||_ instanceof s_||(_=new s_(_));let O=this[g]!==_;return this[g]=_,O&&this.constructor.cacheProperties.includes(g)&&(this.dirty=!0),this.parent&&(this.dirty||O&&this.constructor.stateProperties.includes(g))&&this.parent._set("dirty",!0),this}isNotVisible(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible}render(g){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(g.save(),this._setupCompositeOperation(g),this.drawSelectionBackground(g),this.transform(g),this._setOpacity(g),this._setShadow(g),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(g)):(this._removeCacheCanvas(),this.drawObject(g,!1,{}),this.dirty=!1),g.restore())}drawSelectionBackground(g){}renderCache(g){if(g=g||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&this._cacheContext){let{zoomX:_,zoomY:O,cacheTranslationX:l,cacheTranslationY:G}=this,{width:p,height:W}=this._cacheCanvas;this.drawObject(this._cacheContext,g.forClipping,{zoomX:_,zoomY:O,cacheTranslationX:l,cacheTranslationY:G,width:p,height:W,parentClipPaths:[]}),this.dirty=!1}}_removeCacheCanvas(){this._cacheCanvas=void 0,this._cacheContext=null}hasStroke(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0}hasFill(){return this.fill&&this.fill!=="transparent"}needsItsOwnCache(){return!!(this.paintFirst===R0&&this.hasFill()&&this.hasStroke()&&this.shadow)||!!this.clipPath}shouldCache(){return this.ownCaching=this.objectCaching&&(!this.parent||!this.parent.isOnACache())||this.needsItsOwnCache(),this.ownCaching}willDrawShadow(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)}drawClipPathOnCache(g,_,O){g.save(),_.inverted?g.globalCompositeOperation="destination-out":g.globalCompositeOperation="destination-in",g.setTransform(1,0,0,1,0,0),g.drawImage(O,0,0),g.restore()}drawObject(g,_,O){let l=this.fill,G=this.stroke;_?(this.fill="black",this.stroke="",this._setClippingProperties(g)):this._renderBackground(g),this._render(g),this._drawClipPath(g,this.clipPath,O),this.fill=l,this.stroke=G}createClipPathLayer(g,_){let O=Jg(_),l=O.getContext("2d");if(l.translate(_.cacheTranslationX,_.cacheTranslationY),l.scale(_.zoomX,_.zoomY),g._cacheCanvas=O,_.parentClipPaths.forEach((G)=>{G.transform(l)}),_.parentClipPaths.push(g),g.absolutePositioned){let G=Wg(this.calcTransformMatrix());l.transform(G[0],G[1],G[2],G[3],G[4],G[5])}return g.transform(l),g.drawObject(l,!0,_),O}_drawClipPath(g,_,O){if(!_)return;_._transformDone=!0;let l=this.createClipPathLayer(_,O);this.drawClipPathOnCache(g,_,l)}drawCacheOnCanvas(g){g.scale(1/this.zoomX,1/this.zoomY),g.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)}isCacheDirty(){let g=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.isNotVisible())return!1;let _=this._cacheCanvas,O=this._cacheContext;return!(!_||!O||g||!this._updateCacheCanvas())||!!(this.dirty||this.clipPath&&this.clipPath.absolutePositioned)&&(_&&O&&!g&&(O.save(),O.setTransform(1,0,0,1,0,0),O.clearRect(0,0,_.width,_.height),O.restore()),!0)}_renderBackground(g){if(!this.backgroundColor)return;let _=this._getNonTransformedDimensions();g.fillStyle=this.backgroundColor,g.fillRect(-_.x/2,-_.y/2,_.x,_.y),this._removeShadow(g)}_setOpacity(g){this.group&&!this.group._transformDone?g.globalAlpha=this.getObjectOpacity():g.globalAlpha*=this.opacity}_setStrokeStyles(g,_){let O=_.stroke;O&&(g.lineWidth=_.strokeWidth,g.lineCap=_.strokeLineCap,g.lineDashOffset=_.strokeDashOffset,g.lineJoin=_.strokeLineJoin,g.miterLimit=_.strokeMiterLimit,Lg(O)?O.gradientUnits==="percentage"||O.gradientTransform||O.patternTransform?this._applyPatternForTransformedGradient(g,O):(g.strokeStyle=O.toLive(g),this._applyPatternGradientTransform(g,O)):g.strokeStyle=_.stroke)}_setFillStyles(g,_){let{fill:O}=_;O&&(Lg(O)?(g.fillStyle=O.toLive(g),this._applyPatternGradientTransform(g,O)):g.fillStyle=O)}_setClippingProperties(g){g.globalAlpha=1,g.strokeStyle="transparent",g.fillStyle="#000000"}_setLineDash(g,_){_&&_.length!==0&&g.setLineDash(_)}_setShadow(g){if(!this.shadow)return;let _=this.shadow,O=this.canvas,l=this.getCanvasRetinaScaling(),[G,,,p]=(O==null?void 0:O.viewportTransform)||D0,W=G*l,w=p*l,o=_.nonScaling?new E(1,1):this.getObjectScaling();g.shadowColor=_.color,g.shadowBlur=_.blur*hx.browserShadowBlurConstant*(W+w)*(o.x+o.y)/4,g.shadowOffsetX=_.offsetX*W*o.x,g.shadowOffsetY=_.offsetY*w*o.y}_removeShadow(g){this.shadow&&(g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0)}_applyPatternGradientTransform(g,_){if(!Lg(_))return{offsetX:0,offsetY:0};let O=_.gradientTransform||_.patternTransform,l=-this.width/2+_.offsetX||0,G=-this.height/2+_.offsetY||0;return _.gradientUnits==="percentage"?g.transform(this.width,0,0,this.height,l,G):g.transform(1,0,0,1,l,G),O&&g.transform(O[0],O[1],O[2],O[3],O[4],O[5]),{offsetX:l,offsetY:G}}_renderPaintInOrder(g){this.paintFirst===R0?(this._renderStroke(g),this._renderFill(g)):(this._renderFill(g),this._renderStroke(g))}_render(g){}_renderFill(g){this.fill&&(g.save(),this._setFillStyles(g,this),this.fillRule==="evenodd"?g.fill("evenodd"):g.fill(),g.restore())}_renderStroke(g){if(this.stroke&&this.strokeWidth!==0){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(g),g.save(),this.strokeUniform){let _=this.getObjectScaling();g.scale(1/_.x,1/_.y)}this._setLineDash(g,this.strokeDashArray),this._setStrokeStyles(g,this),g.stroke(),g.restore()}}_applyPatternForTransformedGradient(g,_){var O;let l=this._limitCacheSize(this._getCacheCanvasDimensions()),G=this.getCanvasRetinaScaling(),p=l.x/this.scaleX/G,W=l.y/this.scaleY/G,w=Jg({width:Math.ceil(p),height:Math.ceil(W)}),o=w.getContext("2d");o&&(o.beginPath(),o.moveTo(0,0),o.lineTo(p,0),o.lineTo(p,W),o.lineTo(0,W),o.closePath(),o.translate(p/2,W/2),o.scale(l.zoomX/this.scaleX/G,l.zoomY/this.scaleY/G),this._applyPatternGradientTransform(o,_),o.fillStyle=_.toLive(g),o.fill(),g.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),g.scale(G*this.scaleX/l.zoomX,G*this.scaleY/l.zoomY),g.strokeStyle=(O=o.createPattern(w,"no-repeat"))!==null&&O!==void 0?O:"")}_findCenterFromElement(){return new E(this.left+this.width/2,this.top+this.height/2)}clone(g){let _=this.toObject(g);return this.constructor.fromObject(_)}cloneAsImage(g){let _=this.toCanvasElement(g);return new(_x.getClass("image"))(_)}toCanvasElement(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=By(this),O=this.group,l=this.shadow,G=Math.abs,p=g.enableRetinaScaling?H5():1,W=(g.multiplier||1)*p,w=g.canvasProvider||((d)=>new r9(d,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1}));delete this.group,g.withoutTransform&&zM(this),g.withoutShadow&&(this.shadow=null),g.viewportTransform&&qy(this,this.getViewportTransform()),this.setCoords();let o=Xg(),v=this.getBoundingRect(),N=this.shadow,k=new E;if(N){let d=N.blur,M=N.nonScaling?new E(1,1):this.getObjectScaling();k.x=2*Math.round(G(N.offsetX)+d)*G(M.x),k.y=2*Math.round(G(N.offsetY)+d)*G(M.y)}let C=v.width+k.x,c=v.height+k.y;o.width=Math.ceil(C),o.height=Math.ceil(c);let m=w(o);g.format==="jpeg"&&(m.backgroundColor="#fff"),this.setPositionByOrigin(new E(m.width/2,m.height/2),yx,yx);let b=this.canvas;m._objects=[this],this.set("canvas",m),this.setCoords();let f=m.toCanvasElement(W||1,g);return this.set("canvas",b),this.shadow=l,O&&(this.group=O),this.set(_),this.setCoords(),m._objects=[],m.destroy(),f}toDataURL(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Dy(this.toCanvasElement(g),g.format||"png",g.quality||1)}toBlob(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Qy(this.toCanvasElement(g),g.format||"png",g.quality||1)}isType(){for(var g=arguments.length,_=new Array(g),O=0;O<g;O++)_[O]=arguments[O];return _.includes(this.constructor.type)||_.includes(this.type)}complexity(){return 1}toJSON(){return this.toObject()}rotate(g){let{centeredRotation:_,originX:O,originY:l}=this;if(_){let{x:G,y:p}=this.getRelativeCenterPoint();this.originX=yx,this.originY=yx,this.left=G,this.top=p}if(this.set("angle",g),_){let{x:G,y:p}=this.translateToOriginPoint(this.getRelativeCenterPoint(),O,l);this.left=G,this.top=p,this.originX=O,this.originY=l}}setOnGroup(){}_setupCompositeOperation(g){this.globalCompositeOperation&&(g.globalCompositeOperation=this.globalCompositeOperation)}dispose(){zW.cancelByTarget(this),this.off(),this._set("canvas",void 0),this._cacheCanvas&&d_().dispose(this._cacheCanvas),this._cacheCanvas=void 0,this._cacheContext=null}animate(g,_){return Object.entries(g).reduce((O,l)=>{let[G,p]=l;return O[G]=this._animate(G,p,_),O},{})}_animate(g,_){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=g.split("."),G=this.constructor.colorProperties.includes(l[l.length-1]),{abort:p,startValue:W,onChange:w,onComplete:o}=O,v=Z(Z({},O),{},{target:this,startValue:W!=null?W:l.reduce((N,k)=>N[k],this),endValue:_,abort:p==null?void 0:p.bind(this),onChange:(N,k,C)=>{l.reduce((c,m,b)=>(b===l.length-1&&(c[m]=N),c[m]),this),w&&w(N,k,C)},onComplete:(N,k,C)=>{this.setCoords(),o&&o(N,k,C)}});return G?mM(v):Ty(v)}isDescendantOf(g){let{parent:_,group:O}=this;return _===g||O===g||!!_&&_.isDescendantOf(g)||!!O&&O!==_&&O.isDescendantOf(g)}getAncestors(){let g=[],_=this;do _=_.parent,_&&g.push(_);while(_);return g}findCommonAncestors(g){if(this===g)return{fork:[],otherFork:[],common:[this,...this.getAncestors()]};let _=this.getAncestors(),O=g.getAncestors();if(_.length===0&&O.length>0&&this===O[O.length-1])return{fork:[],otherFork:[g,...O.slice(0,O.length-1)],common:[this]};for(let l,G=0;G<_.length;G++){if(l=_[G],l===g)return{fork:[this,..._.slice(0,G)],otherFork:[],common:_.slice(G)};for(let p=0;p<O.length;p++){if(this===O[p])return{fork:[],otherFork:[g,...O.slice(0,p)],common:[this,..._]};if(l===O[p])return{fork:[this,..._.slice(0,G)],otherFork:[g,...O.slice(0,p)],common:_.slice(G)}}}return{fork:[this,..._],otherFork:[g,...O],common:[]}}hasCommonAncestors(g){let _=this.findCommonAncestors(g);return _&&!!_.common.length}isInFrontOf(g){if(this===g)return;let _=this.findCommonAncestors(g);if(_.fork.includes(g))return!0;if(_.otherFork.includes(this))return!1;let O=_.common[0]||this.canvas;if(!O)return;let l=_.fork.pop(),G=_.otherFork.pop(),p=O._objects.indexOf(l),W=O._objects.indexOf(G);return p>-1&&p>W}toObject(){let g=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).concat(x.customProperties,this.constructor.customProperties||[]),_,O=hx.NUM_FRACTION_DIGITS,{clipPath:l,fill:G,stroke:p,shadow:W,strokeDashArray:w,left:o,top:v,originX:N,originY:k,width:C,height:c,strokeWidth:m,strokeLineCap:b,strokeDashOffset:f,strokeLineJoin:d,strokeUniform:M,strokeMiterLimit:Y,scaleX:K,scaleY:h,angle:V,flipX:F,flipY:D,opacity:U,visible:Q,backgroundColor:L,fillRule:a,paintFirst:s,globalCompositeOperation:u,skewX:B,skewY:P}=this;l&&!l.excludeFromExport&&(_=l.toObject(g.concat("inverted","absolutePositioned")));let i=(J)=>Jx(J,O),lx=Z(Z({},i6(this,g)),{},{type:this.constructor.type,version:Ny,originX:N,originY:k,left:i(o),top:i(v),width:i(C),height:i(c),fill:Y5(G)?G.toObject():G,stroke:Y5(p)?p.toObject():p,strokeWidth:i(m),strokeDashArray:w?w.concat():w,strokeLineCap:b,strokeDashOffset:f,strokeLineJoin:d,strokeUniform:M,strokeMiterLimit:i(Y),scaleX:i(K),scaleY:i(h),angle:i(V),flipX:F,flipY:D,opacity:i(U),shadow:W?W.toObject():W,visible:Q,backgroundColor:L,fillRule:a,paintFirst:s,globalCompositeOperation:u,skewX:i(B),skewY:i(P)},_?{clipPath:_}:null);return this.includeDefaultValues?lx:this._removeDefaultValues(lx)}toDatalessObject(g){return this.toObject(g)}_removeDefaultValues(g){let _=this.constructor.getDefaults(),O=Object.keys(_).length>0?_:Object.getPrototypeOf(this);return ny(g,(l,G)=>{if(G===Ax||G===J0||G==="type")return!0;let p=O[G];return l!==p&&!(Array.isArray(l)&&Array.isArray(p)&&l.length===0&&p.length===0)})}toString(){return"#<".concat(this.constructor.type,">")}static _fromObject(g){let _=ix(g,GX),O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{extraParam:l}=O,G=ix(O,pX);return j9(_,G).then((p)=>l?(delete p[l],new this(_[l],p)):new this(p))}static fromObject(g,_){return this._fromObject(g,_)}};j(H_,"stateProperties",sL),j(H_,"cacheProperties",xO),j(H_,"ownDefaults",tL),j(H_,"type","FabricObject"),j(H_,"colorProperties",[M0,R0,"backgroundColor"]),j(H_,"customProperties",[]),_x.setClass(H_),_x.setClass(H_,"object");var iO=(x,g,_)=>(O,l,G,p)=>{let W=g(O,l,G,p);return W&&Hy(x,Z(Z({},Py(O,l,G,p)),_)),W};function R6(x){return(g,_,O,l)=>{let{target:G,originX:p,originY:W}=_,w=G.getRelativeCenterPoint(),o=G.translateToOriginPoint(w,p,W),v=x(g,_,O,l);return G.setPositionByOrigin(o,_.originX,_.originY),v}}var fy=iO(A9,R6((x,g,_,O)=>{let l=FW(g,g.originX,g.originY,_,O);if(N0(g.originX)===N0(yx)||N0(g.originX)===N0(W0)&&l.x<0||N0(g.originX)===N0(Ax)&&l.x>0){let{target:G}=g,p=G.strokeWidth/(G.strokeUniform?G.scaleX:1),W=yM(g)?2:1,w=G.width,o=Math.abs(l.x*W/G.scaleX)-p;return G.set("width",Math.max(o,1)),w!==G.width}return!1}));function hM(x,g,_,O,l){O=O||{};let G=this.sizeX||O.cornerSize||l.cornerSize,p=this.sizeY||O.cornerSize||l.cornerSize,W=O.transparentCorners!==void 0?O.transparentCorners:l.transparentCorners,w=W?R0:M0,o=!W&&(O.cornerStrokeColor||l.cornerStrokeColor),v,N=g,k=_;x.save(),x.fillStyle=O.cornerColor||l.cornerColor||"",x.strokeStyle=O.cornerStrokeColor||l.cornerStrokeColor||"",G>p?(v=G,x.scale(1,p/G),k=_*G/p):p>G?(v=p,x.scale(G/p,1),N=g*p/G):v=G,x.beginPath(),x.arc(N,k,v/2,0,e_,!1),x[w](),o&&x.stroke(),x.restore()}function KM(x,g,_,O,l){O=O||{};let G=this.sizeX||O.cornerSize||l.cornerSize,p=this.sizeY||O.cornerSize||l.cornerSize,W=O.transparentCorners!==void 0?O.transparentCorners:l.transparentCorners,w=W?R0:M0,o=!W&&(O.cornerStrokeColor||l.cornerStrokeColor),v=G/2,N=p/2;x.save(),x.fillStyle=O.cornerColor||l.cornerColor||"",x.strokeStyle=O.cornerStrokeColor||l.cornerStrokeColor||"",x.translate(g,_);let k=l.getTotalAngle();x.rotate(O0(k)),x["".concat(w,"Rect")](-v,-N,G,p),o&&x.strokeRect(-v,-N,G,p),x.restore()}class P0{constructor(x){j(this,"visible",!0),j(this,"actionName",KW),j(this,"angle",0),j(this,"x",0),j(this,"y",0),j(this,"offsetX",0),j(this,"offsetY",0),j(this,"sizeX",0),j(this,"sizeY",0),j(this,"touchSizeX",0),j(this,"touchSizeY",0),j(this,"cursorStyle","crosshair"),j(this,"withConnection",!1),Object.assign(this,x)}shouldActivate(x,g,_,O){var l;let{tl:G,tr:p,br:W,bl:w}=O;return((l=g.canvas)===null||l===void 0?void 0:l.getActiveObject())===g&&g.isControlVisible(x)&&ex.isPointInPolygon(_,[G,p,W,w])}getActionHandler(x,g,_){return this.actionHandler}getMouseDownHandler(x,g,_){return this.mouseDownHandler}getMouseUpHandler(x,g,_){return this.mouseUpHandler}cursorStyleHandler(x,g,_){return g.cursorStyle}getActionName(x,g,_){return g.actionName}getVisibility(x,g){var _,O;return(_=(O=x._controlsVisibility)===null||O===void 0?void 0:O[g])!==null&&_!==void 0?_:this.visible}setVisibility(x,g,_){this.visible=x}positionHandler(x,g,_,O){return new E(this.x*x.x+this.offsetX,this.y*x.y+this.offsetY).transform(g)}calcCornerCoords(x,g,_,O,l,G){let p=VW([Il(_,O),Zl({angle:x}),LW((l?this.touchSizeX:this.sizeX)||g,(l?this.touchSizeY:this.sizeY)||g)]);return{tl:new E(-0.5,-0.5).transform(p),tr:new E(0.5,-0.5).transform(p),br:new E(0.5,0.5).transform(p),bl:new E(-0.5,0.5).transform(p)}}render(x,g,_,O,l){if(((O=O||{}).cornerStyle||l.cornerStyle)==="circle")hM.call(this,x,g,_,O,l);else KM.call(this,x,g,_,O,l)}}var VM=(x,g,_)=>_.lockRotation?yW:g.cursorStyle,LM=iO(J5,R6((x,g,_,O)=>{let{target:l,ex:G,ey:p,theta:W,originX:w,originY:o}=g,v=l.translateToOriginPoint(l.getRelativeCenterPoint(),w,o);if(Bg(l,"lockRotation"))return!1;let N=Math.atan2(p-v.y,G-v.x),k=Math.atan2(O-v.y,_-v.x),C=PO(k-N+W);if(l.snapAngle&&l.snapAngle>0){let m=l.snapAngle,b=l.snapThreshold||m,f=Math.ceil(C/m)*m,d=Math.floor(C/m)*m;Math.abs(C-d)<b?C=d:Math.abs(C-f)<b&&(C=f)}C<0&&(C=360+C),C%=360;let c=l.angle!==C;return l.angle=C,c}));function XM(x,g){let _=g.canvas,O=x[_.uniScaleKey];return _.uniformScaling&&!O||!_.uniformScaling&&O}function FM(x,g,_){let O=Bg(x,"lockScalingX"),l=Bg(x,"lockScalingY");if(O&&l)return!0;if(!g&&(O||l)&&_)return!0;if(O&&g==="x")return!0;if(l&&g==="y")return!0;let{width:G,height:p,strokeWidth:W}=x;return G===0&&W===0&&g!=="y"||p===0&&W===0&&g!=="x"}var WX=["e","se","s","sw","w","nw","n","ne","e"],Wl=(x,g,_)=>{let O=XM(x,_);if(FM(_,g.x!==0&&g.y===0?"x":g.x===0&&g.y!==0?"y":"",O))return yW;let l=NM(_,g);return"".concat(WX[l],"-resize")};function sy(x,g,_,O){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},G=g.target,p=l.by,W=XM(x,G),w,o,v,N,k,C;if(FM(G,p,W))return!1;if(g.gestureScale)o=g.scaleX*g.gestureScale,v=g.scaleY*g.gestureScale;else{if(w=FW(g,g.originX,g.originY,_,O),k=p!=="y"?Math.sign(w.x||g.signX||1):1,C=p!=="x"?Math.sign(w.y||g.signY||1):1,g.signX||(g.signX=k),g.signY||(g.signY=C),Bg(G,"lockScalingFlip")&&(g.signX!==k||g.signY!==C))return!1;if(N=G._getTransformedDimensions(),W&&!p){let b=Math.abs(w.x)+Math.abs(w.y),{original:f}=g,d=b/(Math.abs(N.x*f.scaleX/G.scaleX)+Math.abs(N.y*f.scaleY/G.scaleY));o=f.scaleX*d,v=f.scaleY*d}else o=Math.abs(w.x*G.scaleX/N.x),v=Math.abs(w.y*G.scaleY/N.y);yM(g)&&(o*=2,v*=2),g.signX!==k&&p!=="y"&&(g.originX=m5(g.originX),o*=-1,g.signX=k),g.signY!==C&&p!=="x"&&(g.originY=m5(g.originY),v*=-1,g.signY=C)}let{scaleX:c,scaleY:m}=G;return p?(p==="x"&&G.set(Q0,o),p==="y"&&G.set(og,v)):(!Bg(G,"lockScalingX")&&G.set(Q0,o),!Bg(G,"lockScalingY")&&G.set(og,v)),c!==G.scaleX||m!==G.scaleY}var f9=iO(hW,R6((x,g,_,O)=>sy(x,g,_,O))),AM=iO(hW,R6((x,g,_,O)=>sy(x,g,_,O,{by:"x"}))),uM=iO(hW,R6((x,g,_,O)=>sy(x,g,_,O,{by:"y"}))),oX=["target","ex","ey","skewingSide"],py={x:{counterAxis:"y",scale:Q0,skew:ul,lockSkewing:"lockSkewingX",origin:"originX",flip:"flipX"},y:{counterAxis:"x",scale:og,skew:Sl,lockSkewing:"lockSkewingY",origin:"originY",flip:"flipY"}},wX=["ns","nesw","ew","nwse"],SM=(x,g,_)=>{if(g.x!==0&&Bg(_,"lockSkewingY"))return yW;if(g.y!==0&&Bg(_,"lockSkewingX"))return yW;let O=NM(_,g)%4;return"".concat(wX[O],"-resize")};function IM(x,g,_,O,l){let{target:G}=_,{counterAxis:p,origin:W,lockSkewing:w,skew:o,flip:v}=py[x];if(Bg(G,w))return!1;let{origin:N,flip:k}=py[p],C=N0(_[N])*(G[k]?-1:1),c=-Math.sign(C)*(G[v]?-1:1),m=0.5*-((G[o]===0&&FW(_,yx,yx,O,l)[x]>0||G[o]>0?1:-1)*c)+0.5;return iO(i5,R6((f,d,M,Y)=>function(K,h,V){let{target:F,ex:D,ey:U,skewingSide:Q}=h,L=ix(h,oX),{skew:a}=py[K],s=V.subtract(new E(D,U)).divide(new E(F.scaleX,F.scaleY))[K],u=F[a],B=L[a],P=Math.tan(O0(B)),i=K==="y"?F._getTransformedDimensions({scaleX:1,scaleY:1,skewX:0}).x:F._getTransformedDimensions({scaleX:1,scaleY:1}).y,lx=2*s*Q/Math.max(i,1)+P,J=PO(Math.atan(lx));F.set(a,J);let R=u!==F[a];if(R&&K==="y"){let{skewX:r,scaleX:e}=F,Ox=F._getTransformedDimensions({skewY:u}),Nx=F._getTransformedDimensions(),qx=r!==0?Ox.x/Nx.x:1;qx!==1&&F.set(Q0,qx*e)}return R}(x,d,new E(M,Y))))(g,Z(Z({},_),{},{[W]:m,skewingSide:c}),O,l)}var ZM=(x,g,_,O)=>IM("x",x,g,_,O),jM=(x,g,_,O)=>IM("y",x,g,_,O);function IW(x,g){return x[g.canvas.altActionKey]}var c9=(x,g,_)=>{let O=IW(x,_);return g.x===0?O?ul:og:g.y===0?O?Sl:Q0:""},a6=(x,g,_)=>IW(x,_)?SM(0,g,_):Wl(x,g,_),cy=(x,g,_,O)=>IW(x,g.target)?jM(x,g,_,O):AM(x,g,_,O),my=(x,g,_,O)=>IW(x,g.target)?ZM(x,g,_,O):uM(x,g,_,O),ty=()=>({ml:new P0({x:-0.5,y:0,cursorStyleHandler:a6,actionHandler:cy,getActionName:c9}),mr:new P0({x:0.5,y:0,cursorStyleHandler:a6,actionHandler:cy,getActionName:c9}),mb:new P0({x:0,y:0.5,cursorStyleHandler:a6,actionHandler:my,getActionName:c9}),mt:new P0({x:0,y:-0.5,cursorStyleHandler:a6,actionHandler:my,getActionName:c9}),tl:new P0({x:-0.5,y:-0.5,cursorStyleHandler:Wl,actionHandler:f9}),tr:new P0({x:0.5,y:-0.5,cursorStyleHandler:Wl,actionHandler:f9}),bl:new P0({x:-0.5,y:0.5,cursorStyleHandler:Wl,actionHandler:f9}),br:new P0({x:0.5,y:0.5,cursorStyleHandler:Wl,actionHandler:f9}),mtr:new P0({x:0,y:-0.5,actionHandler:LM,cursorStyleHandler:VM,offsetY:-40,withConnection:!0,actionName:jy})}),rM=()=>({mr:new P0({x:0.5,y:0,actionHandler:fy,cursorStyleHandler:a6,actionName:A9}),ml:new P0({x:-0.5,y:0,actionHandler:fy,cursorStyleHandler:a6,actionName:A9})}),UM=()=>Z(Z({},ty()),rM());class I9 extends H_{static getDefaults(){return Z(Z({},super.getDefaults()),I9.ownDefaults)}constructor(x){super(),Object.assign(this,this.constructor.createControls(),I9.ownDefaults),this.setOptions(x)}static createControls(){return{controls:ty()}}_updateCacheCanvas(){let x=this.canvas;if(this.noScaleCache&&x&&x._currentTransform){let g=x._currentTransform,_=g.target,O=g.action;if(this===_&&O&&O.startsWith(KW))return!1}return super._updateCacheCanvas()}getActiveControl(){let x=this.__corner;return x?{key:x,control:this.controls[x],coord:this.oCoords[x]}:void 0}findControl(x){let g=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!this.hasControls||!this.canvas)return;this.__corner=void 0;let _=Object.entries(this.oCoords);for(let O=_.length-1;O>=0;O--){let[l,G]=_[O],p=this.controls[l];if(p.shouldActivate(l,this,x,g?G.touchCorner:G.corner))return this.__corner=l,{key:l,control:p,coord:this.oCoords[l]}}}calcOCoords(){let x=this.getViewportTransform(),g=this.getCenterPoint(),_=Il(g.x,g.y),O=Zl({angle:this.getTotalAngle()-(this.group&&this.flipX?180:0)}),l=l0(_,O),G=l0(x,l),p=l0(G,[1/x[0],0,0,1/x[3],0,0]),W=this.group?Vl(this.calcTransformMatrix()):void 0;W&&(W.scaleX=Math.abs(W.scaleX),W.scaleY=Math.abs(W.scaleY));let w=this._calculateCurrentDimensions(W),o={};return this.forEachControl((v,N)=>{let k=v.positionHandler(w,p,this,v);o[N]=Object.assign(k,this._calcCornerCoords(v,k))}),o}_calcCornerCoords(x,g){let _=this.getTotalAngle();return{corner:x.calcCornerCoords(_,this.cornerSize,g.x,g.y,!1,this),touchCorner:x.calcCornerCoords(_,this.touchCornerSize,g.x,g.y,!0,this)}}setCoords(){super.setCoords(),this.canvas&&(this.oCoords=this.calcOCoords())}forEachControl(x){for(let g in this.controls)x(this.controls[g],g,this)}drawSelectionBackground(x){if(!this.selectionBackgroundColor||this.canvas&&this.canvas._activeObject!==this)return;x.save();let g=this.getRelativeCenterPoint(),_=this._calculateCurrentDimensions(),O=this.getViewportTransform();x.translate(g.x,g.y),x.scale(1/O[0],1/O[3]),x.rotate(O0(this.angle)),x.fillStyle=this.selectionBackgroundColor,x.fillRect(-_.x/2,-_.y/2,_.x,_.y),x.restore()}strokeBorders(x,g){x.strokeRect(-g.x/2,-g.y/2,g.x,g.y)}_drawBorders(x,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=Z({hasControls:this.hasControls,borderColor:this.borderColor,borderDashArray:this.borderDashArray},_);x.save(),x.strokeStyle=O.borderColor,this._setLineDash(x,O.borderDashArray),this.strokeBorders(x,g),O.hasControls&&this.drawControlsConnectingLines(x,g),x.restore()}_renderControls(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{hasBorders:_,hasControls:O}=this,l=Z({hasBorders:_,hasControls:O},g),G=this.getViewportTransform(),p=l.hasBorders,W=l.hasControls,w=l0(G,this.calcTransformMatrix()),o=Vl(w);x.save(),x.translate(o.translateX,o.translateY),x.lineWidth=this.borderScaleFactor,this.group===this.parent&&(x.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(o.angle-=180),x.rotate(O0(this.group?o.angle:this.angle)),p&&this.drawBorders(x,o,g),W&&this.drawControls(x,g),x.restore()}drawBorders(x,g,_){let O;if(_&&_.forActiveSelection||this.group){let l=XW(this.width,this.height,Z9(g)),G=this.isStrokeAccountedForInDimensions()?ry:(this.strokeUniform?new E().scalarAdd(this.canvas?this.canvas.getZoom():1):new E(g.scaleX,g.scaleY)).scalarMultiply(this.strokeWidth);O=l.add(G).scalarAdd(this.borderScaleFactor).scalarAdd(2*this.padding)}else O=this._calculateCurrentDimensions().scalarAdd(this.borderScaleFactor);this._drawBorders(x,O,_)}drawControlsConnectingLines(x,g){let _=!1;x.beginPath(),this.forEachControl((O,l)=>{O.withConnection&&O.getVisibility(this,l)&&(_=!0,x.moveTo(O.x*g.x,O.y*g.y),x.lineTo(O.x*g.x+O.offsetX,O.y*g.y+O.offsetY))}),_&&x.stroke()}drawControls(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};x.save();let _=this.getCanvasRetinaScaling(),{cornerStrokeColor:O,cornerDashArray:l,cornerColor:G}=this,p=Z({cornerStrokeColor:O,cornerDashArray:l,cornerColor:G},g);x.setTransform(_,0,0,_,0,0),x.strokeStyle=x.fillStyle=p.cornerColor,this.transparentCorners||(x.strokeStyle=p.cornerStrokeColor),this._setLineDash(x,p.cornerDashArray),this.forEachControl((W,w)=>{if(W.getVisibility(this,w)){let o=this.oCoords[w];W.render(x,o.x,o.y,p,this)}}),x.restore()}isControlVisible(x){return this.controls[x]&&this.controls[x].getVisibility(this,x)}setControlVisible(x,g){this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[x]=g}setControlsVisibility(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Object.entries(x).forEach((g)=>{let[_,O]=g;return this.setControlVisible(_,O)})}clearContextTop(x){if(!this.canvas)return;let g=this.canvas.contextTop;if(!g)return;let _=this.canvas.viewportTransform;g.save(),g.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this.transform(g);let O=this.width+4,l=this.height+4;return g.clearRect(-O/2,-l/2,O,l),x||g.restore(),g}onDeselect(x){return!1}onSelect(x){return!1}shouldStartDragging(x){return!1}onDragStart(x){return!1}canDrop(x){return!1}renderDragSourceEffect(x){}renderDropTargetEffect(x){}}function DM(x,g){return g.forEach((_)=>{Object.getOwnPropertyNames(_.prototype).forEach((O)=>{O!=="constructor"&&Object.defineProperty(x.prototype,O,Object.getOwnPropertyDescriptor(_.prototype,O)||Object.create(null))})}),x}j(I9,"ownDefaults",{noScaleCache:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,cornerSize:13,touchCornerSize:24,transparentCorners:!0,cornerColor:"rgb(178,204,255)",cornerStrokeColor:"",cornerStyle:"rect",cornerDashArray:null,hasControls:!0,borderColor:"rgb(178,204,255)",borderDashArray:null,borderOpacityWhenMoving:0.4,borderScaleFactor:1,hasBorders:!0,selectionBackgroundColor:"",selectable:!0,evented:!0,perPixelTargetFind:!1,activeOn:"down",hoverCursor:null,moveCursor:null});class L0 extends I9{}DM(L0,[Jy]),_x.setClass(L0),_x.setClass(L0,"object");var QM=(x,g,_,O)=>{let l=2*(O=Math.round(O))+1,{data:G}=x.getImageData(g-O,_-O,l,l);for(let p=3;p<G.length;p+=4)if(G[p]>0)return!1;return!0};class ey{constructor(x){this.options=x,this.strokeProjectionMagnitude=this.options.strokeWidth/2,this.scale=new E(this.options.scaleX,this.options.scaleY),this.strokeUniformScalar=this.options.strokeUniform?new E(1/this.options.scaleX,1/this.options.scaleY):new E(1,1)}createSideVector(x,g){let _=NW(x,g);return this.options.strokeUniform?_.multiply(this.scale):_}projectOrthogonally(x,g,_){return this.applySkew(x.add(this.calcOrthogonalProjection(x,g,_)))}isSkewed(){return this.options.skewX!==0||this.options.skewY!==0}applySkew(x){let g=new E(x);return g.y+=g.x*Math.tan(O0(this.options.skewY)),g.x+=g.y*Math.tan(O0(this.options.skewX)),g}scaleUnitVector(x,g){return x.multiply(this.strokeUniformScalar).scalarMultiply(g)}}var zX=new E;class Kl extends ey{static getOrthogonalRotationFactor(x,g){let _=g?dW(x,g):CM(x);return Math.abs(_)<BO?-1:1}constructor(x,g,_,O){super(O),j(this,"AB",void 0),j(this,"AC",void 0),j(this,"alpha",void 0),j(this,"bisector",void 0),this.A=new E(x),this.B=new E(g),this.C=new E(_),this.AB=this.createSideVector(this.A,this.B),this.AC=this.createSideVector(this.A,this.C),this.alpha=dW(this.AB,this.AC),this.bisector=uW(iy(this.AB.eq(zX)?this.AC:this.AB,this.alpha/2))}calcOrthogonalProjection(x,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,O=this.createSideVector(x,g),l=Ry(O),G=Kl.getOrthogonalRotationFactor(l,this.bisector);return this.scaleUnitVector(l,_*G)}projectBevel(){let x=[];return(this.alpha%e_==0?[this.B]:[this.B,this.C]).forEach((g)=>{x.push(this.projectOrthogonally(this.A,g)),x.push(this.projectOrthogonally(this.A,g,-this.strokeProjectionMagnitude))}),x}projectMiter(){let x=[],g=Math.abs(this.alpha),_=1/Math.sin(g/2),O=this.scaleUnitVector(this.bisector,-this.strokeProjectionMagnitude*_),l=this.options.strokeUniform?kW(this.scaleUnitVector(this.bisector,this.options.strokeMiterLimit)):this.options.strokeMiterLimit;return kW(O)/this.strokeProjectionMagnitude<=l&&x.push(this.applySkew(this.A.add(O))),x.push(...this.projectBevel()),x}projectRoundNoSkew(x,g){let _=[],O=new E(Kl.getOrthogonalRotationFactor(this.bisector),Kl.getOrthogonalRotationFactor(new E(this.bisector.y,this.bisector.x)));return[new E(1,0).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(O),new E(0,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar).multiply(O)].forEach((l)=>{My(l,x,g)&&_.push(this.A.add(l))}),_}projectRoundWithSkew(x,g){let _=[],{skewX:O,skewY:l,scaleX:G,scaleY:p,strokeUniform:W}=this.options,w=new E(Math.tan(O0(O)),Math.tan(O0(l))),o=this.strokeProjectionMagnitude,v=W?o/p/Math.sqrt(1/p**2+1/G**2*w.y**2):o/Math.sqrt(1+w.y**2),N=new E(Math.sqrt(Math.max(o**2-v**2,0)),v),k=W?o/Math.sqrt(1+w.x**2*(1/p)**2/(1/G+1/G*w.x*w.y)**2):o/Math.sqrt(1+w.x**2/(1+w.x*w.y)**2),C=new E(k,Math.sqrt(Math.max(o**2-k**2,0)));return[C,C.scalarMultiply(-1),N,N.scalarMultiply(-1)].map((c)=>this.applySkew(W?c.multiply(this.strokeUniformScalar):c)).forEach((c)=>{My(c,x,g)&&_.push(this.applySkew(this.A).add(c))}),_}projectRound(){let x=[];x.push(...this.projectBevel());let g=this.alpha%e_==0,_=this.applySkew(this.A),O=x[g?0:2].subtract(_),l=x[g?1:0].subtract(_),G=g?this.applySkew(this.AB.scalarMultiply(-1)):this.applySkew(this.bisector.multiply(this.strokeUniformScalar).scalarMultiply(-1)),p=hl(O,G)>0,W=p?O:l,w=p?l:O;return this.isSkewed()?x.push(...this.projectRoundWithSkew(W,w)):x.push(...this.projectRoundNoSkew(W,w)),x}projectPoints(){switch(this.options.strokeLineJoin){case"miter":return this.projectMiter();case"round":return this.projectRound();default:return this.projectBevel()}}project(){return this.projectPoints().map((x)=>({originPoint:this.A,projectedPoint:x,angle:this.alpha,bisector:this.bisector}))}}class by extends ey{constructor(x,g,_){super(_),this.A=new E(x),this.T=new E(g)}calcOrthogonalProjection(x,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.strokeProjectionMagnitude,O=this.createSideVector(x,g);return this.scaleUnitVector(Ry(O),_)}projectButt(){return[this.projectOrthogonally(this.A,this.T,this.strokeProjectionMagnitude),this.projectOrthogonally(this.A,this.T,-this.strokeProjectionMagnitude)]}projectRound(){let x=[];if(!this.isSkewed()&&this.A.eq(this.T)){let g=new E(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);x.push(this.applySkew(this.A.add(g)),this.applySkew(this.A.subtract(g)))}else x.push(...new Kl(this.A,this.T,this.T,this.options).projectRound());return x}projectSquare(){let x=[];if(this.A.eq(this.T)){let g=new E(1,1).scalarMultiply(this.strokeProjectionMagnitude).multiply(this.strokeUniformScalar);x.push(this.A.add(g),this.A.subtract(g))}else{let g=this.calcOrthogonalProjection(this.A,this.T,this.strokeProjectionMagnitude),_=this.scaleUnitVector(uW(this.createSideVector(this.A,this.T)),-this.strokeProjectionMagnitude),O=this.A.add(_);x.push(O.add(g),O.subtract(g))}return x.map((g)=>this.applySkew(g))}projectPoints(){switch(this.options.strokeLineCap){case"round":return this.projectRound();case"square":return this.projectSquare();default:return this.projectButt()}}project(){return this.projectPoints().map((x)=>({originPoint:this.A,projectedPoint:x}))}}var aM=function(x,g){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2],O=[];if(x.length===0)return O;let l=x.reduce((G,p)=>(G[G.length-1].eq(p)||G.push(new E(p)),G),[new E(x[0])]);if(l.length===1)_=!0;else if(!_){let G=l[0],p=((W,w)=>{for(let o=W.length-1;o>=0;o--)if(w(W[o],o,W))return o;return-1})(l,(W)=>!W.eq(G));l.splice(p+1)}return l.forEach((G,p,W)=>{let w,o;p===0?(o=W[1],w=_?G:W[W.length-1]):p===W.length-1?(w=W[p-1],o=_?G:W[0]):(w=W[p-1],o=W[p+1]),_&&W.length===1?O.push(...new by(G,G,g).project()):!_||p!==0&&p!==W.length-1?O.push(...new Kl(G,w,o,g).project()):O.push(...new by(G,p===0?o:w,g).project())}),O},x3=(x)=>{let g={};return Object.keys(x).forEach((_)=>{g[_]={},Object.keys(x[_]).forEach((O)=>{g[_][O]=Z({},x[_][O])})}),g},EM=(x)=>x.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ZW=(x)=>{let g=[];for(let _,O=0;O<x.length;O++)(_=vX(x,O))!==!1&&g.push(_);return g},vX=(x,g)=>{let _=x.charCodeAt(g);if(isNaN(_))return"";if(_<55296||_>57343)return x.charAt(g);if(55296<=_&&_<=56319){if(x.length<=g+1)throw"High surrogate without following low surrogate";let l=x.charCodeAt(g+1);if(56320>l||l>57343)throw"High surrogate without following low surrogate";return x.charAt(g)+x.charAt(g+1)}if(g===0)throw"Low surrogate without preceding high surrogate";let O=x.charCodeAt(g-1);if(55296>O||O>56319)throw"Low surrogate without preceding high surrogate";return!1},yX=Object.freeze({__proto__:null,capitalize:function(x){let g=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return"".concat(x.charAt(0).toUpperCase()).concat(g?x.slice(1):x.slice(1).toLowerCase())},escapeXml:EM,graphemeSplit:ZW}),jW=function(x,g){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return x.fill!==g.fill||x.stroke!==g.stroke||x.strokeWidth!==g.strokeWidth||x.fontSize!==g.fontSize||x.fontFamily!==g.fontFamily||x.fontWeight!==g.fontWeight||x.fontStyle!==g.fontStyle||x.textBackgroundColor!==g.textBackgroundColor||x.deltaY!==g.deltaY||_&&(x.overline!==g.overline||x.underline!==g.underline||x.linethrough!==g.linethrough)},nM=(x,g)=>{let _=g.split(`
`),O=[],l=-1,G={};x=x3(x);for(let p=0;p<_.length;p++){let W=ZW(_[p]);if(x[p])for(let w=0;w<W.length;w++){l++;let o=x[p][w];o&&Object.keys(o).length>0&&(jW(G,o,!0)?O.push({start:l,end:l+1,style:o}):O[O.length-1].end++),G=o||{}}else l+=W.length,G={}}return O},$M=(x,g)=>{if(!Array.isArray(x))return x3(x);let _=g.split(Zy),O={},l=-1,G=0;for(let p=0;p<_.length;p++){let W=ZW(_[p]);for(let w=0;w<W.length;w++)l++,x[G]&&x[G].start<=l&&l<x[G].end&&(O[p]=O[p]||{},O[p][w]=Z({},x[G].style),l===x[G].end-1&&G++)}return O},RO=["display","transform",M0,"fill-opacity","fill-rule","opacity",R0,"stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"];function F5(x,g){let _=x.nodeName,O=x.getAttribute("class"),l=x.getAttribute("id"),p;if(p=new RegExp("^"+_,"i"),g=g.replace(p,""),l&&g.length&&(p=new RegExp("#"+l+"(?![a-zA-Z\\-]+)","i"),g=g.replace(p,"")),O&&g.length){let W=O.split(" ");for(let w=W.length;w--;)p=new RegExp("\\."+W[w]+"(?![a-zA-Z\\-]+)","i"),g=g.replace(p,"")}return g.length===0}function NX(x,g){let _=!0,O=F5(x,g.pop());return O&&g.length&&(_=function(l,G){let p,W=!0;for(;l.parentElement&&l.parentElement.nodeType===1&&G.length;)W&&(p=G.pop()),W=F5(l=l.parentElement,p);return G.length===0}(x,g)),O&&_&&g.length===0}var kX=(x)=>{var g;return(g=RL[x])!==null&&g!==void 0?g:x},dX=new RegExp("(".concat($g,")"),"gi"),CX=(x)=>x.replace(dX," $1 ").replace(/,/gi," ").replace(/\s+/gi," "),A5,u5,S5,I5,Z5,j5,r5,U0="(".concat($g,")"),qX=String.raw(A5||(A5=JO(["(skewX)(",")"],["(skewX)\\(","\\)"])),U0),MX=String.raw(u5||(u5=JO(["(skewY)(",")"],["(skewY)\\(","\\)"])),U0),YX=String.raw(S5||(S5=JO(["(rotate)(","(?: "," ",")?)"],["(rotate)\\(","(?: "," ",")?\\)"])),U0,U0,U0),fX=String.raw(I5||(I5=JO(["(scale)(","(?: ",")?)"],["(scale)\\(","(?: ",")?\\)"])),U0,U0),cX=String.raw(Z5||(Z5=JO(["(translate)(","(?: ",")?)"],["(translate)\\(","(?: ",")?\\)"])),U0,U0),mX=String.raw(j5||(j5=JO(["(matrix)("," "," "," "," "," ",")"],["(matrix)\\("," "," "," "," "," ","\\)"])),U0,U0,U0,U0,U0,U0),g3="(?:".concat(mX,"|").concat(cX,"|").concat(YX,"|").concat(fX,"|").concat(qX,"|").concat(MX,")"),bX="(?:".concat(g3,"*)"),hX=String.raw(r5||(r5=JO(["^s*(?:","?)s*$"],["^\\s*(?:","?)\\s*$"])),bX),KX=new RegExp(hX),VX=new RegExp(g3),LX=new RegExp(g3,"g");function hy(x){let g=[];if(!(x=CX(x).replace(/\s*([()])\s*/gi,"$1"))||x&&!KX.test(x))return[...D0];for(let _ of x.matchAll(LX)){let O=VX.exec(_[0]);if(!O)continue;let l=D0,G=O.filter((c)=>!!c),[,p,...W]=G,[w,o,v,N,k,C]=W.map((c)=>parseFloat(c));switch(p){case"translate":l=Il(w,o);break;case jy:l=Zl({angle:w},{x:o,y:v});break;case KW:l=LW(w,o);break;case ul:l=ay(w);break;case Sl:l=Ey(w);break;case"matrix":l=[w,o,v,N,k,C]}g.push(l)}return VW(g)}function XX(x,g,_,O){let l=Array.isArray(g),G,p=g;if(x!==M0&&x!==R0||g!==i0){if(x==="strokeUniform")return g==="non-scaling-stroke";if(x==="strokeDashArray")p=g===i0?null:g.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(x==="transformMatrix")p=_&&_.transformMatrix?l0(_.transformMatrix,hy(g)):hy(g);else if(x==="visible")p=g!==i0&&g!=="hidden",_&&_.visible===!1&&(p=!1);else if(x==="opacity")p=parseFloat(g),_&&_.opacity!==void 0&&(p*=_.opacity);else if(x==="textAnchor")p=g==="start"?Ax:g==="end"?W0:yx;else if(x==="charSpacing")G=H6(g,O)/O*1000;else if(x==="paintFirst"){let W=g.indexOf(M0),w=g.indexOf(R0);p=M0,(W>-1&&w>-1&&w<W||W===-1&&w>-1)&&(p=R0)}else{if(x==="href"||x==="xlink:href"||x==="font"||x==="id")return g;if(x==="imageSmoothing")return g==="optimizeQuality";G=l?g.map(H6):H6(g,O)}}else p="";return!l&&isNaN(G)?p:G}function FX(x,g){let _=x.match(iL);if(!_)return;let O=_[1],l=_[3],G=_[4],p=_[5],W=_[6];O&&(g.fontStyle=O),l&&(g.fontWeight=isNaN(parseFloat(l))?l:parseFloat(l)),G&&(g.fontSize=H6(G)),W&&(g.fontFamily=W),p&&(g.lineHeight=p==="normal"?1:p)}function AX(x,g){x.replace(/;\s*$/,"").split(";").forEach((_)=>{if(!_)return;let[O,l]=_.split(":");g[O.trim().toLowerCase()]=l.trim()})}function uX(x){let g={},_=x.getAttribute("style");return _?(typeof _=="string"?AX(_,g):function(O,l){Object.entries(O).forEach((G)=>{let[p,W]=G;W!==void 0&&(l[p.toLowerCase()]=W)})}(_,g),g):g}var SX={stroke:"strokeOpacity",fill:"fillOpacity"};function gO(x,g,_){if(!x)return{};let O,l={},G=Iy;x.parentNode&&h5.test(x.parentNode.nodeName)&&(l=gO(x.parentElement,g,_),l.fontSize&&(O=G=H6(l.fontSize)));let p=Z(Z(Z({},g.reduce((o,v)=>{let N=x.getAttribute(v);return N&&(o[v]=N),o},{})),function(o){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N={};for(let k in v)NX(o,k.split(" "))&&(N=Z(Z({},N),v[k]));return N}(x,_)),uX(x));p[Oy]&&x.setAttribute(Oy,p[Oy]),p[_y]&&(O=H6(p[_y],G),p[_y]="".concat(O));let W={};for(let o in p){let v=kX(o),N=XX(v,p[o],l,O);W[v]=N}W&&W.font&&FX(W.font,W);let w=Z(Z({},l),W);return h5.test(x.nodeName)?w:function(o){let v=L0.getDefaults();return Object.entries(SX).forEach((N)=>{let[k,C]=N;if(o[C]===void 0||o[k]==="")return;if(o[k]===void 0){if(!v[k])return;o[k]=v[k]}if(o[k].indexOf("url(")===0)return;let c=new Sx(o[k]);o[k]=c.setAlpha(Jx(c.getAlpha()*o[C],2)).toRgba()}),o}(w)}var IX=["left","top","width","height","visible"],BM=["rx","ry"];class y_ extends L0{static getDefaults(){return Z(Z({},super.getDefaults()),y_.ownDefaults)}constructor(x){super(),Object.assign(this,y_.ownDefaults),this.setOptions(x),this._initRxRy()}_initRxRy(){let{rx:x,ry:g}=this;x&&!g?this.ry=x:g&&!x&&(this.rx=g)}_render(x){let{width:g,height:_}=this,O=-g/2,l=-_/2,G=this.rx?Math.min(this.rx,g/2):0,p=this.ry?Math.min(this.ry,_/2):0,W=G!==0||p!==0;x.beginPath(),x.moveTo(O+G,l),x.lineTo(O+g-G,l),W&&x.bezierCurveTo(O+g-aO*G,l,O+g,l+aO*p,O+g,l+p),x.lineTo(O+g,l+_-p),W&&x.bezierCurveTo(O+g,l+_-aO*p,O+g-aO*G,l+_,O+g-G,l+_),x.lineTo(O+G,l+_),W&&x.bezierCurveTo(O+aO*G,l+_,O,l+_-aO*p,O,l+_-p),x.lineTo(O,l+p),W&&x.bezierCurveTo(O,l+aO*p,O+aO*G,l,O+G,l),x.closePath(),this._renderPaintInOrder(x)}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...BM,...x])}_toSVG(){let{width:x,height:g,rx:_,ry:O}=this;return["<rect ","COMMON_PARTS",'x="'.concat(-x/2,'" y="').concat(-g/2,'" rx="').concat(_,'" ry="').concat(O,'" width="').concat(x,'" height="').concat(g,`" />
`)]}static async fromElement(x,g,_){let O=gO(x,this.ATTRIBUTE_NAMES,_),{left:l=0,top:G=0,width:p=0,height:W=0,visible:w=!0}=O,o=ix(O,IX);return new this(Z(Z(Z({},g),o),{},{left:l,top:G,width:p,height:W,visible:Boolean(w&&p&&W)}))}}j(y_,"type","Rect"),j(y_,"cacheProperties",[...xO,...BM]),j(y_,"ownDefaults",{rx:0,ry:0}),j(y_,"ATTRIBUTE_NAMES",[...RO,"x","y","rx","ry","width","height"]),_x.setClass(y_),_x.setSVGClass(y_);var i_="initialization",CW="added",_3="removed",qW="imperative",HM=(x,g)=>{let{strokeUniform:_,strokeWidth:O,width:l,height:G,group:p}=g,W=p&&p!==x?U9(p.calcTransformMatrix(),x.calcTransformMatrix()):null,w=W?g.getRelativeCenterPoint().transform(W):g.getRelativeCenterPoint(),o=!g.isStrokeAccountedForInDimensions(),v=_&&o?vM(new E(O,O),void 0,x.calcTransformMatrix()):ry,N=!_&&o?O:0,k=XW(l+N,G+N,VW([W,g.calcOwnMatrix()],!0)).add(v).scalarDivide(2);return[w.subtract(k),w.add(k)]};class D9{calcLayoutResult(x,g){if(this.shouldPerformLayout(x))return this.calcBoundingBox(g,x)}shouldPerformLayout(x){let{type:g,prevStrategy:_,strategy:O}=x;return g===i_||g===qW||!!_&&O!==_}shouldLayoutClipPath(x){let{type:g,target:{clipPath:_}}=x;return g!==i_&&_&&!_.absolutePositioned}getInitialSize(x,g){return g.size}calcBoundingBox(x,g){let{type:_,target:O}=g;if(_===qW&&g.overrides)return g.overrides;if(x.length===0)return;let{left:l,top:G,width:p,height:W}=k_(x.map((v)=>HM(O,v)).reduce((v,N)=>v.concat(N),[])),w=new E(p,W),o=new E(l,G).add(w.scalarDivide(2));if(_===i_){let v=this.getInitialSize(g,{size:w,center:o});return{center:o,relativeCorrection:new E(0,0),size:v}}return{center:o.transform(O.calcOwnMatrix()),size:w}}}j(D9,"type","strategy");class MW extends D9{shouldPerformLayout(x){return!0}}j(MW,"type","fit-content"),_x.setClass(MW);var ZX=["strategy"],jX=["target","strategy","bubbles","prevStrategy"],PM="layoutManager";class Fl{constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new MW;j(this,"strategy",void 0),this.strategy=x,this._subscriptions=new Map}performLayout(x){let g=Z(Z({bubbles:!0,strategy:this.strategy},x),{},{prevStrategy:this._prevLayoutStrategy,stopPropagation(){this.bubbles=!1}});this.onBeforeLayout(g);let _=this.getLayoutResult(g);_&&this.commitLayout(g,_),this.onAfterLayout(g,_),this._prevLayoutStrategy=g.strategy}attachHandlers(x,g){let{target:_}=g;return[wW,P5,A9,J5,hW,i5,oW,R5,nL].map((O)=>x.on(O,(l)=>this.performLayout(O===wW?{type:"object_modified",trigger:O,e:l,target:_}:{type:"object_modifying",trigger:O,e:l,target:_})))}subscribe(x,g){this.unsubscribe(x,g);let _=this.attachHandlers(x,g);this._subscriptions.set(x,_)}unsubscribe(x,g){(this._subscriptions.get(x)||[]).forEach((_)=>_()),this._subscriptions.delete(x)}unsubscribeTargets(x){x.targets.forEach((g)=>this.unsubscribe(g,x))}subscribeTargets(x){x.targets.forEach((g)=>this.subscribe(g,x))}onBeforeLayout(x){let{target:g,type:_}=x,{canvas:O}=g;if(_===i_||_===CW?this.subscribeTargets(x):_===_3&&this.unsubscribeTargets(x),g.fire("layout:before",{context:x}),O&&O.fire("object:layout:before",{target:g,context:x}),_===qW&&x.deep){let l=ix(x,ZX);g.forEachObject((G)=>G.layoutManager&&G.layoutManager.performLayout(Z(Z({},l),{},{bubbles:!1,target:G})))}}getLayoutResult(x){let{target:g,strategy:_,type:O}=x,l=_.calcLayoutResult(x,g.getObjects());if(!l)return;let G=O===i_?new E:g.getRelativeCenterPoint(),{center:p,correction:W=new E,relativeCorrection:w=new E}=l,o=G.subtract(p).add(W).transform(O===i_?D0:Wg(g.calcOwnMatrix()),!0).add(w);return{result:l,prevCenter:G,nextCenter:p,offset:o}}commitLayout(x,g){let{target:_}=x,{result:{size:O},nextCenter:l}=g;var G,p;(_.set({width:O.x,height:O.y}),this.layoutObjects(x,g),x.type===i_)?_.set({left:(G=x.x)!==null&&G!==void 0?G:l.x+O.x*N0(_.originX),top:(p=x.y)!==null&&p!==void 0?p:l.y+O.y*N0(_.originY)}):(_.setPositionByOrigin(l,yx,yx),_.setCoords(),_.set("dirty",!0))}layoutObjects(x,g){let{target:_}=x;_.forEachObject((O)=>{O.group===_&&this.layoutObject(x,g,O)}),x.strategy.shouldLayoutClipPath(x)&&this.layoutObject(x,g,_.clipPath)}layoutObject(x,g,_){let{offset:O}=g;_.set({left:_.left+O.x,top:_.top+O.y})}onAfterLayout(x,g){let{target:_,strategy:O,bubbles:l,prevStrategy:G}=x,p=ix(x,jX),{canvas:W}=_;_.fire("layout:after",{context:x,result:g}),W&&W.fire("object:layout:after",{context:x,result:g,target:_});let w=_.parent;l&&w!=null&&w.layoutManager&&((p.path||(p.path=[])).push(_),w.layoutManager.performLayout(Z(Z({},p),{},{target:w}))),_.set("dirty",!0)}dispose(){let{_subscriptions:x}=this;x.forEach((g)=>g.forEach((_)=>_())),x.clear()}toObject(){return{type:PM,strategy:this.strategy.constructor.type}}toJSON(){return this.toObject()}}_x.setClass(Fl,PM);var rX=["type","objects","layoutManager"];class JM extends Fl{performLayout(){}}class t_ extends s5(L0){static getDefaults(){return Z(Z({},super.getDefaults()),t_.ownDefaults)}constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),j(this,"_activeObjects",[]),j(this,"__objectSelectionTracker",void 0),j(this,"__objectSelectionDisposer",void 0),Object.assign(this,t_.ownDefaults),this.setOptions(g),this.groupInit(x,g)}groupInit(x,g){var _;this._objects=[...x],this.__objectSelectionTracker=this.__objectSelectionMonitor.bind(this,!0),this.__objectSelectionDisposer=this.__objectSelectionMonitor.bind(this,!1),this.forEachObject((O)=>{this.enterGroup(O,!1)}),this.layoutManager=(_=g.layoutManager)!==null&&_!==void 0?_:new Fl,this.layoutManager.performLayout({type:i_,target:this,targets:[...x],x:g.left,y:g.top})}canEnterGroup(x){return x===this||this.isDescendantOf(x)?($O("error","Group: circular object trees are not supported, this call has no effect"),!1):this._objects.indexOf(x)===-1||($O("error","Group: duplicate objects are not supported inside group, this call has no effect"),!1)}_filterObjectsBeforeEnteringGroup(x){return x.filter((g,_,O)=>this.canEnterGroup(g)&&O.indexOf(g)===_)}add(){for(var x=arguments.length,g=new Array(x),_=0;_<x;_++)g[_]=arguments[_];let O=this._filterObjectsBeforeEnteringGroup(g),l=super.add(...O);return this._onAfterObjectsChange(CW,O),l}insertAt(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];let l=this._filterObjectsBeforeEnteringGroup(_),G=super.insertAt(x,...l);return this._onAfterObjectsChange(CW,l),G}remove(){let x=super.remove(...arguments);return this._onAfterObjectsChange(_3,x),x}_onObjectAdded(x){this.enterGroup(x,!0),this.fire("object:added",{target:x}),x.fire("added",{target:this})}_onObjectRemoved(x,g){this.exitGroup(x,g),this.fire("object:removed",{target:x}),x.fire("removed",{target:this})}_onAfterObjectsChange(x,g){this.layoutManager.performLayout({type:x,targets:g,target:this})}_onStackOrderChanged(){this._set("dirty",!0)}_set(x,g){let _=this[x];return super._set(x,g),x==="canvas"&&_!==g&&(this._objects||[]).forEach((O)=>{O._set(x,g)}),this}_shouldSetNestedCoords(){return this.subTargetCheck}removeAll(){return this._activeObjects=[],this.remove(...this._objects)}__objectSelectionMonitor(x,g){let{target:_}=g,O=this._activeObjects;if(x)O.push(_),this._set("dirty",!0);else if(O.length>0){let l=O.indexOf(_);l>-1&&(O.splice(l,1),this._set("dirty",!0))}}_watchObject(x,g){x&&this._watchObject(!1,g),x?(g.on("selected",this.__objectSelectionTracker),g.on("deselected",this.__objectSelectionDisposer)):(g.off("selected",this.__objectSelectionTracker),g.off("deselected",this.__objectSelectionDisposer))}enterGroup(x,g){x.group&&x.group.remove(x),x._set("parent",this),this._enterGroup(x,g)}_enterGroup(x,g){g&&Xl(x,l0(Wg(this.calcTransformMatrix()),x.calcTransformMatrix())),this._shouldSetNestedCoords()&&x.setCoords(),x._set("group",this),x._set("canvas",this.canvas),this._watchObject(!0,x);let _=this.canvas&&this.canvas.getActiveObject&&this.canvas.getActiveObject();_&&(_===x||x.isDescendantOf(_))&&this._activeObjects.push(x)}exitGroup(x,g){this._exitGroup(x,g),x._set("parent",void 0),x._set("canvas",void 0)}_exitGroup(x,g){x._set("group",void 0),g||(Xl(x,l0(this.calcTransformMatrix(),x.calcTransformMatrix())),x.setCoords()),this._watchObject(!1,x);let _=this._activeObjects.length>0?this._activeObjects.indexOf(x):-1;_>-1&&this._activeObjects.splice(_,1)}shouldCache(){let x=L0.prototype.shouldCache.call(this);if(x){for(let g=0;g<this._objects.length;g++)if(this._objects[g].willDrawShadow())return this.ownCaching=!1,!1}return x}willDrawShadow(){if(super.willDrawShadow())return!0;for(let x=0;x<this._objects.length;x++)if(this._objects[x].willDrawShadow())return!0;return!1}isOnACache(){return this.ownCaching||!!this.parent&&this.parent.isOnACache()}drawObject(x,g,_){this._renderBackground(x);for(let l=0;l<this._objects.length;l++){var O;let G=this._objects[l];(O=this.canvas)!==null&&O!==void 0&&O.preserveObjectStacking&&G.group!==this?(x.save(),x.transform(...Wg(this.calcTransformMatrix())),G.render(x),x.restore()):G.group===this&&G.render(x)}this._drawClipPath(x,this.clipPath,_)}setCoords(){super.setCoords(),this._shouldSetNestedCoords()&&this.forEachObject((x)=>x.setCoords())}triggerLayout(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.layoutManager.performLayout(Z({target:this,type:qW},x))}render(x){this._transformDone=!0,super.render(x),this._transformDone=!1}__serializeObjects(x,g){let _=this.includeDefaultValues;return this._objects.filter(function(O){return!O.excludeFromExport}).map(function(O){let l=O.includeDefaultValues;O.includeDefaultValues=_;let G=O[x||"toObject"](g);return O.includeDefaultValues=l,G})}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=this.layoutManager.toObject();return Z(Z(Z({},super.toObject(["subTargetCheck","interactive",...x])),g.strategy!=="fit-content"||this.includeDefaultValues?{layoutManager:g}:{}),{},{objects:this.__serializeObjects("toObject",x)})}toString(){return"#<Group: (".concat(this.complexity(),")>")}dispose(){this.layoutManager.unsubscribeTargets({targets:this.getObjects(),target:this}),this._activeObjects=[],this.forEachObject((x)=>{this._watchObject(!1,x),x.dispose()}),super.dispose()}_createSVGBgRect(x){if(!this.backgroundColor)return"";let g=y_.prototype._toSVG.call(this),_=g.indexOf("COMMON_PARTS");g[_]='for="group" ';let O=g.join("");return x?x(O):O}_toSVG(x){let g=["<g ","COMMON_PARTS",` >
`],_=this._createSVGBgRect(x);_&&g.push("\t\t",_);for(let O=0;O<this._objects.length;O++)g.push("\t\t",this._objects[O].toSVG(x));return g.push(`</g>
`),g}getSvgStyles(){let x=this.opacity!==void 0&&this.opacity!==1?"opacity: ".concat(this.opacity,";"):"",g=this.visible?"":" visibility: hidden;";return[x,this.getSvgFilter(),g].join("")}toClipPathSVG(x){let g=[],_=this._createSVGBgRect(x);_&&g.push("\t",_);for(let O=0;O<this._objects.length;O++)g.push("\t",this._objects[O].toClipPathSVG(x));return this._createBaseClipPathSVGMarkup(g,{reviver:x})}static fromObject(x,g){let{type:_,objects:O=[],layoutManager:l}=x,G=ix(x,rX);return Promise.all([Ll(O,g),j9(G,g)]).then((p)=>{let[W,w]=p,o=new this(W,Z(Z(Z({},G),w),{},{layoutManager:new JM}));if(l){let v=_x.getClass(l.type),N=_x.getClass(l.strategy);o.layoutManager=new v(new N)}else o.layoutManager=new Fl;return o.layoutManager.subscribeTargets({type:i_,target:o,targets:o.getObjects()}),o.setCoords(),o})}}j(t_,"type","Group"),j(t_,"ownDefaults",{strokeWidth:0,subTargetCheck:!1,interactive:!1}),_x.setClass(t_);var iM=(x,g)=>Math.min(g.width/x.width,g.height/x.height),RM=(x,g)=>Math.max(g.width/x.width,g.height/x.height),Ky="\\s*,?\\s*",Y9="".concat(Ky,"(").concat($g,")"),UX="".concat(Y9).concat(Y9).concat(Y9).concat(Ky,"([01])").concat(Ky,"([01])").concat(Y9).concat(Y9),DX={m:"l",M:"L"},QX=(x,g,_,O,l,G,p,W,w,o,v)=>{let N=Hg(x),k=Pg(x),C=Hg(g),c=Pg(g),m=_*l*C-O*G*c+p,b=O*l*C+_*G*c+W;return["C",o+w*(-_*l*k-O*G*N),v+w*(-O*l*k+_*G*N),m+w*(_*l*c+O*G*C),b+w*(O*l*c-_*G*C),m,b]},U5=(x,g,_,O)=>{let l=Math.atan2(g,x),G=Math.atan2(O,_);return G>=l?G-l:2*Math.PI-(l-G)};function Vy(x,g,_,O,l,G,p,W){let w;if(hx.cachesBoundsOfCurve&&(w=[...arguments].join(),h9.boundsOfCurveCache[w]))return h9.boundsOfCurveCache[w];let{sqrt:o,abs:v}=Math,N=[],k=[[0,0],[0,0]],C=6*x-12*_+6*l,c=-3*x+9*_-9*l+3*p,m=3*_-3*x;for(let Y=0;Y<2;++Y){if(Y>0&&(C=6*g-12*O+6*G,c=-3*g+9*O-9*G+3*W,m=3*O-3*g),v(c)<0.000000000001){if(v(C)<0.000000000001)continue;let D=-m/C;0<D&&D<1&&N.push(D);continue}let K=C*C-4*m*c;if(K<0)continue;let h=o(K),V=(-C+h)/(2*c);0<V&&V<1&&N.push(V);let F=(-C-h)/(2*c);0<F&&F<1&&N.push(F)}let b=N.length,f=b,d=sM(x,g,_,O,l,G,p,W);for(;b--;){let{x:Y,y:K}=d(N[b]);k[0][b]=Y,k[1][b]=K}k[0][f]=x,k[1][f]=g,k[0][f+1]=p,k[1][f+1]=W;let M=[new E(Math.min(...k[0]),Math.min(...k[1])),new E(Math.max(...k[0]),Math.max(...k[1]))];return hx.cachesBoundsOfCurve&&(h9.boundsOfCurveCache[w]=M),M}var aX=(x,g,_)=>{let[O,l,G,p,W,w,o,v]=_,N=((k,C,c,m,b,f,d)=>{if(c===0||m===0)return[];let M=0,Y=0,K=0,h=Math.PI,V=d*Sy,F=Pg(V),D=Hg(V),U=0.5*(-D*k-F*C),Q=0.5*(-D*C+F*k),L=c**2,a=m**2,s=Q**2,u=U**2,B=L*a-L*s-a*u,P=Math.abs(c),i=Math.abs(m);if(B<0){let Mx=Math.sqrt(1-B/(L*a));P*=Mx,i*=Mx}else K=(b===f?-1:1)*Math.sqrt(B/(L*s+a*u));let lx=K*P*Q/i,J=-K*i*U/P,R=D*lx-F*J+0.5*k,r=F*lx+D*J+0.5*C,e=U5(1,0,(U-lx)/P,(Q-J)/i),Ox=U5((U-lx)/P,(Q-J)/i,(-U-lx)/P,(-Q-J)/i);f===0&&Ox>0?Ox-=2*h:f===1&&Ox<0&&(Ox+=2*h);let Nx=Math.ceil(Math.abs(Ox/h*2)),qx=[],ox=Ox/Nx,Cx=2.6666666666666665*Math.sin(ox/4)*Math.sin(ox/4)/Math.sin(ox/2),wx=e+ox;for(let Mx=0;Mx<Nx;Mx++)qx[Mx]=QX(e,wx,D,F,P,i,R,r,Cx,M,Y),M=qx[Mx][5],Y=qx[Mx][6],e=wx,wx+=ox;return qx})(o-x,v-g,l,G,W,w,p);for(let k=0,C=N.length;k<C;k++)N[k][1]+=x,N[k][2]+=g,N[k][3]+=x,N[k][4]+=g,N[k][5]+=x,N[k][6]+=g;return N},TM=(x)=>{let g=0,_=0,O=0,l=0,G=[],p,W=0,w=0;for(let o of x){let v=[...o],N;switch(v[0]){case"l":v[1]+=g,v[2]+=_;case"L":g=v[1],_=v[2],N=["L",g,_];break;case"h":v[1]+=g;case"H":g=v[1],N=["L",g,_];break;case"v":v[1]+=_;case"V":_=v[1],N=["L",g,_];break;case"m":v[1]+=g,v[2]+=_;case"M":g=v[1],_=v[2],O=v[1],l=v[2],N=["M",g,_];break;case"c":v[1]+=g,v[2]+=_,v[3]+=g,v[4]+=_,v[5]+=g,v[6]+=_;case"C":W=v[3],w=v[4],g=v[5],_=v[6],N=["C",v[1],v[2],W,w,g,_];break;case"s":v[1]+=g,v[2]+=_,v[3]+=g,v[4]+=_;case"S":p==="C"?(W=2*g-W,w=2*_-w):(W=g,w=_),g=v[3],_=v[4],N=["C",W,w,v[1],v[2],g,_],W=N[3],w=N[4];break;case"q":v[1]+=g,v[2]+=_,v[3]+=g,v[4]+=_;case"Q":W=v[1],w=v[2],g=v[3],_=v[4],N=["Q",W,w,g,_];break;case"t":v[1]+=g,v[2]+=_;case"T":p==="Q"?(W=2*g-W,w=2*_-w):(W=g,w=_),g=v[1],_=v[2],N=["Q",W,w,g,_];break;case"a":v[6]+=g,v[7]+=_;case"A":aX(g,_,v).forEach((k)=>G.push(k)),g=v[6],_=v[7];break;case"z":case"Z":g=O,_=l,N=["Z"]}N?(G.push(N),p=N[0]):p=""}return G},YW=(x,g,_,O)=>Math.sqrt((_-x)**2+(O-g)**2),sM=(x,g,_,O,l,G,p,W)=>(w)=>{let o=w**3,v=((C)=>3*C**2*(1-C))(w),N=((C)=>3*C*(1-C)**2)(w),k=((C)=>(1-C)**3)(w);return new E(p*o+l*v+_*N+x*k,W*o+G*v+O*N+g*k)},tM=(x)=>x**2,eM=(x)=>2*x*(1-x),xY=(x)=>(1-x)**2,EX=(x,g,_,O,l,G,p,W)=>(w)=>{let o=tM(w),v=eM(w),N=xY(w),k=3*(N*(_-x)+v*(l-_)+o*(p-l)),C=3*(N*(O-g)+v*(G-O)+o*(W-G));return Math.atan2(C,k)},nX=(x,g,_,O,l,G)=>(p)=>{let W=tM(p),w=eM(p),o=xY(p);return new E(l*W+_*w+x*o,G*W+O*w+g*o)},$X=(x,g,_,O,l,G)=>(p)=>{let W=1-p,w=2*(W*(_-x)+p*(l-_)),o=2*(W*(O-g)+p*(G-O));return Math.atan2(o,w)},D5=(x,g,_)=>{let O=new E(g,_),l=0;for(let G=1;G<=100;G+=1){let p=x(G/100);l+=YW(O.x,O.y,p.x,p.y),O=p}return l},BX=(x,g)=>{let _,O=0,l=0,G={x:x.x,y:x.y},p=Z({},G),W=0.01,w=0,o=x.iterator,v=x.angleFinder;for(;l<g&&W>0.0001;)p=o(O),w=O,_=YW(G.x,G.y,p.x,p.y),_+l>g?(O-=W,W/=2):(G=p,O+=W,l+=_);return Z(Z({},p),{},{angle:v(w)})},O3=(x)=>{let g,_,O=0,l=0,G=0,p=0,W=0,w=[];for(let o of x){let v={x:l,y:G,command:o[0],length:0};switch(o[0]){case"M":_=v,_.x=p=l=o[1],_.y=W=G=o[2];break;case"L":_=v,_.length=YW(l,G,o[1],o[2]),l=o[1],G=o[2];break;case"C":g=sM(l,G,o[1],o[2],o[3],o[4],o[5],o[6]),_=v,_.iterator=g,_.angleFinder=EX(l,G,o[1],o[2],o[3],o[4],o[5],o[6]),_.length=D5(g,l,G),l=o[5],G=o[6];break;case"Q":g=nX(l,G,o[1],o[2],o[3],o[4]),_=v,_.iterator=g,_.angleFinder=$X(l,G,o[1],o[2],o[3],o[4]),_.length=D5(g,l,G),l=o[3],G=o[4];break;case"Z":_=v,_.destX=p,_.destY=W,_.length=YW(l,G,p,W),l=p,G=W}O+=_.length,w.push(_)}return w.push({length:O,x:l,y:G}),w},gY=function(x,g){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O3(x),O=0;for(;g-_[O].length>0&&O<_.length-2;)g-=_[O].length,O++;let l=_[O],G=g/l.length,p=x[O];switch(l.command){case"M":return{x:l.x,y:l.y,angle:0};case"Z":return Z(Z({},new E(l.x,l.y).lerp(new E(l.destX,l.destY),G)),{},{angle:Math.atan2(l.destY-l.y,l.destX-l.x)});case"L":return Z(Z({},new E(l.x,l.y).lerp(new E(p[1],p[2]),G)),{},{angle:Math.atan2(p[2]-l.y,p[1]-l.x)});case"C":case"Q":return BX(l,g)}},HX=new RegExp("[mzlhvcsqta][^mzlhvcsqta]*","gi"),Q5=new RegExp(UX,"g"),PX=new RegExp($g,"gi"),JX={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},_Y=(x)=>{var g;let _=[],O=(g=x.match(HX))!==null&&g!==void 0?g:[];for(let l of O){let G=l[0];if(G==="z"||G==="Z"){_.push([G]);continue}let p=JX[G.toLowerCase()],W=[];if(G==="a"||G==="A"){Q5.lastIndex=0;for(let w=null;w=Q5.exec(l);)W.push(...w.slice(1))}else W=l.match(PX)||[];for(let w=0;w<W.length;w+=p){let o=new Array(p),v=DX[G];o[0]=w>0&&v?v:G;for(let N=0;N<p;N++)o[N+1]=parseFloat(W[w+N]);_.push(o)}}return _},iX=function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,_=new E(x[0]),O=new E(x[1]),l=1,G=0,p=[],W=x.length,w=W>2,o;for(w&&(l=x[2].x<O.x?-1:x[2].x===O.x?0:1,G=x[2].y<O.y?-1:x[2].y===O.y?0:1),p.push(["M",_.x-l*g,_.y-G*g]),o=1;o<W;o++){if(!_.eq(O)){let v=_.midPointFrom(O);p.push(["Q",_.x,_.y,v.x,v.y])}_=x[o],o+1<x.length&&(O=x[o+1])}return w&&(l=_.x>x[o-2].x?1:_.x===x[o-2].x?0:-1,G=_.y>x[o-2].y?1:_.y===x[o-2].y?0:-1),p.push(["L",_.x+l*g,_.y+G*g]),p},OY=(x,g)=>x.map((_)=>_.map((O,l)=>l===0||g===void 0?O:Jx(O,g)).join(" ")).join(" ");function fW(x,g){let _=x.style;_&&g&&(typeof g=="string"?_.cssText+=";"+g:Object.entries(g).forEach((O)=>{let[l,G]=O;return _.setProperty(l,G)}))}var RX=(x,g)=>Math.floor(Math.random()*(g-x+1))+x;function TX(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=g.onComplete||B6,O=new(bW()).XMLHttpRequest,l=g.signal,G=function(){O.abort()},p=function(){l&&l.removeEventListener("abort",G),O.onerror=O.ontimeout=B6};if(l&&l.aborted)throw new uy("request");return l&&l.addEventListener("abort",G,{once:!0}),O.onreadystatechange=function(){O.readyState===4&&(p(),_(O),O.onreadystatechange=B6)},O.onerror=O.ontimeout=p,O.open("get",x,!0),O.send(),O}var sX=(x,g)=>{let _=x._findCenterFromElement();x.transformMatrix&&(((O)=>{if(O.transformMatrix){let{scaleX:l,scaleY:G,angle:p,skewX:W}=Vl(O.transformMatrix);O.flipX=!1,O.flipY=!1,O.set(Q0,l),O.set(og,G),O.angle=p,O.skewX=W,O.skewY=0}})(x),_=_.transform(x.transformMatrix)),delete x.transformMatrix,g&&(x.scaleX*=g.scaleX,x.scaleY*=g.scaleY,x.cropX=g.cropX,x.cropY=g.cropY,_.x+=g.offsetLeft,_.y+=g.offsetTop,x.width=g.width,x.height=g.height),x.setPositionByOrigin(_,yx,yx)},zS=Object.freeze({__proto__:null,addTransformToObject:wM,animate:Ty,animateColor:mM,applyTransformToObject:Xl,calcAngleBetweenVectors:dW,calcDimensionsMatrix:Z9,calcPlaneChangeMatrix:U9,calcVectorRotation:CM,cancelAnimFrame:t5,capValue:P6,composeMatrix:OM,copyCanvasElement:(x)=>{var g;let _=Jg(x);return(g=_.getContext("2d"))===null||g===void 0||g.drawImage(x,0,0),_},cos:Hg,createCanvasElement:Xg,createImage:e5,createRotateMatrix:Zl,createScaleMatrix:LW,createSkewXMatrix:ay,createSkewYMatrix:Ey,createTranslateMatrix:Il,createVector:NW,crossProduct:hl,degreesToRadians:O0,dotProduct:qM,ease:eL,enlivenObjectEnlivables:j9,enlivenObjects:Ll,findScaleToCover:RM,findScaleToFit:iM,getBoundsOfCurve:Vy,getOrthonormalVector:Ry,getPathSegmentsInfo:O3,getPointOnPath:gY,getPointer:oM,getRandomInt:RX,getRegularPolygonPath:(x,g)=>{let _=2*Math.PI/x,O=-BO;x%2==0&&(O+=_/2);let l=new Array(x+1);for(let G=0;G<x;G++){let p=G*_+O,{x:W,y:w}=new E(Hg(p),Pg(p)).scalarMultiply(g);l[G]=[G===0?"M":"L",W,w]}return l[x]=["Z"],l},getSmoothPathFromPoints:iX,getSvgAttributes:(x)=>{let g=["instantiated_by_use","style","id","class"];switch(x){case"linearGradient":return g.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);case"radialGradient":return g.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);case"stop":return g.concat(["offset","stop-color","stop-opacity"])}return g},getUnitVector:uW,groupSVGElements:(x,g)=>x&&x.length===1?x[0]:new t_(x,g),hasStyleChanged:jW,invertTransform:Wg,isBetweenVectors:My,isIdentityMatrix:xM,isTouchEvent:vW,isTransparent:QM,joinPath:OY,loadImage:V9,magnitude:kW,makeBoundingBoxFromPoints:k_,makePathSimpler:TM,matrixToSVG:u9,mergeClipPaths:(x,g)=>{var _;let O=x,l=g;O.inverted&&!l.inverted&&(O=g,l=x),qy(l,(_=l.group)===null||_===void 0?void 0:_.calcTransformMatrix(),O.calcTransformMatrix());let G=O.inverted&&l.inverted;return G&&(O.inverted=l.inverted=!1),new t_([O],{clipPath:l,inverted:G})},multiplyTransformMatrices:l0,multiplyTransformMatrixArray:VW,parsePath:_Y,parsePreserveAspectRatioAttribute:lM,parseUnit:H6,pick:i6,projectStrokeOnPoints:aM,qrDecompose:Vl,radiansToDegrees:PO,removeFromArray:r6,removeTransformFromObject:(x,g)=>{let _=Wg(g),O=l0(_,x.calcOwnMatrix());Xl(x,O)},removeTransformMatrixForSvgParsing:sX,request:TX,requestAnimFrame:K9,resetObjectTransform:zM,rotatePoint:(x,g,_)=>x.rotate(_,g),rotateVector:iy,saveObjectTransform:By,sendObjectToPlane:qy,sendPointToPlane:T_,sendVectorToPlane:vM,setStyle:fW,sin:Pg,sizeAfterTransform:XW,string:yX,stylesFromArray:$M,stylesToArray:nM,toBlob:Qy,toDataURL:Dy,toFixed:Jx,transformPath:(x,g,_)=>(_&&(g=l0(g,[1,0,0,1,-_.x,-_.y])),x.map((O)=>{let l=[...O];for(let G=1;G<O.length-1;G+=2){let{x:p,y:W}=u0({x:O[G],y:O[G+1]},g);l[G]=p,l[G+1]=W}return l})),transformPoint:u0});class lY extends $y{constructor(x){let{allowTouchScrolling:g=!1,containerClass:_=""}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(x),j(this,"upper",void 0),j(this,"container",void 0);let{el:O}=this.lower,l=this.createUpperCanvas();this.upper={el:l,ctx:l.getContext("2d")},this.applyCanvasStyle(O,{allowTouchScrolling:g}),this.applyCanvasStyle(l,{allowTouchScrolling:g,styles:{position:"absolute",left:"0",top:"0"}});let G=this.createContainerElement();G.classList.add(_),O.parentNode&&O.parentNode.replaceChild(G,O),G.append(O,l),this.container=G}createUpperCanvas(){let{el:x}=this.lower,g=Xg();return g.className=x.className,g.classList.remove("lower-canvas"),g.classList.add("upper-canvas"),g.setAttribute("data-fabric","top"),g.style.cssText=x.style.cssText,g.setAttribute("draggable","true"),g}createContainerElement(){let x=Al().createElement("div");return x.setAttribute("data-fabric","wrapper"),fW(x,{position:"relative"}),c5(x),x}applyCanvasStyle(x,g){let{styles:_,allowTouchScrolling:O}=g;fW(x,Z(Z({},_),{},{"touch-action":O?"manipulation":i0})),c5(x)}setDimensions(x,g){super.setDimensions(x,g);let{el:_,ctx:O}=this.upper;WM(_,O,x,g)}setCSSDimensions(x){super.setCSSDimensions(x),dy(this.upper.el,x),dy(this.container,x)}cleanupDOM(x){let g=this.container,{el:_}=this.lower,{el:O}=this.upper;super.cleanupDOM(x),g.removeChild(O),g.removeChild(_),g.parentNode&&g.parentNode.replaceChild(_,g)}dispose(){super.dispose(),d_().dispose(this.upper.el),delete this.upper,delete this.container}}class rW extends r9{constructor(){super(...arguments),j(this,"targets",[]),j(this,"_hoveredTargets",[]),j(this,"_objectsToRender",void 0),j(this,"_currentTransform",null),j(this,"_groupSelector",null),j(this,"contextTopDirty",!1)}static getDefaults(){return Z(Z({},super.getDefaults()),rW.ownDefaults)}get upperCanvasEl(){var x;return(x=this.elements.upper)===null||x===void 0?void 0:x.el}get contextTop(){var x;return(x=this.elements.upper)===null||x===void 0?void 0:x.ctx}get wrapperEl(){return this.elements.container}initElements(x){this.elements=new lY(x,{allowTouchScrolling:this.allowTouchScrolling,containerClass:this.containerClass}),this._createCacheCanvas()}_onObjectAdded(x){this._objectsToRender=void 0,super._onObjectAdded(x)}_onObjectRemoved(x){this._objectsToRender=void 0,x===this._activeObject&&(this.fire("before:selection:cleared",{deselected:[x]}),this._discardActiveObject(),this.fire("selection:cleared",{deselected:[x]}),x.fire("deselected",{target:x})),x===this._hoveredTarget&&(this._hoveredTarget=void 0,this._hoveredTargets=[]),super._onObjectRemoved(x)}_onStackOrderChanged(){this._objectsToRender=void 0,super._onStackOrderChanged()}_chooseObjectsToRender(){let x=this._activeObject;return!this.preserveObjectStacking&&x?this._objects.filter((g)=>!g.group&&g!==x).concat(x):this._objects}renderAll(){this.cancelRequestedRender(),this.destroyed||(!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1),!this._objectsToRender&&(this._objectsToRender=this._chooseObjectsToRender()),this.renderCanvas(this.getContext(),this._objectsToRender))}renderTopLayer(x){x.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(x),this.contextTopDirty=!0),x.restore()}renderTop(){let x=this.contextTop;this.clearContext(x),this.renderTopLayer(x),this.fire("after:render",{ctx:x})}setTargetFindTolerance(x){x=Math.round(x),this.targetFindTolerance=x;let g=this.getRetinaScaling(),_=Math.ceil((2*x+1)*g);this.pixelFindCanvasEl.width=this.pixelFindCanvasEl.height=_,this.pixelFindContext.scale(g,g)}isTargetTransparent(x,g,_){let O=this.targetFindTolerance,l=this.pixelFindContext;this.clearContext(l),l.save(),l.translate(-g+O,-_+O),l.transform(...this.viewportTransform);let G=x.selectionBackgroundColor;x.selectionBackgroundColor="",x.render(l),x.selectionBackgroundColor=G,l.restore();let p=Math.round(O*this.getRetinaScaling());return QM(l,p,p,p)}_isSelectionKeyPressed(x){let g=this.selectionKey;return!!g&&(Array.isArray(g)?!!g.find((_)=>!!_&&x[_]===!0):x[g])}_shouldClearSelection(x,g){let _=this.getActiveObjects(),O=this._activeObject;return!!(!g||g&&O&&_.length>1&&_.indexOf(g)===-1&&O!==g&&!this._isSelectionKeyPressed(x)||g&&!g.evented||g&&!g.selectable&&O&&O!==g)}_shouldCenterTransform(x,g,_){if(!x)return;let O;return g===KW||g===Q0||g===og||g===A9?O=this.centeredScaling||x.centeredScaling:g===jy&&(O=this.centeredRotation||x.centeredRotation),O?!_:_}_getOriginFromCorner(x,g){let _={x:x.originX,y:x.originY};return g?(["ml","tl","bl"].includes(g)?_.x=W0:["mr","tr","br"].includes(g)&&(_.x=Ax),["tl","mt","tr"].includes(g)?_.y=ky:["bl","mb","br"].includes(g)&&(_.y=J0),_):_}_setupCurrentTransform(x,g,_){var O;let l=g.group?T_(this.getScenePoint(x),void 0,g.group.calcTransformMatrix()):this.getScenePoint(x),{key:G="",control:p}=g.getActiveControl()||{},W=_&&p?(O=p.getActionHandler(x,g,p))===null||O===void 0?void 0:O.bind(p):kM,w=((k,C,c,m)=>{if(!C||!k)return"drag";let b=m.controls[C];return b.getActionName(c,b,m)})(_,G,x,g),o=x[this.centeredKey],v=this._shouldCenterTransform(g,w,o)?{x:yx,y:yx}:this._getOriginFromCorner(g,G),N={target:g,action:w,actionHandler:W,actionPerformed:!1,corner:G,scaleX:g.scaleX,scaleY:g.scaleY,skewX:g.skewX,skewY:g.skewY,offsetX:l.x-g.left,offsetY:l.y-g.top,originX:v.x,originY:v.y,ex:l.x,ey:l.y,lastX:l.x,lastY:l.y,theta:O0(g.angle),width:g.width,height:g.height,shiftKey:x.shiftKey,altKey:o,original:Z(Z({},By(g)),{},{originX:v.x,originY:v.y})};this._currentTransform=N,this.fire("before:transform",{e:x,transform:N})}setCursor(x){this.upperCanvasEl.style.cursor=x}_drawSelection(x){let{x:g,y:_,deltaX:O,deltaY:l}=this._groupSelector,G=new E(g,_).transform(this.viewportTransform),p=new E(g+O,_+l).transform(this.viewportTransform),W=this.selectionLineWidth/2,w=Math.min(G.x,p.x),o=Math.min(G.y,p.y),v=Math.max(G.x,p.x),N=Math.max(G.y,p.y);this.selectionColor&&(x.fillStyle=this.selectionColor,x.fillRect(w,o,v-w,N-o)),this.selectionLineWidth&&this.selectionBorderColor&&(x.lineWidth=this.selectionLineWidth,x.strokeStyle=this.selectionBorderColor,w+=W,o+=W,v-=W,N-=W,L0.prototype._setLineDash.call(this,x,this.selectionDashArray),x.strokeRect(w,o,v-w,N-o))}findTarget(x){if(this.skipTargetFind)return;let g=this.getViewportPoint(x),_=this._activeObject,O=this.getActiveObjects();if(this.targets=[],_&&O.length>=1){if(_.findControl(g,vW(x)))return _;if(O.length>1&&this.searchPossibleTargets([_],g))return _;if(_===this.searchPossibleTargets([_],g)){if(this.preserveObjectStacking){let l=this.targets;this.targets=[];let G=this.searchPossibleTargets(this._objects,g);return x[this.altSelectionKey]&&G&&G!==_?(this.targets=l,_):G}return _}}return this.searchPossibleTargets(this._objects,g)}_pointIsInObjectSelectionArea(x,g){let _=x.getCoords(),O=this.getZoom(),l=x.padding/O;if(l){let[G,p,W,w]=_,o=Math.atan2(p.y-G.y,p.x-G.x),v=Hg(o)*l,N=Pg(o)*l,k=v+N,C=v-N;_=[new E(G.x-C,G.y-k),new E(p.x+k,p.y-C),new E(W.x+C,W.y+k),new E(w.x-k,w.y+C)]}return ex.isPointInPolygon(g,_)}_checkTarget(x,g){if(x&&x.visible&&x.evented&&this._pointIsInObjectSelectionArea(x,T_(g,void 0,this.viewportTransform))){if(!this.perPixelTargetFind&&!x.perPixelTargetFind||x.isEditing)return!0;if(!this.isTargetTransparent(x,g.x,g.y))return!0}return!1}_searchPossibleTargets(x,g){let _=x.length;for(;_--;){let O=x[_];if(this._checkTarget(O,g)){if(pW(O)&&O.subTargetCheck){let l=this._searchPossibleTargets(O._objects,g);l&&this.targets.push(l)}return O}}}searchPossibleTargets(x,g){let _=this._searchPossibleTargets(x,g);if(_&&pW(_)&&_.interactive&&this.targets[0]){let O=this.targets;for(let l=O.length-1;l>0;l--){let G=O[l];if(!pW(G)||!G.interactive)return G}return O[0]}return _}getViewportPoint(x){return this._pointer?this._pointer:this.getPointer(x,!0)}getScenePoint(x){return this._absolutePointer?this._absolutePointer:this.getPointer(x)}getPointer(x){let g=arguments.length>1&&arguments[1]!==void 0&&arguments[1],_=this.upperCanvasEl,O=_.getBoundingClientRect(),l=oM(x),G=O.width||0,p=O.height||0;G&&p||((J0 in O)&&(ky in O)&&(p=Math.abs(O.top-O.bottom)),(W0 in O)&&(Ax in O)&&(G=Math.abs(O.right-O.left))),this.calcOffset(),l.x=l.x-this._offset.left,l.y=l.y-this._offset.top,g||(l=T_(l,void 0,this.viewportTransform));let W=this.getRetinaScaling();W!==1&&(l.x/=W,l.y/=W);let w=G===0||p===0?new E(1,1):new E(_.width/G,_.height/p);return l.multiply(w)}_setDimensionsImpl(x,g){this._resetTransformEventData(),super._setDimensionsImpl(x,g),this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop)}_createCacheCanvas(){this.pixelFindCanvasEl=Xg(),this.pixelFindContext=this.pixelFindCanvasEl.getContext("2d",{willReadFrequently:!0}),this.setTargetFindTolerance(this.targetFindTolerance)}getTopContext(){return this.elements.upper.ctx}getSelectionContext(){return this.elements.upper.ctx}getSelectionElement(){return this.elements.upper.el}getActiveObject(){return this._activeObject}getActiveObjects(){let x=this._activeObject;return U6(x)?x.getObjects():x?[x]:[]}_fireSelectionEvents(x,g){let _=!1,O=!1,l=this.getActiveObjects(),G=[],p=[];x.forEach((W)=>{l.includes(W)||(_=!0,W.fire("deselected",{e:g,target:W}),p.push(W))}),l.forEach((W)=>{x.includes(W)||(_=!0,W.fire("selected",{e:g,target:W}),G.push(W))}),x.length>0&&l.length>0?(O=!0,_&&this.fire("selection:updated",{e:g,selected:G,deselected:p})):l.length>0?(O=!0,this.fire("selection:created",{e:g,selected:G})):x.length>0&&(O=!0,this.fire("selection:cleared",{e:g,deselected:p})),O&&(this._objectsToRender=void 0)}setActiveObject(x,g){let _=this.getActiveObjects(),O=this._setActiveObject(x,g);return this._fireSelectionEvents(_,g),O}_setActiveObject(x,g){let _=this._activeObject;return _!==x&&(!(!this._discardActiveObject(g,x)&&this._activeObject)&&(!x.onSelect({e:g})&&(this._activeObject=x,U6(x)&&_!==x&&x.set("canvas",this),x.setCoords(),!0)))}_discardActiveObject(x,g){let _=this._activeObject;return!!_&&(!_.onDeselect({e:x,object:g})&&(this._currentTransform&&this._currentTransform.target===_&&this.endCurrentTransform(x),U6(_)&&_===this._hoveredTarget&&(this._hoveredTarget=void 0),this._activeObject=void 0,!0))}discardActiveObject(x){let g=this.getActiveObjects(),_=this.getActiveObject();g.length&&this.fire("before:selection:cleared",{e:x,deselected:[_]});let O=this._discardActiveObject(x);return this._fireSelectionEvents(g,x),O}endCurrentTransform(x){let g=this._currentTransform;this._finalizeCurrentTransform(x),g&&g.target&&(g.target.isMoving=!1),this._currentTransform=null}_finalizeCurrentTransform(x){let g=this._currentTransform,_=g.target,O={e:x,target:_,transform:g,action:g.action};_._scaling&&(_._scaling=!1),_.setCoords(),g.actionPerformed&&(this.fire("object:modified",O),_.fire(wW,O))}setViewportTransform(x){super.setViewportTransform(x);let g=this._activeObject;g&&g.setCoords()}destroy(){let x=this._activeObject;U6(x)&&(x.removeAll(),x.dispose()),delete this._activeObject,super.destroy(),this.pixelFindContext=null,this.pixelFindCanvasEl=void 0}clear(){this.discardActiveObject(),this._activeObject=void 0,this.clearContext(this.contextTop),super.clear()}drawControls(x){let g=this._activeObject;g&&g._renderControls(x)}_toObject(x,g,_){let O=this._realizeGroupTransformOnObject(x),l=super._toObject(x,g,_);return x.set(O),l}_realizeGroupTransformOnObject(x){let{group:g}=x;if(g&&U6(g)&&this._activeObject===g){let _=i6(x,["angle","flipX","flipY",Ax,Q0,og,ul,Sl,J0]);return wM(x,g.calcOwnMatrix()),_}return{}}_setSVGObject(x,g,_){let O=this._realizeGroupTransformOnObject(g);super._setSVGObject(x,g,_),g.set(O)}}j(rW,"ownDefaults",{uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",selection:!0,selectionKey:"shiftKey",selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,enablePointerEvents:!1,containerClass:"canvas-container",preserveObjectStacking:!1});class GY{constructor(x){j(this,"targets",[]),j(this,"__disposer",void 0);let g=()=>{let{hiddenTextarea:O}=x.getActiveObject()||{};O&&O.focus()},_=x.upperCanvasEl;_.addEventListener("click",g),this.__disposer=()=>_.removeEventListener("click",g)}exitTextEditing(){this.target=void 0,this.targets.forEach((x)=>{x.isEditing&&x.exitEditing()})}add(x){this.targets.push(x)}remove(x){this.unregister(x),r6(this.targets,x)}register(x){this.target=x}unregister(x){x===this.target&&(this.target=void 0)}onMouseMove(x){var g;((g=this.target)===null||g===void 0?void 0:g.isEditing)&&this.target.updateSelectionOnMouseMove(x)}clear(){this.targets=[],this.target=void 0}dispose(){this.clear(),this.__disposer(),delete this.__disposer}}var tX=["target","oldTarget","fireCanvas","e"],pg={passive:!1},pl=(x,g)=>{let _=x.getViewportPoint(g),O=x.getScenePoint(g);return{viewportPoint:_,scenePoint:O,pointer:_,absolutePointer:O}},EO=function(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return x.addEventListener(..._)},Vg=function(x){for(var g=arguments.length,_=new Array(g>1?g-1:0),O=1;O<g;O++)_[O-1]=arguments[O];return x.removeEventListener(..._)},eX={mouse:{in:"over",out:"out",targetIn:"mouseover",targetOut:"mouseout",canvasIn:"mouse:over",canvasOut:"mouse:out"},drag:{in:"enter",out:"leave",targetIn:"dragenter",targetOut:"dragleave",canvasIn:"drag:enter",canvasOut:"drag:leave"}};class J6 extends rW{constructor(x){super(x,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}),j(this,"_isClick",void 0),j(this,"textEditingManager",new GY(this)),["_onMouseDown","_onTouchStart","_onMouseMove","_onMouseUp","_onTouchEnd","_onResize","_onMouseWheel","_onMouseOut","_onMouseEnter","_onContextMenu","_onDoubleClick","_onDragStart","_onDragEnd","_onDragProgress","_onDragOver","_onDragEnter","_onDragLeave","_onDrop"].forEach((g)=>{this[g]=this[g].bind(this)}),this.addOrRemove(EO,"add")}_getEventPrefix(){return this.enablePointerEvents?"pointer":"mouse"}addOrRemove(x,g){let _=this.upperCanvasEl,O=this._getEventPrefix();x(pM(_),"resize",this._onResize),x(_,O+"down",this._onMouseDown),x(_,"".concat(O,"move"),this._onMouseMove,pg),x(_,"".concat(O,"out"),this._onMouseOut),x(_,"".concat(O,"enter"),this._onMouseEnter),x(_,"wheel",this._onMouseWheel),x(_,"contextmenu",this._onContextMenu),x(_,"dblclick",this._onDoubleClick),x(_,"dragstart",this._onDragStart),x(_,"dragend",this._onDragEnd),x(_,"dragover",this._onDragOver),x(_,"dragenter",this._onDragEnter),x(_,"dragleave",this._onDragLeave),x(_,"drop",this._onDrop),this.enablePointerEvents||x(_,"touchstart",this._onTouchStart,pg)}removeListeners(){this.addOrRemove(Vg,"remove");let x=this._getEventPrefix(),g=Eg(this.upperCanvasEl);Vg(g,"".concat(x,"up"),this._onMouseUp),Vg(g,"touchend",this._onTouchEnd,pg),Vg(g,"".concat(x,"move"),this._onMouseMove,pg),Vg(g,"touchmove",this._onMouseMove,pg),clearTimeout(this._willAddMouseDown)}_onMouseWheel(x){this.__onMouseWheel(x)}_onMouseOut(x){let g=this._hoveredTarget,_=Z({e:x},pl(this,x));this.fire("mouse:out",Z(Z({},_),{},{target:g})),this._hoveredTarget=void 0,g&&g.fire("mouseout",Z({},_)),this._hoveredTargets.forEach((O)=>{this.fire("mouse:out",Z(Z({},_),{},{target:O})),O&&O.fire("mouseout",Z({},_))}),this._hoveredTargets=[]}_onMouseEnter(x){this._currentTransform||this.findTarget(x)||(this.fire("mouse:over",Z({e:x},pl(this,x))),this._hoveredTarget=void 0,this._hoveredTargets=[])}_onDragStart(x){this._isClick=!1;let g=this.getActiveObject();if(g&&g.onDragStart(x)){this._dragSource=g;let _={e:x,target:g};return this.fire("dragstart",_),g.fire("dragstart",_),void EO(this.upperCanvasEl,"drag",this._onDragProgress)}Cy(x)}_renderDragEffects(x,g,_){let O=!1,l=this._dropTarget;l&&l!==g&&l!==_&&(l.clearContextTop(),O=!0),g==null||g.clearContextTop(),_!==g&&(_==null||_.clearContextTop());let G=this.contextTop;G.save(),G.transform(...this.viewportTransform),g&&(G.save(),g.transform(G),g.renderDragSourceEffect(x),G.restore(),O=!0),_&&(G.save(),_.transform(G),_.renderDropTargetEffect(x),G.restore(),O=!0),G.restore(),O&&(this.contextTopDirty=!0)}_onDragEnd(x){let g=!!x.dataTransfer&&x.dataTransfer.dropEffect!==i0,_=g?this._activeObject:void 0,O={e:x,target:this._dragSource,subTargets:this.targets,dragSource:this._dragSource,didDrop:g,dropTarget:_};Vg(this.upperCanvasEl,"drag",this._onDragProgress),this.fire("dragend",O),this._dragSource&&this._dragSource.fire("dragend",O),delete this._dragSource,this._onMouseUp(x)}_onDragProgress(x){let g={e:x,target:this._dragSource,dragSource:this._dragSource,dropTarget:this._draggedoverTarget};this.fire("drag",g),this._dragSource&&this._dragSource.fire("drag",g)}findDragTargets(x){return this.targets=[],{target:this._searchPossibleTargets(this._objects,this.getViewportPoint(x)),targets:[...this.targets]}}_onDragOver(x){let{target:_,targets:O}=this.findDragTargets(x),l=this._dragSource,G={e:x,target:_,subTargets:O,dragSource:l,canDrop:!1,dropTarget:void 0},p;this.fire("dragover",G),this._fireEnterLeaveEvents(_,G),_&&(_.canDrop(x)&&(p=_),_.fire("dragover",G));for(let W=0;W<O.length;W++){let w=O[W];w.canDrop(x)&&(p=w),w.fire("dragover",G)}this._renderDragEffects(x,l,p),this._dropTarget=p}_onDragEnter(x){let{target:g,targets:_}=this.findDragTargets(x),O={e:x,target:g,subTargets:_,dragSource:this._dragSource};this.fire("dragenter",O),this._fireEnterLeaveEvents(g,O)}_onDragLeave(x){let g={e:x,target:this._draggedoverTarget,subTargets:this.targets,dragSource:this._dragSource};this.fire("dragleave",g),this._fireEnterLeaveEvents(void 0,g),this._renderDragEffects(x,this._dragSource),this._dropTarget=void 0,this.targets=[],this._hoveredTargets=[]}_onDrop(x){let{target:g,targets:_}=this.findDragTargets(x),O=this._basicEventHandler("drop:before",Z({e:x,target:g,subTargets:_,dragSource:this._dragSource},pl(this,x)));O.didDrop=!1,O.dropTarget=void 0,this._basicEventHandler("drop",O),this.fire("drop:after",O)}_onContextMenu(x){let g=this.findTarget(x),_=this.targets||[],O=this._basicEventHandler("contextmenu:before",{e:x,target:g,subTargets:_});return this.stopContextMenu&&Cy(x),this._basicEventHandler("contextmenu",O),!1}_onDoubleClick(x){this._cacheTransformEventData(x),this._handleEvent(x,"dblclick"),this._resetTransformEventData()}getPointerId(x){let g=x.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?x.pointerId:-1}_isMainEvent(x){return x.isPrimary===!0||x.isPrimary!==!1&&(x.type==="touchend"&&x.touches.length===0||(!x.changedTouches||x.changedTouches[0].identifier===this.mainTouchId))}_onTouchStart(x){let g=!this.allowTouchScrolling,_=this._activeObject;this.mainTouchId===void 0&&(this.mainTouchId=this.getPointerId(x)),this.__onMouseDown(x),(this.isDrawingMode||_&&this._target===_)&&(g=!0),g&&x.preventDefault(),this._resetTransformEventData();let O=this.upperCanvasEl,l=this._getEventPrefix(),G=Eg(O);EO(G,"touchend",this._onTouchEnd,pg),g&&EO(G,"touchmove",this._onMouseMove,pg),Vg(O,"".concat(l,"down"),this._onMouseDown)}_onMouseDown(x){this.__onMouseDown(x),this._resetTransformEventData();let g=this.upperCanvasEl,_=this._getEventPrefix();Vg(g,"".concat(_,"move"),this._onMouseMove,pg);let O=Eg(g);EO(O,"".concat(_,"up"),this._onMouseUp),EO(O,"".concat(_,"move"),this._onMouseMove,pg)}_onTouchEnd(x){if(x.touches.length>0)return;this.__onMouseUp(x),this._resetTransformEventData(),delete this.mainTouchId;let g=this._getEventPrefix(),_=Eg(this.upperCanvasEl);Vg(_,"touchend",this._onTouchEnd,pg),Vg(_,"touchmove",this._onMouseMove,pg),this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(()=>{EO(this.upperCanvasEl,"".concat(g,"down"),this._onMouseDown),this._willAddMouseDown=0},400)}_onMouseUp(x){this.__onMouseUp(x),this._resetTransformEventData();let g=this.upperCanvasEl,_=this._getEventPrefix();if(this._isMainEvent(x)){let O=Eg(this.upperCanvasEl);Vg(O,"".concat(_,"up"),this._onMouseUp),Vg(O,"".concat(_,"move"),this._onMouseMove,pg),EO(g,"".concat(_,"move"),this._onMouseMove,pg)}}_onMouseMove(x){let g=this.getActiveObject();!this.allowTouchScrolling&&(!g||!g.shouldStartDragging(x))&&x.preventDefault&&x.preventDefault(),this.__onMouseMove(x)}_onResize(){this.calcOffset(),this._resetTransformEventData()}_shouldRender(x){let g=this.getActiveObject();return!!g!=!!x||g&&x&&g!==x}__onMouseUp(x){var g;this._cacheTransformEventData(x),this._handleEvent(x,"up:before");let _=this._currentTransform,O=this._isClick,l=this._target,{button:G}=x;if(G)return(this.fireMiddleClick&&G===1||this.fireRightClick&&G===2)&&this._handleEvent(x,"up"),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)return void this._onMouseUpInDrawingMode(x);if(!this._isMainEvent(x))return;let p,W,w=!1;if(_&&(this._finalizeCurrentTransform(x),w=_.actionPerformed),!O){let o=l===this._activeObject;this.handleSelection(x),w||(w=this._shouldRender(l)||!o&&l===this._activeObject)}if(l){let o=l.findControl(this.getViewportPoint(x),vW(x)),{key:v,control:N}=o||{};if(W=v,l.selectable&&l!==this._activeObject&&l.activeOn==="up")this.setActiveObject(l,x),w=!0;else if(N){let k=N.getMouseUpHandler(x,l,N);k&&(p=this.getScenePoint(x),k.call(N,x,_,p.x,p.y))}l.isMoving=!1}if(_&&(_.target!==l||_.corner!==W)){let o=_.target&&_.target.controls[_.corner],v=o&&o.getMouseUpHandler(x,_.target,o);p=p||this.getScenePoint(x),v&&v.call(o,x,_,p.x,p.y)}this._setCursorFromEvent(x,l),this._handleEvent(x,"up"),this._groupSelector=null,this._currentTransform=null,l&&(l.__corner=void 0),w?this.requestRenderAll():O||(g=this._activeObject)!==null&&g!==void 0&&g.isEditing||this.renderTop()}_basicEventHandler(x,g){let{target:_,subTargets:O=[]}=g;this.fire(x,g),_&&_.fire(x,g);for(let l=0;l<O.length;l++)O[l]!==_&&O[l].fire(x,g);return g}_handleEvent(x,g){let _=this._target,O=this.targets||[],l=Z(Z({e:x,target:_,subTargets:O},pl(this,x)),{},{transform:this._currentTransform},g==="up:before"||g==="up"?{isClick:this._isClick,currentTarget:this.findTarget(x),currentSubTargets:this.targets}:{});this.fire("mouse:".concat(g),l),_&&_.fire("mouse".concat(g),l);for(let G=0;G<O.length;G++)O[G]!==_&&O[G].fire("mouse".concat(g),l)}_onMouseDownInDrawingMode(x){this._isCurrentlyDrawing=!0,this.getActiveObject()&&(this.discardActiveObject(x),this.requestRenderAll());let g=this.getScenePoint(x);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseDown(g,{e:x,pointer:g}),this._handleEvent(x,"down")}_onMouseMoveInDrawingMode(x){if(this._isCurrentlyDrawing){let g=this.getScenePoint(x);this.freeDrawingBrush&&this.freeDrawingBrush.onMouseMove(g,{e:x,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(x,"move")}_onMouseUpInDrawingMode(x){let g=this.getScenePoint(x);this.freeDrawingBrush?this._isCurrentlyDrawing=!!this.freeDrawingBrush.onMouseUp({e:x,pointer:g}):this._isCurrentlyDrawing=!1,this._handleEvent(x,"up")}__onMouseDown(x){this._isClick=!0,this._cacheTransformEventData(x),this._handleEvent(x,"down:before");let g=this._target,{button:_}=x;if(_)return(this.fireMiddleClick&&_===1||this.fireRightClick&&_===2)&&this._handleEvent(x,"down"),void this._resetTransformEventData();if(this.isDrawingMode)return void this._onMouseDownInDrawingMode(x);if(!this._isMainEvent(x))return;if(this._currentTransform)return;let O=this._shouldRender(g),l=!1;if(this.handleMultiSelection(x,g)?(g=this._activeObject,l=!0,O=!0):this._shouldClearSelection(x,g)&&this.discardActiveObject(x),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)){let G=this.getScenePoint(x);this._groupSelector={x:G.x,y:G.y,deltaY:0,deltaX:0}}if(g){let G=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,x);let p=g.findControl(this.getViewportPoint(x),vW(x));if(g===this._activeObject&&(p||!l)){this._setupCurrentTransform(x,g,G);let W=p?p.control:void 0,w=this.getScenePoint(x),o=W&&W.getMouseDownHandler(x,g,W);o&&o.call(W,x,this._currentTransform,w.x,w.y)}}O&&(this._objectsToRender=void 0),this._handleEvent(x,"down"),O&&this.requestRenderAll()}_resetTransformEventData(){this._target=this._pointer=this._absolutePointer=void 0}_cacheTransformEventData(x){this._resetTransformEventData(),this._pointer=this.getViewportPoint(x),this._absolutePointer=T_(this._pointer,void 0,this.viewportTransform),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(x)}__onMouseMove(x){if(this._isClick=!1,this._cacheTransformEventData(x),this._handleEvent(x,"move:before"),this.isDrawingMode)return void this._onMouseMoveInDrawingMode(x);if(!this._isMainEvent(x))return;let g=this._groupSelector;if(g){let _=this.getScenePoint(x);g.deltaX=_.x-g.x,g.deltaY=_.y-g.y,this.renderTop()}else if(this._currentTransform)this._transformObject(x);else{let _=this.findTarget(x);this._setCursorFromEvent(x,_),this._fireOverOutEvents(x,_)}this.textEditingManager.onMouseMove(x),this._handleEvent(x,"move"),this._resetTransformEventData()}_fireOverOutEvents(x,g){let _=this._hoveredTarget,O=this._hoveredTargets,l=this.targets,G=Math.max(O.length,l.length);this.fireSyntheticInOutEvents("mouse",{e:x,target:g,oldTarget:_,fireCanvas:!0});for(let p=0;p<G;p++)this.fireSyntheticInOutEvents("mouse",{e:x,target:l[p],oldTarget:O[p]});this._hoveredTarget=g,this._hoveredTargets=this.targets.concat()}_fireEnterLeaveEvents(x,g){let _=this._draggedoverTarget,O=this._hoveredTargets,l=this.targets,G=Math.max(O.length,l.length);this.fireSyntheticInOutEvents("drag",Z(Z({},g),{},{target:x,oldTarget:_,fireCanvas:!0}));for(let p=0;p<G;p++)this.fireSyntheticInOutEvents("drag",Z(Z({},g),{},{target:l[p],oldTarget:O[p]}));this._draggedoverTarget=x}fireSyntheticInOutEvents(x,g){let{target:_,oldTarget:O,fireCanvas:l,e:G}=g,p=ix(g,tX),{targetIn:W,targetOut:w,canvasIn:o,canvasOut:v}=eX[x],N=O!==_;if(O&&N){let k=Z(Z({},p),{},{e:G,target:O,nextTarget:_},pl(this,G));l&&this.fire(v,k),O.fire(w,k)}if(_&&N){let k=Z(Z({},p),{},{e:G,target:_,previousTarget:O},pl(this,G));l&&this.fire(o,k),_.fire(W,k)}}__onMouseWheel(x){this._cacheTransformEventData(x),this._handleEvent(x,"wheel"),this._resetTransformEventData()}_transformObject(x){let g=this.getScenePoint(x),_=this._currentTransform,O=_.target,l=O.group?T_(g,void 0,O.group.calcTransformMatrix()):g;_.shiftKey=x.shiftKey,_.altKey=!!this.centeredKey&&x[this.centeredKey],this._performTransformAction(x,_,l),_.actionPerformed&&this.requestRenderAll()}_performTransformAction(x,g,_){let{action:O,actionHandler:l,target:G}=g,p=!!l&&l(x,g,_.x,_.y);p&&G.setCoords(),O==="drag"&&p&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||p}_setCursorFromEvent(x,g){if(!g)return void this.setCursor(this.defaultCursor);let _=g.hoverCursor||this.hoverCursor,O=U6(this._activeObject)?this._activeObject:null,l=(!O||g.group!==O)&&g.findControl(this.getViewportPoint(x));if(l){let G=l.control;this.setCursor(G.cursorStyleHandler(x,G,g))}else g.subTargetCheck&&this.targets.concat().reverse().map((G)=>{_=G.hoverCursor||_}),this.setCursor(_)}handleMultiSelection(x,g){let _=this._activeObject,O=U6(_);if(_&&this._isSelectionKeyPressed(x)&&this.selection&&g&&g.selectable&&(_!==g||O)&&(O||!g.isDescendantOf(_)&&!_.isDescendantOf(g))&&!g.onSelect({e:x})&&!_.getActiveControl()){if(O){let l=_.getObjects();if(g===_){let G=this.getViewportPoint(x);if(!(g=this.searchPossibleTargets(l,G)||this.searchPossibleTargets(this._objects,G))||!g.selectable)return!1}g.group===_?(_.remove(g),this._hoveredTarget=g,this._hoveredTargets=[...this.targets],_.size()===1&&this._setActiveObject(_.item(0),x)):(_.multiSelectAdd(g),this._hoveredTarget=_,this._hoveredTargets=[...this.targets]),this._fireSelectionEvents(l,x)}else{_.isEditing&&_.exitEditing();let l=new(_x.getClass("ActiveSelection"))([],{canvas:this});l.multiSelectAdd(_,g),this._hoveredTarget=l,this._setActiveObject(l,x),this._fireSelectionEvents([_],x)}return!0}return!1}handleSelection(x){if(!this.selection||!this._groupSelector)return!1;let{x:g,y:_,deltaX:O,deltaY:l}=this._groupSelector,G=new E(g,_),p=G.add(new E(O,l)),W=G.min(p),w=G.max(p).subtract(W),o=this.collectObjects({left:W.x,top:W.y,width:w.x,height:w.y},{includeIntersecting:!this.selectionFullyContained}),v=G.eq(p)?o[0]?[o[0]]:[]:o.length>1?o.filter((N)=>!N.onSelect({e:x})).reverse():o;if(v.length===1)this.setActiveObject(v[0],x);else if(v.length>1){let N=_x.getClass("ActiveSelection");this.setActiveObject(new N(v,{canvas:this}),x)}return this._groupSelector=null,!0}clear(){this.textEditingManager.clear(),super.clear()}destroy(){this.removeListeners(),this.textEditingManager.dispose(),super.destroy()}}var pY={x1:0,y1:0,x2:0,y2:0},xF=Z(Z({},pY),{},{r1:0,r2:0}),ol=(x,g)=>isNaN(x)&&typeof g=="number"?g:x,gF=/^(\d+\.\d+)%|(\d+)%$/;function WY(x){return x&&gF.test(x)}function oY(x,g){let _=typeof x=="number"?x:typeof x=="string"?parseFloat(x)/(WY(x)?100:1):NaN;return P6(0,ol(_,g),1)}var _F=/\s*;\s*/,OF=/\s*:\s*/;function lF(x,g){let _,O,l=x.getAttribute("style");if(l){let p=l.split(_F);p[p.length-1]===""&&p.pop();for(let W=p.length;W--;){let[w,o]=p[W].split(OF).map((v)=>v.trim());w==="stop-color"?_=o:w==="stop-opacity"&&(O=o)}}let G=new Sx(_||x.getAttribute("stop-color")||"rgb(0,0,0)");return{offset:oY(x.getAttribute("offset"),0),color:G.toRgb(),opacity:ol(parseFloat(O||x.getAttribute("stop-opacity")||""),1)*G.getAlpha()*g}}function GF(x,g){let _=[],O=x.getElementsByTagName("stop"),l=oY(g,1);for(let G=O.length;G--;)_.push(lF(O[G],l));return _}function wY(x){return x.nodeName==="linearGradient"||x.nodeName==="LINEARGRADIENT"?"linear":"radial"}function zY(x){return x.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage"}function Qg(x,g){return x.getAttribute(g)}function pF(x,g){return function(_,O){let l,{width:G,height:p,gradientUnits:W}=O;return Object.keys(_).reduce((w,o)=>{let v=_[o];return v==="Infinity"?l=1:v==="-Infinity"?l=0:(l=typeof v=="string"?parseFloat(v):v,typeof v=="string"&&WY(v)&&(l*=0.01,W==="pixels"&&(o!=="x1"&&o!=="x2"&&o!=="r2"||(l*=G),o!=="y1"&&o!=="y2"||(l*=p)))),w[o]=l,w},{})}(wY(x)==="linear"?function(_){return{x1:Qg(_,"x1")||0,y1:Qg(_,"y1")||0,x2:Qg(_,"x2")||"100%",y2:Qg(_,"y2")||0}}(x):function(_){return{x1:Qg(_,"fx")||Qg(_,"cx")||"50%",y1:Qg(_,"fy")||Qg(_,"cy")||"50%",r1:0,x2:Qg(_,"cx")||"50%",y2:Qg(_,"cy")||"50%",r2:Qg(_,"r")||"50%"}}(x),Z(Z({},g),{},{gradientUnits:zY(x)}))}class m9{constructor(x){let{type:g="linear",gradientUnits:_="pixels",coords:O={},colorStops:l=[],offsetX:G=0,offsetY:p=0,gradientTransform:W,id:w}=x||{};Object.assign(this,{type:g,gradientUnits:_,coords:Z(Z({},g==="radial"?xF:pY),O),colorStops:l,offsetX:G,offsetY:p,gradientTransform:W,id:w?"".concat(w,"_").concat(HO()):HO()})}addColorStop(x){for(let g in x){let _=new Sx(x[g]);this.colorStops.push({offset:parseFloat(g),color:_.toRgb(),opacity:_.getAlpha()})}return this}toObject(x){return Z(Z({},i6(this,x)),{},{type:this.type,coords:Z({},this.coords),colorStops:this.colorStops.map((g)=>Z({},g)),offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?[...this.gradientTransform]:void 0})}toSVG(x){let{additionalTransform:g}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=[],O=this.gradientTransform?this.gradientTransform.concat():D0.concat(),l=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox",G=this.colorStops.map((v)=>Z({},v)).sort((v,N)=>v.offset-N.offset),p=-this.offsetX,W=-this.offsetY;var w;l==="objectBoundingBox"?(p/=x.width,W/=x.height):(p+=x.width/2,W+=x.height/2),(w=x)&&typeof w._renderPathCommands=="function"&&this.gradientUnits!=="percentage"&&(p-=x.pathOffset.x,W-=x.pathOffset.y),O[4]-=p,O[5]-=W;let o=['id="SVGID_'.concat(this.id,'"'),'gradientUnits="'.concat(l,'"'),'gradientTransform="'.concat(g?g+" ":"").concat(u9(O),'"'),""].join(" ");if(this.type==="linear"){let{x1:v,y1:N,x2:k,y2:C}=this.coords;_.push("<linearGradient ",o,' x1="',v,'" y1="',N,'" x2="',k,'" y2="',C,`">
`)}else if(this.type==="radial"){let{x1:v,y1:N,x2:k,y2:C,r1:c,r2:m}=this.coords,b=c>m;_.push("<radialGradient ",o,' cx="',b?v:k,'" cy="',b?N:C,'" r="',b?c:m,'" fx="',b?k:v,'" fy="',b?C:N,`">
`),b&&(G.reverse(),G.forEach((d)=>{d.offset=1-d.offset}));let f=Math.min(c,m);if(f>0){let d=f/Math.max(c,m);G.forEach((M)=>{M.offset+=d*(1-M.offset)})}}return G.forEach((v)=>{let{color:N,offset:k,opacity:C}=v;_.push("<stop ",'offset="',100*k+"%",'" style="stop-color:',N,C!==void 0?";stop-opacity: "+C:";",`"/>
`)}),_.push(this.type==="linear"?"</linearGradient>":"</radialGradient>",`
`),_.join("")}toLive(x){let{x1:g,y1:_,x2:O,y2:l,r1:G,r2:p}=this.coords,W=this.type==="linear"?x.createLinearGradient(g,_,O,l):x.createRadialGradient(g,_,G,O,l,p);return this.colorStops.forEach((w)=>{let{color:o,opacity:v,offset:N}=w;W.addColorStop(N,v!==void 0?new Sx(o).setAlpha(v).toRgba():o)}),W}static async fromObject(x){let{colorStops:g,gradientTransform:_}=x;return new this(Z(Z({},x),{},{colorStops:g?g.map((O)=>Z({},O)):void 0,gradientTransform:_?[..._]:void 0}))}static fromElement(x,g,_){let O=zY(x),l=g._findCenterFromElement();return new this(Z({id:x.getAttribute("id")||void 0,type:wY(x),coords:pF(x,{width:_.viewBoxWidth||_.width,height:_.viewBoxHeight||_.height}),colorStops:GF(x,_.opacity),gradientUnits:O,gradientTransform:hy(x.getAttribute("gradientTransform")||"")},O==="pixels"?{offsetX:g.width/2-l.x,offsetY:g.height/2-l.y}:{offsetX:0,offsetY:0}))}}j(m9,"type","Gradient"),_x.setClass(m9,"gradient"),_x.setClass(m9,"linear"),_x.setClass(m9,"radial");var WF=["type","source","patternTransform"];class WW{get type(){return"pattern"}set type(x){$O("warn","Setting type has no effect",x)}constructor(x){j(this,"repeat","repeat"),j(this,"offsetX",0),j(this,"offsetY",0),j(this,"crossOrigin",""),this.id=HO(),Object.assign(this,x)}isImageSource(){return!!this.source&&typeof this.source.src=="string"}isCanvasSource(){return!!this.source&&!!this.source.toDataURL}sourceToString(){return this.isImageSource()?this.source.src:this.isCanvasSource()?this.source.toDataURL():""}toLive(x){return this.source&&(!this.isImageSource()||this.source.complete&&this.source.naturalWidth!==0&&this.source.naturalHeight!==0)?x.createPattern(this.source,this.repeat):null}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{repeat:g,crossOrigin:_}=this;return Z(Z({},i6(this,x)),{},{type:"pattern",source:this.sourceToString(),repeat:g,crossOrigin:_,offsetX:Jx(this.offsetX,hx.NUM_FRACTION_DIGITS),offsetY:Jx(this.offsetY,hx.NUM_FRACTION_DIGITS),patternTransform:this.patternTransform?[...this.patternTransform]:null})}toSVG(x){let{width:g,height:_}=x,{source:O,repeat:l,id:G}=this,p=ol(this.offsetX/g,0),W=ol(this.offsetY/_,0),w=l==="repeat-y"||l==="no-repeat"?1+Math.abs(p||0):ol(O.width/g,0),o=l==="repeat-x"||l==="no-repeat"?1+Math.abs(W||0):ol(O.height/_,0);return['<pattern id="SVGID_'.concat(G,'" x="').concat(p,'" y="').concat(W,'" width="').concat(w,'" height="').concat(o,'">'),'<image x="0" y="0" width="'.concat(O.width,'" height="').concat(O.height,'" xlink:href="').concat(this.sourceToString(),'"></image>'),"</pattern>",""].join(`
`)}static async fromObject(x,g){let{type:_,source:O,patternTransform:l}=x,G=ix(x,WF),p=await V9(O,Z(Z({},g),{},{crossOrigin:G.crossOrigin}));return new this(Z(Z({},G),{},{patternTransform:l&&l.slice(0),source:p}))}}j(WW,"type","Pattern"),_x.setClass(WW),_x.setClass(WW,"pattern");var oF=["path","left","top"],wF=["d"];class D6 extends L0{constructor(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{path:_,left:O,top:l}=g,G=ix(g,oF);super(),Object.assign(this,D6.ownDefaults),this.setOptions(G),this._setPath(x||[],!0),typeof O=="number"&&this.set(Ax,O),typeof l=="number"&&this.set(J0,l)}_setPath(x,g){this.path=TM(Array.isArray(x)?x:_Y(x)),this.setBoundingBox(g)}_findCenterFromElement(){let x=this._calcBoundsFromPath();return new E(x.left+x.width/2,x.top+x.height/2)}_renderPathCommands(x){let g=-this.pathOffset.x,_=-this.pathOffset.y;x.beginPath();for(let O of this.path)switch(O[0]){case"L":x.lineTo(O[1]+g,O[2]+_);break;case"M":x.moveTo(O[1]+g,O[2]+_);break;case"C":x.bezierCurveTo(O[1]+g,O[2]+_,O[3]+g,O[4]+_,O[5]+g,O[6]+_);break;case"Q":x.quadraticCurveTo(O[1]+g,O[2]+_,O[3]+g,O[4]+_);break;case"Z":x.closePath()}}_render(x){this._renderPathCommands(x),this._renderPaintInOrder(x)}toString(){return"#<Path (".concat(this.complexity(),'): { "top": ').concat(this.top,', "left": ').concat(this.left," }>")}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z(Z({},super.toObject(x)),{},{path:this.path.map((g)=>g.slice())})}toDatalessObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=this.toObject(x);return this.sourcePath&&(delete g.path,g.sourcePath=this.sourcePath),g}_toSVG(){let x=OY(this.path,hx.NUM_FRACTION_DIGITS);return["<path ","COMMON_PARTS",'d="'.concat(x,`" stroke-linecap="round" />
`)]}_getOffsetTransform(){let x=hx.NUM_FRACTION_DIGITS;return" translate(".concat(Jx(-this.pathOffset.x,x),", ").concat(Jx(-this.pathOffset.y,x),")")}toClipPathSVG(x){let g=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:x,additionalTransform:g})}toSVG(x){let g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:x,additionalTransform:g})}complexity(){return this.path.length}setDimensions(){this.setBoundingBox()}setBoundingBox(x){let{width:g,height:_,pathOffset:O}=this._calcDimensions();this.set({width:g,height:_,pathOffset:O}),x&&this.setPositionByOrigin(O,yx,yx)}_calcBoundsFromPath(){let x=[],g=0,_=0,O=0,l=0;for(let G of this.path)switch(G[0]){case"L":O=G[1],l=G[2],x.push({x:g,y:_},{x:O,y:l});break;case"M":O=G[1],l=G[2],g=O,_=l;break;case"C":x.push(...Vy(O,l,G[1],G[2],G[3],G[4],G[5],G[6])),O=G[5],l=G[6];break;case"Q":x.push(...Vy(O,l,G[1],G[2],G[1],G[2],G[3],G[4])),O=G[3],l=G[4];break;case"Z":O=g,l=_}return k_(x)}_calcDimensions(){let x=this._calcBoundsFromPath();return Z(Z({},x),{},{pathOffset:new E(x.left+x.width/2,x.top+x.height/2)})}static fromObject(x){return this._fromObject(x,{extraParam:"path"})}static async fromElement(x,g,_){let O=gO(x,this.ATTRIBUTE_NAMES,_),{d:l}=O;return new this(l,Z(Z(Z({},ix(O,wF)),g),{},{left:void 0,top:void 0}))}}j(D6,"type","Path"),j(D6,"cacheProperties",[...xO,"path","fillRule"]),j(D6,"ATTRIBUTE_NAMES",[...RO,"d"]),_x.setClass(D6),_x.setSVGClass(D6);var zF=["left","top","radius"],vY=["radius","startAngle","endAngle","counterClockwise"];class P_ extends L0{static getDefaults(){return Z(Z({},super.getDefaults()),P_.ownDefaults)}constructor(x){super(),Object.assign(this,P_.ownDefaults),this.setOptions(x)}_set(x,g){return super._set(x,g),x==="radius"&&this.setRadius(g),this}_render(x){x.beginPath(),x.arc(0,0,this.radius,O0(this.startAngle),O0(this.endAngle),this.counterClockwise),this._renderPaintInOrder(x)}getRadiusX(){return this.get("radius")*this.get(Q0)}getRadiusY(){return this.get("radius")*this.get(og)}setRadius(x){this.radius=x,this.set({width:2*x,height:2*x})}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...vY,...x])}_toSVG(){let x=(this.endAngle-this.startAngle)%360;if(x===0)return["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',"".concat(this.radius),`" />
`];{let{radius:g}=this,_=O0(this.startAngle),O=O0(this.endAngle),l=Hg(_)*g,G=Pg(_)*g,p=Hg(O)*g,W=Pg(O)*g,w=x>180?1:0,o=this.counterClockwise?0:1;return['<path d="M '.concat(l," ").concat(G," A ").concat(g," ").concat(g," 0 ").concat(w," ").concat(o," ").concat(p," ").concat(W,'" '),"COMMON_PARTS",` />
`]}}static async fromElement(x,g,_){let O=gO(x,this.ATTRIBUTE_NAMES,_),{left:l=0,top:G=0,radius:p=0}=O;return new this(Z(Z({},ix(O,zF)),{},{radius:p,left:l-p,top:G-p}))}static fromObject(x){return super._fromObject(x)}}j(P_,"type","Circle"),j(P_,"cacheProperties",[...xO,...vY]),j(P_,"ownDefaults",{radius:0,startAngle:0,endAngle:360,counterClockwise:!1}),j(P_,"ATTRIBUTE_NAMES",["cx","cy","r",...RO]),_x.setClass(P_),_x.setSVGClass(P_);var vF=["x1","y1","x2","y2"],yF=["x1","y1","x2","y2"],Ly=["x1","x2","y1","y2"];class Q6 extends L0{constructor(){let[x,g,_,O]=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,0],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,Q6.ownDefaults),this.setOptions(l),this.x1=x,this.x2=_,this.y1=g,this.y2=O,this._setWidthHeight();let{left:G,top:p}=l;typeof G=="number"&&this.set(Ax,G),typeof p=="number"&&this.set(J0,p)}_setWidthHeight(){let{x1:x,y1:g,x2:_,y2:O}=this;this.width=Math.abs(_-x),this.height=Math.abs(O-g);let{left:l,top:G,width:p,height:W}=k_([{x,y:g},{x:_,y:O}]),w=new E(l+p/2,G+W/2);this.setPositionByOrigin(w,yx,yx)}_set(x,g){return super._set(x,g),Ly.includes(x)&&this._setWidthHeight(),this}_render(x){x.beginPath();let g=this.calcLinePoints();x.moveTo(g.x1,g.y1),x.lineTo(g.x2,g.y2),x.lineWidth=this.strokeWidth;let _=x.strokeStyle;var O;Lg(this.stroke)?x.strokeStyle=this.stroke.toLive(x):x.strokeStyle=(O=this.stroke)!==null&&O!==void 0?O:x.fillStyle,this.stroke&&this._renderStroke(x),x.strokeStyle=_}_findCenterFromElement(){return new E((this.x1+this.x2)/2,(this.y1+this.y2)/2)}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z(Z({},super.toObject(x)),this.calcLinePoints())}_getNonTransformedDimensions(){let x=super._getNonTransformedDimensions();return this.strokeLineCap==="butt"&&(this.width===0&&(x.y-=this.strokeWidth),this.height===0&&(x.x-=this.strokeWidth)),x}calcLinePoints(){let{x1:x,x2:g,y1:_,y2:O,width:l,height:G}=this,p=x<=g?-1:1,W=_<=O?-1:1;return{x1:p*l/2,x2:p*-l/2,y1:W*G/2,y2:W*-G/2}}_toSVG(){let{x1:x,x2:g,y1:_,y2:O}=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="'.concat(x,'" y1="').concat(_,'" x2="').concat(g,'" y2="').concat(O,`" />
`)]}static async fromElement(x,g,_){let O=gO(x,this.ATTRIBUTE_NAMES,_),{x1:l=0,y1:G=0,x2:p=0,y2:W=0}=O;return new this([l,G,p,W],ix(O,vF))}static fromObject(x){let{x1:g,y1:_,x2:O,y2:l}=x,G=ix(x,yF);return this._fromObject(Z(Z({},G),{},{points:[g,_,O,l]}),{extraParam:"points"})}}j(Q6,"type","Line"),j(Q6,"cacheProperties",[...xO,...Ly]),j(Q6,"ATTRIBUTE_NAMES",RO.concat(Ly)),_x.setClass(Q6),_x.setSVGClass(Q6);class E6 extends L0{static getDefaults(){return Z(Z({},super.getDefaults()),E6.ownDefaults)}constructor(x){super(),Object.assign(this,E6.ownDefaults),this.setOptions(x)}_render(x){let g=this.width/2,_=this.height/2;x.beginPath(),x.moveTo(-g,_),x.lineTo(0,-_),x.lineTo(g,_),x.closePath(),this._renderPaintInOrder(x)}_toSVG(){let x=this.width/2,g=this.height/2;return["<polygon ","COMMON_PARTS",'points="',"".concat(-x," ").concat(g,",0 ").concat(-g,",").concat(x," ").concat(g),'" />']}}j(E6,"type","Triangle"),j(E6,"ownDefaults",{width:100,height:100}),_x.setClass(E6),_x.setSVGClass(E6);var yY=["rx","ry"];class J_ extends L0{static getDefaults(){return Z(Z({},super.getDefaults()),J_.ownDefaults)}constructor(x){super(),Object.assign(this,J_.ownDefaults),this.setOptions(x)}_set(x,g){switch(super._set(x,g),x){case"rx":this.rx=g,this.set("width",2*g);break;case"ry":this.ry=g,this.set("height",2*g)}return this}getRx(){return this.get("rx")*this.get(Q0)}getRy(){return this.get("ry")*this.get(og)}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject([...yY,...x])}_toSVG(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" rx="'.concat(this.rx,'" ry="').concat(this.ry,`" />
`)]}_render(x){x.beginPath(),x.save(),x.transform(1,0,0,this.ry/this.rx,0,0),x.arc(0,0,this.rx,0,e_,!1),x.restore(),this._renderPaintInOrder(x)}static async fromElement(x,g,_){let O=gO(x,this.ATTRIBUTE_NAMES,_);return O.left=(O.left||0)-O.rx,O.top=(O.top||0)-O.ry,new this(O)}}function NF(x){if(!x)return[];let g=x.replace(/,/g," ").trim().split(/\s+/),_=[];for(let O=0;O<g.length;O+=2)_.push({x:parseFloat(g[O]),y:parseFloat(g[O+1])});return _}j(J_,"type","Ellipse"),j(J_,"cacheProperties",[...xO,...yY]),j(J_,"ownDefaults",{rx:0,ry:0}),j(J_,"ATTRIBUTE_NAMES",[...RO,"cx","cy","rx","ry"]),_x.setClass(J_),_x.setSVGClass(J_);var kF=["left","top"],NY={exactBoundingBox:!1};class ag extends L0{static getDefaults(){return Z(Z({},super.getDefaults()),ag.ownDefaults)}constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),j(this,"strokeDiff",void 0),Object.assign(this,ag.ownDefaults),this.setOptions(g),this.points=x;let{left:_,top:O}=g;this.initialized=!0,this.setBoundingBox(!0),typeof _=="number"&&this.set(Ax,_),typeof O=="number"&&this.set(J0,O)}isOpen(){return!0}_projectStrokeOnPoints(x){return aM(this.points,x,this.isOpen())}_calcDimensions(x){x=Z({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:this.strokeMiterLimit,strokeUniform:this.strokeUniform,strokeWidth:this.strokeWidth},x||{});let g=this.exactBoundingBox?this._projectStrokeOnPoints(x).map((w)=>w.projectedPoint):this.points;if(g.length===0)return{left:0,top:0,width:0,height:0,pathOffset:new E,strokeOffset:new E,strokeDiff:new E};let _=k_(g),O=Z9(Z(Z({},x),{},{scaleX:1,scaleY:1})),l=k_(this.points.map((w)=>u0(w,O,!0))),G=new E(this.scaleX,this.scaleY),p=_.left+_.width/2,W=_.top+_.height/2;return this.exactBoundingBox&&(p-=W*Math.tan(O0(this.skewX)),W-=p*Math.tan(O0(this.skewY))),Z(Z({},_),{},{pathOffset:new E(p,W),strokeOffset:new E(l.left,l.top).subtract(new E(_.left,_.top)).multiply(G),strokeDiff:new E(_.width,_.height).subtract(new E(l.width,l.height)).multiply(G)})}_findCenterFromElement(){let x=k_(this.points);return new E(x.left+x.width/2,x.top+x.height/2)}setDimensions(){this.setBoundingBox()}setBoundingBox(x){let{left:g,top:_,width:O,height:l,pathOffset:G,strokeOffset:p,strokeDiff:W}=this._calcDimensions();this.set({width:O,height:l,pathOffset:G,strokeOffset:p,strokeDiff:W}),x&&this.setPositionByOrigin(new E(g+O/2,_+l/2),yx,yx)}isStrokeAccountedForInDimensions(){return this.exactBoundingBox}_getNonTransformedDimensions(){return this.exactBoundingBox?new E(this.width,this.height):super._getNonTransformedDimensions()}_getTransformedDimensions(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.exactBoundingBox){let G;if(Object.keys(x).some((p)=>this.strokeUniform||this.constructor.layoutProperties.includes(p))){var g,_;let{width:p,height:W}=this._calcDimensions(x);G=new E((g=x.width)!==null&&g!==void 0?g:p,(_=x.height)!==null&&_!==void 0?_:W)}else{var O,l;G=new E((O=x.width)!==null&&O!==void 0?O:this.width,(l=x.height)!==null&&l!==void 0?l:this.height)}return G.multiply(new E(x.scaleX||this.scaleX,x.scaleY||this.scaleY))}return super._getTransformedDimensions(x)}_set(x,g){let _=this.initialized&&this[x]!==g,O=super._set(x,g);return this.exactBoundingBox&&_&&((x===Q0||x===og)&&this.strokeUniform&&this.constructor.layoutProperties.includes("strokeUniform")||this.constructor.layoutProperties.includes(x))&&this.setDimensions(),O}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z(Z({},super.toObject(x)),{},{points:this.points.map((g)=>{let{x:_,y:O}=g;return{x:_,y:O}})})}_toSVG(){let x=[],g=this.pathOffset.x,_=this.pathOffset.y,O=hx.NUM_FRACTION_DIGITS;for(let l=0,G=this.points.length;l<G;l++)x.push(Jx(this.points[l].x-g,O),",",Jx(this.points[l].y-_,O)," ");return["<".concat(this.constructor.type.toLowerCase()," "),"COMMON_PARTS",'points="'.concat(x.join(""),`" />
`)]}_render(x){let g=this.points.length,_=this.pathOffset.x,O=this.pathOffset.y;if(g&&!isNaN(this.points[g-1].y)){x.beginPath(),x.moveTo(this.points[0].x-_,this.points[0].y-O);for(let l=0;l<g;l++){let G=this.points[l];x.lineTo(G.x-_,G.y-O)}!this.isOpen()&&x.closePath(),this._renderPaintInOrder(x)}}complexity(){return this.points.length}static async fromElement(x,g,_){return new this(NF(x.getAttribute("points")),Z(Z({},ix(gO(x,this.ATTRIBUTE_NAMES,_),kF)),g))}static fromObject(x){return this._fromObject(x,{extraParam:"points"})}}j(ag,"ownDefaults",NY),j(ag,"type","Polyline"),j(ag,"layoutProperties",[ul,Sl,"strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeWidth","strokeUniform","points"]),j(ag,"cacheProperties",[...xO,"points"]),j(ag,"ATTRIBUTE_NAMES",[...RO]),_x.setClass(ag),_x.setSVGClass(ag);class b9 extends ag{isOpen(){return!1}}j(b9,"ownDefaults",NY),j(b9,"type","Polygon"),_x.setClass(b9),_x.setSVGClass(b9);var kY=["fontSize","fontWeight","fontFamily","fontStyle"],dY=["underline","overline","linethrough"],CY=[...kY,"lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],qY=[...CY,...dY,"textBackgroundColor","direction"],dF=[...kY,...dY,R0,"strokeWidth",M0,"deltaY","textBackgroundColor"],CF={_reNewline:Zy,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:Ax,fontStyle:"normal",lineHeight:1.16,superscript:{size:0.6,baseline:-0.35},subscript:{size:0.6,baseline:0.11},textBackgroundColor:"",stroke:null,shadow:null,path:void 0,pathStartOffset:0,pathSide:Ax,pathAlign:"baseline",_fontSizeFraction:0.222,offsets:{underline:0.1,linethrough:-0.315,overline:-0.88},_fontSizeMult:1.13,charSpacing:0,deltaY:0,direction:"ltr",CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2},N_="justify",cW="justify-left",L9="justify-right",X9="justify-center";class l3 extends L0{isEmptyStyles(x){if(!this.styles)return!0;if(x!==void 0&&!this.styles[x])return!0;let g=x===void 0?this.styles:{line:this.styles[x]};for(let _ in g)for(let O in g[_])for(let l in g[_][O])return!1;return!0}styleHas(x,g){if(!this.styles)return!1;if(g!==void 0&&!this.styles[g])return!1;let _=g===void 0?this.styles:{0:this.styles[g]};for(let O in _)for(let l in _[O])if(_[O][l][x]!==void 0)return!0;return!1}cleanStyle(x){if(!this.styles)return!1;let g=this.styles,_,O,l=0,G=!0,p=0;for(let W in g){_=0;for(let w in g[W]){let o=g[W][w]||{};l++,o[x]!==void 0?(O?o[x]!==O&&(G=!1):O=o[x],o[x]===this[x]&&delete o[x]):G=!1,Object.keys(o).length!==0?_++:delete g[W][w]}_===0&&delete g[W]}for(let W=0;W<this._textLines.length;W++)p+=this._textLines[W].length;G&&l===p&&(this[x]=O,this.removeStyle(x))}removeStyle(x){if(!this.styles)return;let g=this.styles,_,O,l;for(O in g){for(l in _=g[O],_)delete _[l][x],Object.keys(_[l]).length===0&&delete _[l];Object.keys(_).length===0&&delete g[O]}}_extendStyles(x,g){let{lineIndex:_,charIndex:O}=this.get2DCursorLocation(x);this._getLineStyle(_)||this._setLineStyle(_);let l=ny(Z(Z({},this._getStyleDeclaration(_,O)),g),(G)=>G!==void 0);this._setStyleDeclaration(_,O,l)}getSelectionStyles(x,g,_){let O=[];for(let l=x;l<(g||x);l++)O.push(this.getStyleAtPosition(l,_));return O}getStyleAtPosition(x,g){let{lineIndex:_,charIndex:O}=this.get2DCursorLocation(x);return g?this.getCompleteStyleDeclaration(_,O):this._getStyleDeclaration(_,O)}setSelectionStyles(x,g,_){for(let O=g;O<(_||g);O++)this._extendStyles(O,x);this._forceClearCache=!0}_getStyleDeclaration(x,g){var _;let O=this.styles&&this.styles[x];return O&&(_=O[g])!==null&&_!==void 0?_:{}}getCompleteStyleDeclaration(x,g){return Z(Z({},i6(this,this.constructor._styleProperties)),this._getStyleDeclaration(x,g))}_setStyleDeclaration(x,g,_){this.styles[x][g]=_}_deleteStyleDeclaration(x,g){delete this.styles[x][g]}_getLineStyle(x){return!!this.styles[x]}_setLineStyle(x){this.styles[x]={}}_deleteLineStyle(x){delete this.styles[x]}}j(l3,"_styleProperties",dF);var qF=/  +/g,MF=/"/g;function Wy(x,g,_,O,l){return"\t\t".concat(function(G,p){let{left:W,top:w,width:o,height:v}=p,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hx.NUM_FRACTION_DIGITS,k=S9(M0,G,!1),[C,c,m,b]=[W,w,o,v].map((f)=>Jx(f,N));return"<rect ".concat(k,' x="').concat(C,'" y="').concat(c,'" width="').concat(m,'" height="').concat(b,'"></rect>')}(x,{left:g,top:_,width:O,height:l}),`
`)}var YF=["textAnchor","textDecoration","dx","dy","top","left","fontSize","strokeWidth"],oy;class r0 extends l3{static getDefaults(){return Z(Z({},super.getDefaults()),r0.ownDefaults)}constructor(x,g){super(),j(this,"__charBounds",[]),Object.assign(this,r0.ownDefaults),this.setOptions(g),this.styles||(this.styles={}),this.text=x,this.initialized=!0,this.path&&this.setPathInfo(),this.initDimensions(),this.setCoords()}setPathInfo(){let x=this.path;x&&(x.segmentsInfo=O3(x.path))}_splitText(){let x=this._splitTextIntoLines(this.text);return this.textLines=x.lines,this._textLines=x.graphemeLines,this._unwrappedTextLines=x._unwrappedLines,this._text=x.graphemeText,x}initDimensions(){this._splitText(),this._clearCache(),this.dirty=!0,this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.includes(N_)&&this.enlargeSpaces()}enlargeSpaces(){let x,g,_,O,l,G,p;for(let W=0,w=this._textLines.length;W<w;W++)if((this.textAlign===N_||W!==w-1&&!this.isEndOfWrapping(W))&&(O=0,l=this._textLines[W],g=this.getLineWidth(W),g<this.width&&(p=this.textLines[W].match(this._reSpacesAndTabs)))){_=p.length,x=(this.width-g)/_;for(let o=0;o<=l.length;o++)G=this.__charBounds[W][o],this._reSpaceAndTab.test(l[o])?(G.width+=x,G.kernedWidth+=x,G.left+=O,O+=x):G.left+=O}}isEndOfWrapping(x){return x===this._textLines.length-1}missingNewlineOffset(x){return 1}get2DCursorLocation(x,g){let _=g?this._unwrappedTextLines:this._textLines,O;for(O=0;O<_.length;O++){if(x<=_[O].length)return{lineIndex:O,charIndex:x};x-=_[O].length+this.missingNewlineOffset(O,g)}return{lineIndex:O-1,charIndex:_[O-1].length<x?_[O-1].length:x}}toString(){return"#<Text (".concat(this.complexity(),'): { "text": "').concat(this.text,'", "fontFamily": "').concat(this.fontFamily,'" }>')}_getCacheCanvasDimensions(){let x=super._getCacheCanvasDimensions(),g=this.fontSize;return x.width+=g*x.zoomX,x.height+=g*x.zoomY,x}_render(x){let g=this.path;g&&!g.isNotVisible()&&g._render(x),this._setTextStyles(x),this._renderTextLinesBackground(x),this._renderTextDecoration(x,"underline"),this._renderText(x),this._renderTextDecoration(x,"overline"),this._renderTextDecoration(x,"linethrough")}_renderText(x){this.paintFirst===R0?(this._renderTextStroke(x),this._renderTextFill(x)):(this._renderTextFill(x),this._renderTextStroke(x))}_setTextStyles(x,g,_){if(x.textBaseline="alphabetic",this.path)switch(this.pathAlign){case yx:x.textBaseline="middle";break;case"ascender":x.textBaseline=J0;break;case"descender":x.textBaseline=ky}x.font=this._getFontDeclaration(g,_)}calcTextWidth(){let x=this.getLineWidth(0);for(let g=1,_=this._textLines.length;g<_;g++){let O=this.getLineWidth(g);O>x&&(x=O)}return x}_renderTextLine(x,g,_,O,l,G){this._renderChars(x,g,_,O,l,G)}_renderTextLinesBackground(x){if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))return;let g=x.fillStyle,_=this._getLeftOffset(),O=this._getTopOffset();for(let l=0,G=this._textLines.length;l<G;l++){let p=this.getHeightOfLine(l);if(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",l)){O+=p;continue}let W=this._textLines[l].length,w=this._getLineLeftOffset(l),o,v,N=0,k=0,C=this.getValueOfPropertyAt(l,0,"textBackgroundColor");for(let c=0;c<W;c++){let m=this.__charBounds[l][c];v=this.getValueOfPropertyAt(l,c,"textBackgroundColor"),this.path?(x.save(),x.translate(m.renderLeft,m.renderTop),x.rotate(m.angle),x.fillStyle=v,v&&x.fillRect(-m.width/2,-p/this.lineHeight*(1-this._fontSizeFraction),m.width,p/this.lineHeight),x.restore()):v!==C?(o=_+w+k,this.direction==="rtl"&&(o=this.width-o-N),x.fillStyle=C,C&&x.fillRect(o,O,N,p/this.lineHeight),k=m.left,N=m.width,C=v):N+=m.kernedWidth}v&&!this.path&&(o=_+w+k,this.direction==="rtl"&&(o=this.width-o-N),x.fillStyle=v,x.fillRect(o,O,N,p/this.lineHeight)),O+=p}x.fillStyle=g,this._removeShadow(x)}_measureChar(x,g,_,O){let l=h9.getFontCache(g),G=this._getFontDeclaration(g),p=_+x,W=_&&G===this._getFontDeclaration(O),w=g.fontSize/this.CACHE_FONT_SIZE,o,v,N,k;if(_&&l[_]!==void 0&&(N=l[_]),l[x]!==void 0&&(k=o=l[x]),W&&l[p]!==void 0&&(v=l[p],k=v-N),o===void 0||N===void 0||v===void 0){let C=function(){if(!oy)oy=Jg({width:0,height:0}).getContext("2d");return oy}();this._setTextStyles(C,g,!0),o===void 0&&(k=o=C.measureText(x).width,l[x]=o),N===void 0&&W&&_&&(N=C.measureText(_).width,l[_]=N),W&&v===void 0&&(v=C.measureText(p).width,l[p]=v,k=v-N)}return{width:o*w,kernedWidth:k*w}}getHeightOfChar(x,g){return this.getValueOfPropertyAt(x,g,"fontSize")}measureLine(x){let g=this._measureLine(x);return this.charSpacing!==0&&(g.width-=this._getWidthOfCharSpacing()),g.width<0&&(g.width=0),g}_measureLine(x){let g,_,O=0,l=this.pathSide===W0,G=this.path,p=this._textLines[x],W=p.length,w=new Array(W);this.__charBounds[x]=w;for(let o=0;o<W;o++){let v=p[o];_=this._getGraphemeBox(v,x,o,g),w[o]=_,O+=_.kernedWidth,g=v}if(w[W]={left:_?_.left+_.width:0,width:0,kernedWidth:0,height:this.fontSize,deltaY:0},G&&G.segmentsInfo){let o=0,v=G.segmentsInfo[G.segmentsInfo.length-1].length;switch(this.textAlign){case Ax:o=l?v-O:0;break;case yx:o=(v-O)/2;break;case W0:o=l?0:v-O}o+=this.pathStartOffset*(l?-1:1);for(let N=l?W-1:0;l?N>=0:N<W;l?N--:N++)_=w[N],o>v?o%=v:o<0&&(o+=v),this._setGraphemeOnPath(o,_),o+=_.kernedWidth}return{width:O,numOfSpaces:0}}_setGraphemeOnPath(x,g){let _=x+g.kernedWidth/2,O=this.path,l=gY(O.path,_,O.segmentsInfo);g.renderLeft=l.x-O.pathOffset.x,g.renderTop=l.y-O.pathOffset.y,g.angle=l.angle+(this.pathSide===W0?Math.PI:0)}_getGraphemeBox(x,g,_,O,l){let G=this.getCompleteStyleDeclaration(g,_),p=O?this.getCompleteStyleDeclaration(g,_-1):{},W=this._measureChar(x,G,O,p),w,o=W.kernedWidth,v=W.width;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),v+=w,o+=w);let N={width:v,left:0,height:G.fontSize,kernedWidth:o,deltaY:G.deltaY};if(_>0&&!l){let k=this.__charBounds[g][_-1];N.left=k.left+k.width+W.kernedWidth-W.width}return N}getHeightOfLine(x){if(this.__lineHeights[x])return this.__lineHeights[x];let g=this.getHeightOfChar(x,0);for(let _=1,O=this._textLines[x].length;_<O;_++)g=Math.max(this.getHeightOfChar(x,_),g);return this.__lineHeights[x]=g*this.lineHeight*this._fontSizeMult}calcTextHeight(){let x,g=0;for(let _=0,O=this._textLines.length;_<O;_++)x=this.getHeightOfLine(_),g+=_===O-1?x/this.lineHeight:x;return g}_getLeftOffset(){return this.direction==="ltr"?-this.width/2:this.width/2}_getTopOffset(){return-this.height/2}_renderTextCommon(x,g){x.save();let _=0,O=this._getLeftOffset(),l=this._getTopOffset();for(let G=0,p=this._textLines.length;G<p;G++){let W=this.getHeightOfLine(G),w=W/this.lineHeight,o=this._getLineLeftOffset(G);this._renderTextLine(g,x,this._textLines[G],O+o,l+_+w,G),_+=W}x.restore()}_renderTextFill(x){(this.fill||this.styleHas(M0))&&this._renderTextCommon(x,"fillText")}_renderTextStroke(x){(this.stroke&&this.strokeWidth!==0||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(x),x.save(),this._setLineDash(x,this.strokeDashArray),x.beginPath(),this._renderTextCommon(x,"strokeText"),x.closePath(),x.restore())}_renderChars(x,g,_,O,l,G){let p=this.getHeightOfLine(G),W=this.textAlign.includes(N_),w=this.path,o=!W&&this.charSpacing===0&&this.isEmptyStyles(G)&&!w,v=this.direction==="ltr",N=this.direction==="ltr"?1:-1,k=g.direction,C,c,m,b,f,d="",M=0;if(g.save(),k!==this.direction&&(g.canvas.setAttribute("dir",v?"ltr":"rtl"),g.direction=v?"ltr":"rtl",g.textAlign=v?Ax:W0),l-=p*this._fontSizeFraction/this.lineHeight,o)return this._renderChar(x,g,G,0,_.join(""),O,l),void g.restore();for(let Y=0,K=_.length-1;Y<=K;Y++)b=Y===K||this.charSpacing||w,d+=_[Y],m=this.__charBounds[G][Y],M===0?(O+=N*(m.kernedWidth-m.width),M+=m.width):M+=m.kernedWidth,W&&!b&&this._reSpaceAndTab.test(_[Y])&&(b=!0),b||(C=C||this.getCompleteStyleDeclaration(G,Y),c=this.getCompleteStyleDeclaration(G,Y+1),b=jW(C,c,!1)),b&&(w?(g.save(),g.translate(m.renderLeft,m.renderTop),g.rotate(m.angle),this._renderChar(x,g,G,Y,d,-M/2,0),g.restore()):(f=O,this._renderChar(x,g,G,Y,d,f,l)),d="",C=c,O+=N*M,M=0);g.restore()}_applyPatternGradientTransformText(x){let g=this.width+this.strokeWidth,_=this.height+this.strokeWidth,O=Jg({width:g,height:_}),l=O.getContext("2d");return O.width=g,O.height=_,l.beginPath(),l.moveTo(0,0),l.lineTo(g,0),l.lineTo(g,_),l.lineTo(0,_),l.closePath(),l.translate(g/2,_/2),l.fillStyle=x.toLive(l),this._applyPatternGradientTransform(l,x),l.fill(),l.createPattern(O,"no-repeat")}handleFiller(x,g,_){let O,l;return Lg(_)?_.gradientUnits==="percentage"||_.gradientTransform||_.patternTransform?(O=-this.width/2,l=-this.height/2,x.translate(O,l),x[g]=this._applyPatternGradientTransformText(_),{offsetX:O,offsetY:l}):(x[g]=_.toLive(x),this._applyPatternGradientTransform(x,_)):(x[g]=_,{offsetX:0,offsetY:0})}_setStrokeStyles(x,g){let{stroke:_,strokeWidth:O}=g;return x.lineWidth=O,x.lineCap=this.strokeLineCap,x.lineDashOffset=this.strokeDashOffset,x.lineJoin=this.strokeLineJoin,x.miterLimit=this.strokeMiterLimit,this.handleFiller(x,"strokeStyle",_)}_setFillStyles(x,g){let{fill:_}=g;return this.handleFiller(x,"fillStyle",_)}_renderChar(x,g,_,O,l,G,p){let W=this._getStyleDeclaration(_,O),w=this.getCompleteStyleDeclaration(_,O),o=x==="fillText"&&w.fill,v=x==="strokeText"&&w.stroke&&w.strokeWidth;if(v||o){if(g.save(),g.font=this._getFontDeclaration(w),W.textBackgroundColor&&this._removeShadow(g),W.deltaY&&(p+=W.deltaY),o){let N=this._setFillStyles(g,w);g.fillText(l,G-N.offsetX,p-N.offsetY)}if(v){let N=this._setStrokeStyles(g,w);g.strokeText(l,G-N.offsetX,p-N.offsetY)}g.restore()}}setSuperscript(x,g){this._setScript(x,g,this.superscript)}setSubscript(x,g){this._setScript(x,g,this.subscript)}_setScript(x,g,_){let O=this.get2DCursorLocation(x,!0),l=this.getValueOfPropertyAt(O.lineIndex,O.charIndex,"fontSize"),G=this.getValueOfPropertyAt(O.lineIndex,O.charIndex,"deltaY"),p={fontSize:l*_.size,deltaY:G+l*_.baseline};this.setSelectionStyles(p,x,g)}_getLineLeftOffset(x){let g=this.getLineWidth(x),_=this.width-g,O=this.textAlign,l=this.direction,G=this.isEndOfWrapping(x),p=0;return O===N_||O===X9&&!G||O===L9&&!G||O===cW&&!G?0:(O===yx&&(p=_/2),O===W0&&(p=_),O===X9&&(p=_/2),O===L9&&(p=_),l==="rtl"&&(O===W0||O===N_||O===L9?p=0:O===Ax||O===cW?p=-_:O!==yx&&O!==X9||(p=-_/2)),p)}_clearCache(){this._forceClearCache=!1,this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]}getLineWidth(x){if(this.__lineWidths[x]!==void 0)return this.__lineWidths[x];let{width:g}=this.measureLine(x);return this.__lineWidths[x]=g,g}_getWidthOfCharSpacing(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1000:0}getValueOfPropertyAt(x,g,_){var O;return(O=this._getStyleDeclaration(x,g)[_])!==null&&O!==void 0?O:this[_]}_renderTextDecoration(x,g){if(!this[g]&&!this.styleHas(g))return;let _=this._getTopOffset(),O=this._getLeftOffset(),l=this.path,G=this._getWidthOfCharSpacing(),p=this.offsets[g];for(let W=0,w=this._textLines.length;W<w;W++){let o=this.getHeightOfLine(W);if(!this[g]&&!this.styleHas(g,W)){_+=o;continue}let v=this._textLines[W],N=o/this.lineHeight,k=this._getLineLeftOffset(W),C,c,m=0,b=0,f=this.getValueOfPropertyAt(W,0,g),d=this.getValueOfPropertyAt(W,0,M0),M=_+N*(1-this._fontSizeFraction),Y=this.getHeightOfChar(W,0),K=this.getValueOfPropertyAt(W,0,"deltaY");for(let V=0,F=v.length;V<F;V++){let D=this.__charBounds[W][V];C=this.getValueOfPropertyAt(W,V,g),c=this.getValueOfPropertyAt(W,V,M0);let U=this.getHeightOfChar(W,V),Q=this.getValueOfPropertyAt(W,V,"deltaY");if(l&&C&&c)x.save(),x.fillStyle=d,x.translate(D.renderLeft,D.renderTop),x.rotate(D.angle),x.fillRect(-D.kernedWidth/2,p*U+Q,D.kernedWidth,this.fontSize/15),x.restore();else if((C!==f||c!==d||U!==Y||Q!==K)&&b>0){let L=O+k+m;this.direction==="rtl"&&(L=this.width-L-b),f&&d&&(x.fillStyle=d,x.fillRect(L,M+p*Y+K,b,this.fontSize/15)),m=D.left,b=D.width,f=C,d=c,Y=U,K=Q}else b+=D.kernedWidth}let h=O+k+m;this.direction==="rtl"&&(h=this.width-h-b),x.fillStyle=c,C&&c&&x.fillRect(h,M+p*Y+K,b-G,this.fontSize/15),_+=o}this._removeShadow(x)}_getFontDeclaration(){let{fontFamily:x=this.fontFamily,fontStyle:g=this.fontStyle,fontWeight:_=this.fontWeight,fontSize:O=this.fontSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0,G=x.includes("'")||x.includes('"')||x.includes(",")||r0.genericFonts.includes(x.toLowerCase())?x:'"'.concat(x,'"');return[g,_,"".concat(l?this.CACHE_FONT_SIZE:O,"px"),G].join(" ")}render(x){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._forceClearCache&&this.initDimensions(),super.render(x)))}graphemeSplit(x){return ZW(x)}_splitTextIntoLines(x){let g=x.split(this._reNewline),_=new Array(g.length),O=[`
`],l=[];for(let G=0;G<g.length;G++)_[G]=this.graphemeSplit(g[G]),l=l.concat(_[G],O);return l.pop(),{_unwrappedLines:_,lines:g,graphemeText:l,graphemeLines:_}}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Z(Z({},super.toObject([...qY,...x])),{},{styles:nM(this.styles,this.text)},this.path?{path:this.path.toObject()}:{})}set(x,g){let{textLayoutProperties:_}=this.constructor;super.set(x,g);let O=!1,l=!1;if(typeof x=="object")for(let G in x)G==="path"&&this.setPathInfo(),O=O||_.includes(G),l=l||G==="path";else O=_.includes(x),l=x==="path";return l&&this.setPathInfo(),O&&this.initialized&&(this.initDimensions(),this.setCoords()),this}complexity(){return 1}static async fromElement(x,g,_){let O=gO(x,r0.ATTRIBUTE_NAMES,_),l=Z(Z({},g),O),{textAnchor:G=Ax,textDecoration:p="",dx:W=0,dy:w=0,top:o=0,left:v=0,fontSize:N=Iy,strokeWidth:k=1}=l,C=ix(l,YF),c=new this((x.textContent||"").replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," "),Z({left:v+W,top:o+w,underline:p.includes("underline"),overline:p.includes("overline"),linethrough:p.includes("line-through"),strokeWidth:0,fontSize:N},C)),m=c.getScaledHeight()/c.height,b=((c.height+c.strokeWidth)*c.lineHeight-c.height)*m,f=c.getScaledHeight()+b,d=0;return G===yx&&(d=c.getScaledWidth()/2),G===W0&&(d=c.getScaledWidth()),c.set({left:c.left-d,top:c.top-(f-c.fontSize*(0.07+c._fontSizeFraction))/c.lineHeight,strokeWidth:k}),c}static fromObject(x){return this._fromObject(Z(Z({},x),{},{styles:$M(x.styles||{},x.text)}),{extraParam:"text"})}}j(r0,"textLayoutProperties",CY),j(r0,"cacheProperties",[...xO,...qY]),j(r0,"ownDefaults",CF),j(r0,"type","Text"),j(r0,"genericFonts",["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),j(r0,"ATTRIBUTE_NAMES",RO.concat("x","y","dx","dy","font-family","font-style","font-weight","font-size","letter-spacing","text-decoration","text-anchor")),DM(r0,[class extends Jy{_toSVG(){let x=this._getSVGLeftTopOffsets(),g=this._getSVGTextAndBg(x.textTop,x.textLeft);return this._wrapSVGTextAndBg(g)}toSVG(x){return this._createBaseSVGMarkup(this._toSVG(),{reviver:x,noStyle:!0,withShadow:!0})}_getSVGLeftTopOffsets(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}}_wrapSVGTextAndBg(x){let{textBgRects:g,textSpans:_}=x,O=this.getSvgTextDecoration(this);return[g.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'.concat(this.fontFamily.replace(MF,"'"),'" '):"",this.fontSize?'font-size="'.concat(this.fontSize,'" '):"",this.fontStyle?'font-style="'.concat(this.fontStyle,'" '):"",this.fontWeight?'font-weight="'.concat(this.fontWeight,'" '):"",O?'text-decoration="'.concat(O,'" '):"",this.direction==="rtl"?'direction="'.concat(this.direction,'" '):"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",_.join(""),`</text>
`]}_getSVGTextAndBg(x,g){let _=[],O=[],l,G=x;this.backgroundColor&&O.push(...Wy(this.backgroundColor,-this.width/2,-this.height/2,this.width,this.height));for(let p=0,W=this._textLines.length;p<W;p++)l=this._getLineLeftOffset(p),this.direction==="rtl"&&(l+=this.width),(this.textBackgroundColor||this.styleHas("textBackgroundColor",p))&&this._setSVGTextLineBg(O,p,g+l,G),this._setSVGTextLineText(_,p,g+l,G),G+=this.getHeightOfLine(p);return{textSpans:_,textBgRects:O}}_createTextCharSpan(x,g,_,O){let l=this.getSvgSpanStyles(g,x!==x.trim()||!!x.match(qF)),G=l?'style="'.concat(l,'"'):"",p=g.deltaY,W=p?' dy="'.concat(Jx(p,hx.NUM_FRACTION_DIGITS),'" '):"";return'<tspan x="'.concat(Jx(_,hx.NUM_FRACTION_DIGITS),'" y="').concat(Jx(O,hx.NUM_FRACTION_DIGITS),'" ').concat(W).concat(G,">").concat(EM(x),"</tspan>")}_setSVGTextLineText(x,g,_,O){let l=this.getHeightOfLine(g),G=this.textAlign.includes(N_),p=this._textLines[g],W,w,o,v,N,k="",C=0;O+=l*(1-this._fontSizeFraction)/this.lineHeight;for(let c=0,m=p.length-1;c<=m;c++)N=c===m||this.charSpacing,k+=p[c],o=this.__charBounds[g][c],C===0?(_+=o.kernedWidth-o.width,C+=o.width):C+=o.kernedWidth,G&&!N&&this._reSpaceAndTab.test(p[c])&&(N=!0),N||(W=W||this.getCompleteStyleDeclaration(g,c),w=this.getCompleteStyleDeclaration(g,c+1),N=jW(W,w,!0)),N&&(v=this._getStyleDeclaration(g,c),x.push(this._createTextCharSpan(k,v,_,O)),k="",W=w,this.direction==="rtl"?_-=C:_+=C,C=0)}_setSVGTextLineBg(x,g,_,O){let l=this._textLines[g],G=this.getHeightOfLine(g)/this.lineHeight,p,W=0,w=0,o=this.getValueOfPropertyAt(g,0,"textBackgroundColor");for(let v=0;v<l.length;v++){let{left:N,width:k,kernedWidth:C}=this.__charBounds[g][v];p=this.getValueOfPropertyAt(g,v,"textBackgroundColor"),p!==o?(o&&x.push(...Wy(o,_+w,O,W,G)),w=N,W=k,o=p):W+=C}p&&x.push(...Wy(o,_+w,O,W,G))}_getSVGLineTopOffset(x){let g,_=0;for(g=0;g<x;g++)_+=this.getHeightOfLine(g);let O=this.getHeightOfLine(g);return{lineTop:_,offset:(this._fontSizeMult-this._fontSizeFraction)*O/(this.lineHeight*this._fontSizeMult)}}getSvgStyles(x){return"".concat(super.getSvgStyles(x)," white-space: pre;")}getSvgSpanStyles(x,g){let{fontFamily:_,strokeWidth:O,stroke:l,fill:G,fontSize:p,fontStyle:W,fontWeight:w,deltaY:o}=x,v=this.getSvgTextDecoration(x);return[l?S9(R0,l):"",O?"stroke-width: ".concat(O,"; "):"",_?"font-family: ".concat(_.includes("'")||_.includes('"')?_:"'".concat(_,"'"),"; "):"",p?"font-size: ".concat(p,"px; "):"",W?"font-style: ".concat(W,"; "):"",w?"font-weight: ".concat(w,"; "):"",v?"text-decoration: ".concat(v,"; "):v,G?S9(M0,G):"",o?"baseline-shift: ".concat(-o,"; "):"",g?"white-space: pre; ":""].join("")}getSvgTextDecoration(x){return["overline","underline","line-through"].filter((g)=>x[g.replace("-","")]).join(" ")}}]),_x.setClass(r0),_x.setSVGClass(r0);class MY{constructor(x){j(this,"target",void 0),j(this,"__mouseDownInPlace",!1),j(this,"__dragStartFired",!1),j(this,"__isDraggingOver",!1),j(this,"__dragStartSelection",void 0),j(this,"__dragImageDisposer",void 0),j(this,"_dispose",void 0),this.target=x;let g=[this.target.on("dragenter",this.dragEnterHandler.bind(this)),this.target.on("dragover",this.dragOverHandler.bind(this)),this.target.on("dragleave",this.dragLeaveHandler.bind(this)),this.target.on("dragend",this.dragEndHandler.bind(this)),this.target.on("drop",this.dropHandler.bind(this))];this._dispose=()=>{g.forEach((_)=>_()),this._dispose=void 0}}isPointerOverSelection(x){let g=this.target,_=g.getSelectionStartFromPointer(x);return g.isEditing&&_>=g.selectionStart&&_<=g.selectionEnd&&g.selectionStart<g.selectionEnd}start(x){return this.__mouseDownInPlace=this.isPointerOverSelection(x)}isActive(){return this.__mouseDownInPlace}end(x){let g=this.isActive();return g&&!this.__dragStartFired&&(this.target.setCursorByClick(x),this.target.initDelayedCursor(!0)),this.__mouseDownInPlace=!1,this.__dragStartFired=!1,this.__isDraggingOver=!1,g}getDragStartSelection(){return this.__dragStartSelection}setDragImage(x,g){var _;let{selectionStart:O,selectionEnd:l}=g,G=this.target,p=G.canvas,W=new E(G.flipX?-1:1,G.flipY?-1:1),w=G._getCursorBoundaries(O),o=new E(w.left+w.leftOffset,w.top+w.topOffset).multiply(W).transform(G.calcTransformMatrix()),v=p.getScenePoint(x).subtract(o),N=G.getCanvasRetinaScaling(),k=G.getBoundingRect(),C=o.subtract(new E(k.left,k.top)),c=p.viewportTransform,m=C.add(v).transform(c,!0),b=G.backgroundColor,f=x3(G.styles);G.backgroundColor="";let d={stroke:"transparent",fill:"transparent",textBackgroundColor:"transparent"};G.setSelectionStyles(d,0,O),G.setSelectionStyles(d,l,G.text.length),G.dirty=!0;let M=G.toCanvasElement({enableRetinaScaling:p.enableRetinaScaling,viewportTransform:!0});G.backgroundColor=b,G.styles=f,G.dirty=!0,fW(M,{position:"fixed",left:"".concat(-M.width,"px"),border:i0,width:"".concat(M.width/N,"px"),height:"".concat(M.height/N,"px")}),this.__dragImageDisposer&&this.__dragImageDisposer(),this.__dragImageDisposer=()=>{M.remove()},Eg(x.target||this.target.hiddenTextarea).body.appendChild(M),(_=x.dataTransfer)===null||_===void 0||_.setDragImage(M,m.x,m.y)}onDragStart(x){this.__dragStartFired=!0;let g=this.target,_=this.isActive();if(_&&x.dataTransfer){let O=this.__dragStartSelection={selectionStart:g.selectionStart,selectionEnd:g.selectionEnd},l=g._text.slice(O.selectionStart,O.selectionEnd).join(""),G=Z({text:g.text,value:l},O);x.dataTransfer.setData("text/plain",l),x.dataTransfer.setData("application/fabric",JSON.stringify({value:l,styles:g.getSelectionStyles(O.selectionStart,O.selectionEnd,!0)})),x.dataTransfer.effectAllowed="copyMove",this.setDragImage(x,G)}return g.abortCursorAnimation(),_}canDrop(x){if(this.target.editable&&!this.target.getActiveControl()&&!x.defaultPrevented){if(this.isActive()&&this.__dragStartSelection){let g=this.target.getSelectionStartFromPointer(x),_=this.__dragStartSelection;return g<_.selectionStart||g>_.selectionEnd}return!0}return!1}targetCanDrop(x){return this.target.canDrop(x)}dragEnterHandler(x){let{e:g}=x,_=this.targetCanDrop(g);!this.__isDraggingOver&&_&&(this.__isDraggingOver=!0)}dragOverHandler(x){let{e:g}=x,_=this.targetCanDrop(g);!this.__isDraggingOver&&_?this.__isDraggingOver=!0:this.__isDraggingOver&&!_&&(this.__isDraggingOver=!1),this.__isDraggingOver&&(g.preventDefault(),x.canDrop=!0,x.dropTarget=this.target)}dragLeaveHandler(){(this.__isDraggingOver||this.isActive())&&(this.__isDraggingOver=!1)}dropHandler(x){var g;let{e:_}=x,O=_.defaultPrevented;this.__isDraggingOver=!1,_.preventDefault();let l=(g=_.dataTransfer)===null||g===void 0?void 0:g.getData("text/plain");if(l&&!O){let G=this.target,p=G.canvas,W=G.getSelectionStartFromPointer(_),{styles:w}=_.dataTransfer.types.includes("application/fabric")?JSON.parse(_.dataTransfer.getData("application/fabric")):{},o=l[Math.max(0,l.length-1)],v=0;if(this.__dragStartSelection){let N=this.__dragStartSelection.selectionStart,k=this.__dragStartSelection.selectionEnd;W>N&&W<=k?W=N:W>k&&(W-=k-N),G.removeChars(N,k),delete this.__dragStartSelection}G._reNewline.test(o)&&(G._reNewline.test(G._text[W])||W===G._text.length)&&(l=l.trimEnd()),x.didDrop=!0,x.dropTarget=G,G.insertChars(l,w,W),p.setActiveObject(G),G.enterEditing(_),G.selectionStart=Math.min(W+v,G._text.length),G.selectionEnd=Math.min(G.selectionStart+l.length,G._text.length),G.hiddenTextarea.value=G.text,G._updateTextarea(),G.hiddenTextarea.focus(),G.fire(oW,{index:W+v,action:"drop"}),p.fire("text:changed",{target:G}),p.contextTopDirty=!0,p.requestRenderAll()}}dragEndHandler(x){let{e:g}=x;if(this.isActive()&&this.__dragStartFired&&this.__dragStartSelection){var _;let O=this.target,l=this.target.canvas,{selectionStart:G,selectionEnd:p}=this.__dragStartSelection,W=((_=g.dataTransfer)===null||_===void 0?void 0:_.dropEffect)||i0;W===i0?(O.selectionStart=G,O.selectionEnd=p,O._updateTextarea(),O.hiddenTextarea.focus()):(O.clearContextTop(),W==="move"&&(O.removeChars(G,p),O.selectionStart=O.selectionEnd=G,O.hiddenTextarea&&(O.hiddenTextarea.value=O.text),O._updateTextarea(),O.fire(oW,{index:G,action:"dragend"}),l.fire("text:changed",{target:O}),l.requestRenderAll()),O.exitEditing())}this.__dragImageDisposer&&this.__dragImageDisposer(),delete this.__dragImageDisposer,delete this.__dragStartSelection,this.__isDraggingOver=!1}dispose(){this._dispose&&this._dispose()}}var a5=/[ \n\.,;!\?\-]/;class YY extends r0{constructor(){super(...arguments),j(this,"_currentCursorOpacity",1)}initBehavior(){this._tick=this._tick.bind(this),this._onTickComplete=this._onTickComplete.bind(this),this.updateSelectionOnMouseMove=this.updateSelectionOnMouseMove.bind(this)}onDeselect(x){return this.isEditing&&this.exitEditing(),this.selected=!1,super.onDeselect(x)}_animateCursor(x){let{toValue:g,duration:_,delay:O,onComplete:l}=x;return Ty({startValue:this._currentCursorOpacity,endValue:g,duration:_,delay:O,onComplete:l,abort:()=>!this.canvas||this.selectionStart!==this.selectionEnd,onChange:(G)=>{this._currentCursorOpacity=G,this.renderCursorOrSelection()}})}_tick(x){this._currentTickState=this._animateCursor({toValue:0,duration:this.cursorDuration/2,delay:Math.max(x||0,100),onComplete:this._onTickComplete})}_onTickComplete(){var x;(x=this._currentTickCompleteState)===null||x===void 0||x.abort(),this._currentTickCompleteState=this._animateCursor({toValue:1,duration:this.cursorDuration,onComplete:this._tick})}initDelayedCursor(x){this.abortCursorAnimation(),this._tick(x?0:this.cursorDelay)}abortCursorAnimation(){let x=!1;[this._currentTickState,this._currentTickCompleteState].forEach((g)=>{g&&!g.isDone()&&(x=!0,g.abort())}),this._currentCursorOpacity=1,x&&this.clearContextTop()}restartCursorIfNeeded(){[this._currentTickState,this._currentTickCompleteState].some((x)=>!x||x.isDone())&&this.initDelayedCursor()}selectAll(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this}getSelectedText(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")}findWordBoundaryLeft(x){let g=0,_=x-1;if(this._reSpace.test(this._text[_]))for(;this._reSpace.test(this._text[_]);)g++,_--;for(;/\S/.test(this._text[_])&&_>-1;)g++,_--;return x-g}findWordBoundaryRight(x){let g=0,_=x;if(this._reSpace.test(this._text[_]))for(;this._reSpace.test(this._text[_]);)g++,_++;for(;/\S/.test(this._text[_])&&_<this._text.length;)g++,_++;return x+g}findLineBoundaryLeft(x){let g=0,_=x-1;for(;!/\n/.test(this._text[_])&&_>-1;)g++,_--;return x-g}findLineBoundaryRight(x){let g=0,_=x;for(;!/\n/.test(this._text[_])&&_<this._text.length;)g++,_++;return x+g}searchWordBoundary(x,g){let _=this._text,O=x>0&&this._reSpace.test(_[x])&&(g===-1||!Zy.test(_[x-1]))?x-1:x,l=_[O];for(;O>0&&O<_.length&&!a5.test(l);)O+=g,l=_[O];return g===-1&&a5.test(l)&&O++,O}selectWord(x){x=x||this.selectionStart;let g=this.searchWordBoundary(x,-1),_=Math.max(g,this.searchWordBoundary(x,1));this.selectionStart=g,this.selectionEnd=_,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()}selectLine(x){x=x||this.selectionStart;let g=this.findLineBoundaryLeft(x),_=this.findLineBoundaryRight(x);return this.selectionStart=g,this.selectionEnd=_,this._fireSelectionChanged(),this._updateTextarea(),this}enterEditing(x){!this.isEditing&&this.editable&&(this.enterEditingImpl(),this.fire("editing:entered",x?{e:x}:void 0),this._fireSelectionChanged(),this.canvas&&(this.canvas.fire("text:editing:entered",{target:this,e:x}),this.canvas.requestRenderAll()))}enterEditingImpl(){this.canvas&&(this.canvas.calcOffset(),this.canvas.textEditingManager.exitTextEditing()),this.isEditing=!0,this.initHiddenTextarea(),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick()}updateSelectionOnMouseMove(x){if(this.getActiveControl())return;let g=this.hiddenTextarea;Eg(g).activeElement!==g&&g.focus();let _=this.getSelectionStartFromPointer(x),O=this.selectionStart,l=this.selectionEnd;(_===this.__selectionStartOnMouseDown&&O!==l||O!==_&&l!==_)&&(_>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=_):(this.selectionStart=_,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===O&&this.selectionEnd===l||(this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}_setEditingProps(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0}fromStringToGraphemeSelection(x,g,_){let O=_.slice(0,x),l=this.graphemeSplit(O).length;if(x===g)return{selectionStart:l,selectionEnd:l};let G=_.slice(x,g);return{selectionStart:l,selectionEnd:l+this.graphemeSplit(G).length}}fromGraphemeToStringSelection(x,g,_){let O=_.slice(0,x).join("").length;if(x===g)return{selectionStart:O,selectionEnd:O};return{selectionStart:O,selectionEnd:O+_.slice(x,g).join("").length}}_updateTextarea(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){let x=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=x.selectionStart,this.hiddenTextarea.selectionEnd=x.selectionEnd}this.updateTextareaPosition()}}updateFromTextArea(){if(!this.hiddenTextarea)return;this.cursorOffsetCache={};let x=this.hiddenTextarea;this.text=x.value,this.set("dirty",!0),this.initDimensions(),this.setCoords();let g=this.fromStringToGraphemeSelection(x.selectionStart,x.selectionEnd,x.value);this.selectionEnd=this.selectionStart=g.selectionEnd,this.inCompositionMode||(this.selectionStart=g.selectionStart),this.updateTextareaPosition()}updateTextareaPosition(){if(this.selectionStart===this.selectionEnd){let x=this._calcTextareaPosition();this.hiddenTextarea.style.left=x.left,this.hiddenTextarea.style.top=x.top}}_calcTextareaPosition(){if(!this.canvas)return{left:"1px",top:"1px"};let x=this.inCompositionMode?this.compositionStart:this.selectionStart,g=this._getCursorBoundaries(x),_=this.get2DCursorLocation(x),O=_.lineIndex,l=_.charIndex,G=this.getValueOfPropertyAt(O,l,"fontSize")*this.lineHeight,p=g.leftOffset,W=this.getCanvasRetinaScaling(),w=this.canvas.upperCanvasEl,o=w.width/W,v=w.height/W,N=o-G,k=v-G,C=new E(g.left+p,g.top+g.topOffset+G).transform(this.calcTransformMatrix()).transform(this.canvas.viewportTransform).multiply(new E(w.clientWidth/o,w.clientHeight/v));return C.x<0&&(C.x=0),C.x>N&&(C.x=N),C.y<0&&(C.y=0),C.y>k&&(C.y=k),C.x+=this.canvas._offset.left,C.y+=this.canvas._offset.top,{left:"".concat(C.x,"px"),top:"".concat(C.y,"px"),fontSize:"".concat(G,"px"),charHeight:G}}_saveEditingProps(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}}_restoreEditingProps(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor||this.canvas.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor||this.canvas.moveCursor),delete this._savedProps)}_exitEditing(){let x=this.hiddenTextarea;this.selected=!1,this.isEditing=!1,x&&(x.blur&&x.blur(),x.parentNode&&x.parentNode.removeChild(x)),this.hiddenTextarea=null,this.abortCursorAnimation(),this.selectionStart!==this.selectionEnd&&this.clearContextTop()}exitEditingImpl(){this._exitEditing(),this.selectionEnd=this.selectionStart,this._restoreEditingProps(),this._forceClearCache&&(this.initDimensions(),this.setCoords())}exitEditing(){let x=this._textBeforeEdit!==this.text;return this.exitEditingImpl(),this.fire("editing:exited"),x&&this.fire(wW),this.canvas&&(this.canvas.fire("text:editing:exited",{target:this}),x&&this.canvas.fire("object:modified",{target:this})),this}_removeExtraneousStyles(){for(let x in this.styles)this._textLines[x]||delete this.styles[x]}removeStyleFromTo(x,g){let{lineIndex:_,charIndex:O}=this.get2DCursorLocation(x,!0),{lineIndex:l,charIndex:G}=this.get2DCursorLocation(g,!0);if(_!==l){if(this.styles[_])for(let p=O;p<this._unwrappedTextLines[_].length;p++)delete this.styles[_][p];if(this.styles[l])for(let p=G;p<this._unwrappedTextLines[l].length;p++){let W=this.styles[l][p];W&&(this.styles[_]||(this.styles[_]={}),this.styles[_][O+p-G]=W)}for(let p=_+1;p<=l;p++)delete this.styles[p];this.shiftLineStyles(l,_-l)}else if(this.styles[_]){let p=this.styles[_],W=G-O;for(let w=O;w<G;w++)delete p[w];for(let w in this.styles[_]){let o=parseInt(w,10);o>=G&&(p[o-W]=p[w],delete p[w])}}}shiftLineStyles(x,g){let _=Object.assign({},this.styles);for(let O in this.styles){let l=parseInt(O,10);l>x&&(this.styles[l+g]=_[l],_[l-g]||delete this.styles[l])}}insertNewlineStyleObject(x,g,_,O){let l={},G=this._unwrappedTextLines[x].length,p=G===g,W=!1;_||(_=1),this.shiftLineStyles(x,_);let w=this.styles[x]?this.styles[x][g===0?g:g-1]:void 0;for(let v in this.styles[x]){let N=parseInt(v,10);N>=g&&(W=!0,l[N-g]=this.styles[x][v],p&&g===0||delete this.styles[x][v])}let o=!1;for(W&&!p&&(this.styles[x+_]=l,o=!0),(o||G>g)&&_--;_>0;)O&&O[_-1]?this.styles[x+_]={0:Z({},O[_-1])}:w?this.styles[x+_]={0:Z({},w)}:delete this.styles[x+_],_--;this._forceClearCache=!0}insertCharStyleObject(x,g,_,O){this.styles||(this.styles={});let l=this.styles[x],G=l?Z({},l):{};_||(_=1);for(let W in G){let w=parseInt(W,10);w>=g&&(l[w+_]=G[w],G[w-_]||delete l[w])}if(this._forceClearCache=!0,O){for(;_--;)Object.keys(O[_]).length&&(this.styles[x]||(this.styles[x]={}),this.styles[x][g+_]=Z({},O[_]));return}if(!l)return;let p=l[g?g-1:1];for(;p&&_--;)this.styles[x][g+_]=Z({},p)}insertNewStyleBlock(x,g,_){let O=this.get2DCursorLocation(g,!0),l=[0],G,p=0;for(let W=0;W<x.length;W++)x[W]===`
`?(p++,l[p]=0):l[p]++;for(l[0]>0&&(this.insertCharStyleObject(O.lineIndex,O.charIndex,l[0],_),_=_&&_.slice(l[0]+1)),p&&this.insertNewlineStyleObject(O.lineIndex,O.charIndex+l[0],p),G=1;G<p;G++)l[G]>0?this.insertCharStyleObject(O.lineIndex+G,0,l[G],_):_&&this.styles[O.lineIndex+G]&&_[0]&&(this.styles[O.lineIndex+G][0]=_[0]),_=_&&_.slice(l[G]+1);l[G]>0&&this.insertCharStyleObject(O.lineIndex+G,0,l[G],_)}removeChars(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x+1;this.removeStyleFromTo(x,g),this._text.splice(x,g-x),this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}insertChars(x,g,_){let O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_;O>_&&this.removeStyleFromTo(_,O);let l=this.graphemeSplit(x);this.insertNewStyleBlock(l,_,g),this._text=[...this._text.slice(0,_),...l,...this._text.slice(O)],this.text=this._text.join(""),this.set("dirty",!0),this.initDimensions(),this.setCoords(),this._removeExtraneousStyles()}setSelectionStartEndWithShift(x,g,_){_<=x?(g===x?this._selectionDirection=Ax:this._selectionDirection===W0&&(this._selectionDirection=Ax,this.selectionEnd=x),this.selectionStart=_):_>x&&_<g?this._selectionDirection===W0?this.selectionEnd=_:this.selectionStart=_:(g===x?this._selectionDirection=W0:this._selectionDirection===Ax&&(this._selectionDirection=W0,this.selectionStart=g),this.selectionEnd=_)}}class fY extends YY{initHiddenTextarea(){let x=this.canvas&&Eg(this.canvas.getElement())||Al(),g=x.createElement("textarea");Object.entries({autocapitalize:"off",autocorrect:"off",autocomplete:"off",spellcheck:"false","data-fabric":"textarea",wrap:"off"}).map((G)=>{let[p,W]=G;return g.setAttribute(p,W)});let{top:_,left:O,fontSize:l}=this._calcTextareaPosition();g.style.cssText="position: absolute; top: ".concat(_,"; left: ").concat(O,"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: ").concat(l,";"),(this.hiddenTextareaContainer||x.body).appendChild(g),Object.entries({blur:"blur",keydown:"onKeyDown",keyup:"onKeyUp",input:"onInput",copy:"copy",cut:"copy",paste:"paste",compositionstart:"onCompositionStart",compositionupdate:"onCompositionUpdate",compositionend:"onCompositionEnd"}).map((G)=>{let[p,W]=G;return g.addEventListener(p,this[W].bind(this))}),this.hiddenTextarea=g}blur(){this.abortCursorAnimation()}onKeyDown(x){if(!this.isEditing)return;let g=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(x.keyCode in g)this[g[x.keyCode]](x);else{if(!(x.keyCode in this.ctrlKeysMapDown)||!x.ctrlKey&&!x.metaKey)return;this[this.ctrlKeysMapDown[x.keyCode]](x)}x.stopImmediatePropagation(),x.preventDefault(),x.keyCode>=33&&x.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}onKeyUp(x){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:(x.keyCode in this.ctrlKeysMapUp)&&(x.ctrlKey||x.metaKey)&&(this[this.ctrlKeysMapUp[x.keyCode]](x),x.stopImmediatePropagation(),x.preventDefault(),this.canvas&&this.canvas.requestRenderAll())}onInput(x){let g=this.fromPaste;if(this.fromPaste=!1,x&&x.stopPropagation(),!this.isEditing)return;let _=()=>{this.updateFromTextArea(),this.fire(oW),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())};if(this.hiddenTextarea.value==="")return this.styles={},void _();let O=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,G=O.length,p=this.selectionStart,W=this.selectionEnd,w=p!==W,o,v,N,k,C=G-l,c=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),m=p>c.selectionStart;w?(v=this._text.slice(p,W),C+=W-p):G<l&&(v=m?this._text.slice(W+C,W):this._text.slice(p,p-C));let b=O.slice(c.selectionEnd-C,c.selectionEnd);if(v&&v.length&&(b.length&&(o=this.getSelectionStyles(p,p+1,!1),o=b.map(()=>o[0])),w?(N=p,k=W):m?(N=W-v.length,k=W):(N=W,k=W+v.length),this.removeStyleFromTo(N,k)),b.length){let{copyPasteData:f}=d_();g&&b.join("")===f.copiedText&&!hx.disableStyleCopyPaste&&(o=f.copiedTextStyle),this.insertNewStyleBlock(b,p,o)}_()}onCompositionStart(){this.inCompositionMode=!0}onCompositionEnd(){this.inCompositionMode=!1}onCompositionUpdate(x){let{target:g}=x,{selectionStart:_,selectionEnd:O}=g;this.compositionStart=_,this.compositionEnd=O,this.updateTextareaPosition()}copy(){if(this.selectionStart===this.selectionEnd)return;let{copyPasteData:x}=d_();x.copiedText=this.getSelectedText(),hx.disableStyleCopyPaste?x.copiedTextStyle=void 0:x.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0}paste(){this.fromPaste=!0}_getWidthBeforeCursor(x,g){let _,O=this._getLineLeftOffset(x);return g>0&&(_=this.__charBounds[x][g-1],O+=_.left+_.width),O}getDownCursorOffset(x,g){let _=this._getSelectionForOffset(x,g),O=this.get2DCursorLocation(_),l=O.lineIndex;if(l===this._textLines.length-1||x.metaKey||x.keyCode===34)return this._text.length-_;let G=O.charIndex,p=this._getWidthBeforeCursor(l,G),W=this._getIndexOnLine(l+1,p);return this._textLines[l].slice(G).length+W+1+this.missingNewlineOffset(l)}_getSelectionForOffset(x,g){return x.shiftKey&&this.selectionStart!==this.selectionEnd&&g?this.selectionEnd:this.selectionStart}getUpCursorOffset(x,g){let _=this._getSelectionForOffset(x,g),O=this.get2DCursorLocation(_),l=O.lineIndex;if(l===0||x.metaKey||x.keyCode===33)return-_;let G=O.charIndex,p=this._getWidthBeforeCursor(l,G),W=this._getIndexOnLine(l-1,p),w=this._textLines[l].slice(0,G),o=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+W-w.length+(1-o)}_getIndexOnLine(x,g){let _=this._textLines[x],O,l,G=this._getLineLeftOffset(x),p=0;for(let W=0,w=_.length;W<w;W++)if(O=this.__charBounds[x][W].width,G+=O,G>g){l=!0;let o=G-O,v=G,N=Math.abs(o-g);p=Math.abs(v-g)<N?W:W-1;break}return l||(p=_.length-1),p}moveCursorDown(x){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",x)}moveCursorUp(x){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",x)}_moveCursorUpOrDown(x,g){let _=this["get".concat(x,"CursorOffset")](g,this._selectionDirection===W0);if(g.shiftKey?this.moveCursorWithShift(_):this.moveCursorWithoutShift(_),_!==0){let O=this.text.length;this.selectionStart=P6(0,this.selectionStart,O),this.selectionEnd=P6(0,this.selectionEnd,O),this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea()}}moveCursorWithShift(x){let g=this._selectionDirection===Ax?this.selectionStart+x:this.selectionEnd+x;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,g),x!==0}moveCursorWithoutShift(x){return x<0?(this.selectionStart+=x,this.selectionEnd=this.selectionStart):(this.selectionEnd+=x,this.selectionStart=this.selectionEnd),x!==0}moveCursorLeft(x){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",x)}_move(x,g,_){let O;if(x.altKey)O=this["findWordBoundary".concat(_)](this[g]);else{if(!x.metaKey&&x.keyCode!==35&&x.keyCode!==36)return this[g]+=_==="Left"?-1:1,!0;O=this["findLineBoundary".concat(_)](this[g])}return O!==void 0&&this[g]!==O&&(this[g]=O,!0)}_moveLeft(x,g){return this._move(x,g,"Left")}_moveRight(x,g){return this._move(x,g,"Right")}moveCursorLeftWithoutShift(x){let g=!0;return this._selectionDirection=Ax,this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(g=this._moveLeft(x,"selectionStart")),this.selectionEnd=this.selectionStart,g}moveCursorLeftWithShift(x){return this._selectionDirection===W0&&this.selectionStart!==this.selectionEnd?this._moveLeft(x,"selectionEnd"):this.selectionStart!==0?(this._selectionDirection=Ax,this._moveLeft(x,"selectionStart")):void 0}moveCursorRight(x){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",x)}_moveCursorLeftOrRight(x,g){let _="moveCursor".concat(x).concat(g.shiftKey?"WithShift":"WithoutShift");this._currentCursorOpacity=1,this[_](g)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())}moveCursorRightWithShift(x){return this._selectionDirection===Ax&&this.selectionStart!==this.selectionEnd?this._moveRight(x,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection=W0,this._moveRight(x,"selectionEnd")):void 0}moveCursorRightWithoutShift(x){let g=!0;return this._selectionDirection=W0,this.selectionStart===this.selectionEnd?(g=this._moveRight(x,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,g}}var wy=(x)=>!!x.button;class cY extends fY{constructor(){super(...arguments),j(this,"draggableTextDelegate",void 0)}initBehavior(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore),this.on("mouseup",this.mouseUpHandler),this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler),this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown),this.draggableTextDelegate=new MY(this),super.initBehavior()}shouldStartDragging(){return this.draggableTextDelegate.isActive()}onDragStart(x){return this.draggableTextDelegate.onDragStart(x)}canDrop(x){return this.draggableTextDelegate.canDrop(x)}onMouseDown(x){if(!this.canvas)return;this.__newClickTime=+new Date;let g=x.pointer;this.isTripleClick(g)&&(this.fire("tripleclick",x),Cy(x.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=g,this.__lastSelected=this.selected&&!this.getActiveControl()}isTripleClick(x){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===x.x&&this.__lastPointer.y===x.y}doubleClickHandler(x){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(x.e))}tripleClickHandler(x){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(x.e))}_mouseDownHandler(x){let{e:g}=x;this.canvas&&this.editable&&!wy(g)&&!this.getActiveControl()&&(this.draggableTextDelegate.start(g)||(this.canvas.textEditingManager.register(this),this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(g)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection())))}_mouseDownHandlerBefore(x){let{e:g}=x;this.canvas&&this.editable&&!wy(g)&&(this.selected=this===this.canvas._activeObject)}mouseUpHandler(x){let{e:g,transform:_}=x,O=this.draggableTextDelegate.end(g);if(this.canvas){this.canvas.textEditingManager.unregister(this);let l=this.canvas._activeObject;if(l&&l!==this)return}!this.editable||this.group&&!this.group.interactive||_&&_.actionPerformed||wy(g)||O||(this.__lastSelected&&!this.getActiveControl()?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(g),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0)}setCursorByClick(x){let g=this.getSelectionStartFromPointer(x),_=this.selectionStart,O=this.selectionEnd;x.shiftKey?this.setSelectionStartEndWithShift(_,O,g):(this.selectionStart=g,this.selectionEnd=g),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())}getSelectionStartFromPointer(x){let g=this.canvas.getScenePoint(x).transform(Wg(this.calcTransformMatrix())).add(new E(-this._getLeftOffset(),-this._getTopOffset())),_=0,O=0,l=0;for(let w=0;w<this._textLines.length&&_<=g.y;w++)_+=this.getHeightOfLine(w),l=w,w>0&&(O+=this._textLines[w-1].length+this.missingNewlineOffset(w-1));let G=Math.abs(this._getLineLeftOffset(l)),p=this._textLines[l].length,W=this.__charBounds[l];for(let w=0;w<p;w++){let o=G+W[w].kernedWidth;if(g.x<=o){Math.abs(g.x-o)<=Math.abs(g.x-G)&&O++;break}G=o,O++}return Math.min(this.flipX?p-O:O,this._text.length)}}var xW="moveCursorUp",gW="moveCursorDown",_W="moveCursorLeft",OW="moveCursorRight",lW="exitEditing",fF=Z({selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1000,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,keysMap:{9:lW,27:lW,33:xW,34:gW,35:OW,36:_W,37:_W,38:xW,39:OW,40:gW},keysMapRtl:{9:lW,27:lW,33:xW,34:gW,35:_W,36:OW,37:OW,38:xW,39:_W,40:gW},ctrlKeysMapDown:{65:"selectAll"},ctrlKeysMapUp:{67:"copy",88:"cut"}},{_selectionDirection:null,_reSpace:/\s|\r?\n/,inCompositionMode:!1});class R_ extends cY{static getDefaults(){return Z(Z({},super.getDefaults()),R_.ownDefaults)}get type(){let x=super.type;return x==="itext"?"i-text":x}constructor(x,g){super(x,Z(Z({},R_.ownDefaults),g)),this.initBehavior()}_set(x,g){return this.isEditing&&this._savedProps&&x in this._savedProps?(this._savedProps[x]=g,this):(x==="canvas"&&(this.canvas instanceof J6&&this.canvas.textEditingManager.remove(this),g instanceof J6&&g.textEditingManager.add(this)),super._set(x,g))}setSelectionStart(x){x=Math.max(x,0),this._updateAndFire("selectionStart",x)}setSelectionEnd(x){x=Math.min(x,this.text.length),this._updateAndFire("selectionEnd",x)}_updateAndFire(x,g){this[x]!==g&&(this._fireSelectionChanged(),this[x]=g),this._updateTextarea()}_fireSelectionChanged(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})}initDimensions(){this.isEditing&&this.initDelayedCursor(),super.initDimensions()}getSelectionStyles(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart||0,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionEnd,_=arguments.length>2?arguments[2]:void 0;return super.getSelectionStyles(x,g,_)}setSelectionStyles(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selectionStart||0,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.selectionEnd;return super.setSelectionStyles(x,g,_)}get2DCursorLocation(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,g=arguments.length>1?arguments[1]:void 0;return super.get2DCursorLocation(x,g)}render(x){super.render(x),this.cursorOffsetCache={},this.renderCursorOrSelection()}toCanvasElement(x){let g=this.isEditing;this.isEditing=!1;let _=super.toCanvasElement(x);return this.isEditing=g,_}renderCursorOrSelection(){if(!this.isEditing)return;let x=this.clearContextTop(!0);if(!x)return;let g=this._getCursorBoundaries();this.selectionStart!==this.selectionEnd||this.inCompositionMode?this.renderSelection(x,g):this.renderCursor(x,g),this.canvas.contextTopDirty=!0,x.restore()}_getCursorBoundaries(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,g=arguments.length>1?arguments[1]:void 0,_=this._getLeftOffset(),O=this._getTopOffset(),l=this._getCursorBoundariesOffsets(x,g);return{left:_,top:O,leftOffset:l.left,topOffset:l.top}}_getCursorBoundariesOffsets(x,g){return g?this.__getCursorBoundariesOffsets(x):this.cursorOffsetCache&&("top"in this.cursorOffsetCache)?this.cursorOffsetCache:this.cursorOffsetCache=this.__getCursorBoundariesOffsets(x)}__getCursorBoundariesOffsets(x){let g=0,_=0,{charIndex:O,lineIndex:l}=this.get2DCursorLocation(x);for(let w=0;w<l;w++)g+=this.getHeightOfLine(w);let G=this._getLineLeftOffset(l),p=this.__charBounds[l][O];p&&(_=p.left),this.charSpacing!==0&&O===this._textLines[l].length&&(_-=this._getWidthOfCharSpacing());let W={top:g,left:G+(_>0?_:0)};return this.direction==="rtl"&&(this.textAlign===W0||this.textAlign===N_||this.textAlign===L9?W.left*=-1:this.textAlign===Ax||this.textAlign===cW?W.left=G-(_>0?_:0):this.textAlign!==yx&&this.textAlign!==X9||(W.left=G-(_>0?_:0))),W}renderCursorAt(x){this._renderCursor(this.canvas.contextTop,this._getCursorBoundaries(x,!0),x)}renderCursor(x,g){this._renderCursor(x,g,this.selectionStart)}getCursorRenderingData(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.selectionStart,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getCursorBoundaries(x),_=this.get2DCursorLocation(x),O=_.lineIndex,l=_.charIndex>0?_.charIndex-1:0,G=this.getValueOfPropertyAt(O,l,"fontSize"),p=this.getObjectScaling().x*this.canvas.getZoom(),W=this.cursorWidth/p,w=this.getValueOfPropertyAt(O,l,"deltaY"),o=g.topOffset+(1-this._fontSizeFraction)*this.getHeightOfLine(O)/this.lineHeight-G*(1-this._fontSizeFraction);return{color:this.cursorColor||this.getValueOfPropertyAt(O,l,"fill"),opacity:this._currentCursorOpacity,left:g.left+g.leftOffset-W/2,top:o+g.top+w,width:W,height:G}}_renderCursor(x,g,_){let{color:O,opacity:l,left:G,top:p,width:W,height:w}=this.getCursorRenderingData(_,g);x.fillStyle=O,x.globalAlpha=l,x.fillRect(G,p,W,w)}renderSelection(x,g){let _={selectionStart:this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,selectionEnd:this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd};this._renderSelection(x,_,g)}renderDragSourceEffect(){let x=this.draggableTextDelegate.getDragStartSelection();this._renderSelection(this.canvas.contextTop,x,this._getCursorBoundaries(x.selectionStart,!0))}renderDropTargetEffect(x){let g=this.getSelectionStartFromPointer(x);this.renderCursorAt(g)}_renderSelection(x,g,_){let{selectionStart:O,selectionEnd:l}=g,G=this.textAlign.includes(N_),p=this.get2DCursorLocation(O),W=this.get2DCursorLocation(l),w=p.lineIndex,o=W.lineIndex,v=p.charIndex<0?0:p.charIndex,N=W.charIndex<0?0:W.charIndex;for(let k=w;k<=o;k++){let C=this._getLineLeftOffset(k)||0,c=this.getHeightOfLine(k),m=0,b=0,f=0;if(k===w&&(b=this.__charBounds[w][v].left),k>=w&&k<o)f=G&&!this.isEndOfWrapping(k)?this.width:this.getLineWidth(k)||5;else if(k===o)if(N===0)f=this.__charBounds[o][N].left;else{let h=this._getWidthOfCharSpacing();f=this.__charBounds[o][N-1].left+this.__charBounds[o][N-1].width-h}m=c,(this.lineHeight<1||k===o&&this.lineHeight>1)&&(c/=this.lineHeight);let d=_.left+C+b,M=c,Y=0,K=f-b;this.inCompositionMode?(x.fillStyle=this.compositionColor||"black",M=1,Y=c):x.fillStyle=this.selectionColor,this.direction==="rtl"&&(this.textAlign===W0||this.textAlign===N_||this.textAlign===L9?d=this.width-d-K:this.textAlign===Ax||this.textAlign===cW?d=_.left+C-f:this.textAlign!==yx&&this.textAlign!==X9||(d=_.left+C-f)),x.fillRect(d,_.top+_.topOffset+Y,K,M),_.topOffset+=m}}getCurrentCharFontSize(){let x=this._getCurrentCharIndex();return this.getValueOfPropertyAt(x.l,x.c,"fontSize")}getCurrentCharColor(){let x=this._getCurrentCharIndex();return this.getValueOfPropertyAt(x.l,x.c,M0)}_getCurrentCharIndex(){let x=this.get2DCursorLocation(this.selectionStart,!0),g=x.charIndex>0?x.charIndex-1:0;return{l:x.lineIndex,c:g}}dispose(){this.exitEditingImpl(),this.draggableTextDelegate.dispose(),super.dispose()}}j(R_,"ownDefaults",fF),j(R_,"type","IText"),_x.setClass(R_),_x.setClass(R_,"i-text");class n6 extends R_{static getDefaults(){return Z(Z({},super.getDefaults()),n6.ownDefaults)}constructor(x,g){super(x,Z(Z({},n6.ownDefaults),g))}static createControls(){return{controls:UM()}}initDimensions(){this.initialized&&(this.isEditing&&this.initDelayedCursor(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.includes(N_)&&this.enlargeSpaces(),this.height=this.calcTextHeight())}_generateStyleMap(x){let g=0,_=0,O=0,l={};for(let G=0;G<x.graphemeLines.length;G++)x.graphemeText[O]===`
`&&G>0?(_=0,O++,g++):!this.splitByGrapheme&&this._reSpaceAndTab.test(x.graphemeText[O])&&G>0&&(_++,O++),l[G]={line:g,offset:_},O+=x.graphemeLines[G].length,_+=x.graphemeLines[G].length;return l}styleHas(x,g){if(this._styleMap&&!this.isWrapping){let _=this._styleMap[g];_&&(g=_.line)}return super.styleHas(x,g)}isEmptyStyles(x){if(!this.styles)return!0;let g,_=0,O=x+1,l=!1,G=this._styleMap[x],p=this._styleMap[x+1];G&&(x=G.line,_=G.offset),p&&(O=p.line,l=O===x,g=p.offset);let W=x===void 0?this.styles:{line:this.styles[x]};for(let w in W)for(let o in W[w]){let v=parseInt(o,10);if(v>=_&&(!l||v<g))for(let N in W[w][o])return!1}return!0}_getStyleDeclaration(x,g){if(this._styleMap&&!this.isWrapping){let _=this._styleMap[x];if(!_)return{};x=_.line,g=_.offset+g}return super._getStyleDeclaration(x,g)}_setStyleDeclaration(x,g,_){let O=this._styleMap[x];super._setStyleDeclaration(O.line,O.offset+g,_)}_deleteStyleDeclaration(x,g){let _=this._styleMap[x];super._deleteStyleDeclaration(_.line,_.offset+g)}_getLineStyle(x){let g=this._styleMap[x];return!!this.styles[g.line]}_setLineStyle(x){let g=this._styleMap[x];super._setLineStyle(g.line)}_wrapText(x,g){this.isWrapping=!0;let _=this.getGraphemeDataForRender(x),O=[];for(let l=0;l<_.wordsData.length;l++)O.push(...this._wrapLine(l,g,_));return this.isWrapping=!1,O}getGraphemeDataForRender(x){let g=this.splitByGrapheme,_=g?"":" ",O=0;return{wordsData:x.map((l,G)=>{let p=0,W=g?this.graphemeSplit(l):this.wordSplit(l);return W.length===0?[{word:[],width:0}]:W.map((w)=>{let o=g?[w]:this.graphemeSplit(w),v=this._measureWord(o,G,p);return O=Math.max(v,O),p+=o.length+_.length,{word:o,width:v}})}),largestWordWidth:O}}_measureWord(x,g){let _,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=0;for(let G=0,p=x.length;G<p;G++)l+=this._getGraphemeBox(x[G],g,G+O,_,!0).kernedWidth,_=x[G];return l}wordSplit(x){return x.split(this._wordJoiners)}_wrapLine(x,g,_){let{largestWordWidth:O,wordsData:l}=_,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,p=this._getWidthOfCharSpacing(),W=this.splitByGrapheme,w=[],o=W?"":" ",v=0,N=[],k=0,C=0,c=!0;g-=G;let m=Math.max(g,O,this.dynamicMinWidth),b=l[x],f;for(k=0,f=0;f<b.length;f++){let{word:d,width:M}=b[f];k+=d.length,v+=C+M-p,v>m&&!c?(w.push(N),N=[],v=M,c=!0):v+=p,c||W||N.push(o),N=N.concat(d),C=W?0:this._measureWord([o],x,k),k++,c=!1}return f&&w.push(N),O+G>this.dynamicMinWidth&&(this.dynamicMinWidth=O-p+G),w}isEndOfWrapping(x){return!this._styleMap[x+1]||this._styleMap[x+1].line!==this._styleMap[x].line}missingNewlineOffset(x,g){return this.splitByGrapheme&&!g?this.isEndOfWrapping(x)?1:0:1}_splitTextIntoLines(x){let g=super._splitTextIntoLines(x),_=this._wrapText(g.lines,this.width),O=new Array(_.length);for(let l=0;l<_.length;l++)O[l]=_[l].join("");return g.lines=O,g.graphemeLines=_,g}getMinWidth(){return Math.max(this.minWidth,this.dynamicMinWidth)}_removeExtraneousStyles(){let x=new Map;for(let g in this._styleMap){let _=parseInt(g,10);if(this._textLines[_]){let O=this._styleMap[g].line;x.set("".concat(O),!0)}}for(let g in this.styles)x.has(g)||delete this.styles[g]}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return super.toObject(["minWidth","splitByGrapheme",...x])}}j(n6,"type","Textbox"),j(n6,"textLayoutProperties",[...R_.textLayoutProperties,"width"]),j(n6,"ownDefaults",{minWidth:20,dynamicMinWidth:2,lockScalingFlip:!0,noScaleCache:!1,_wordJoiners:/[ \t\r]/,splitByGrapheme:!1}),_x.setClass(n6);class Xy extends D9{shouldPerformLayout(x){return!!x.target.clipPath&&super.shouldPerformLayout(x)}shouldLayoutClipPath(){return!1}calcLayoutResult(x,g){let{target:_}=x,{clipPath:O,group:l}=_;if(!O||!this.shouldPerformLayout(x))return;let{width:G,height:p}=k_(HM(_,O)),W=new E(G,p);if(O.absolutePositioned)return{center:T_(O.getRelativeCenterPoint(),void 0,l?l.calcTransformMatrix():void 0),size:W};{let w=O.getRelativeCenterPoint().transform(_.calcOwnMatrix(),!0);if(this.shouldPerformLayout(x)){let{center:o=new E,correction:v=new E}=this.calcBoundingBox(g,x)||{};return{center:o.add(w),correction:v.subtract(w),size:W}}return{center:_.getRelativeCenterPoint().add(w),size:W}}}}j(Xy,"type","clip-path"),_x.setClass(Xy);class Fy extends D9{getInitialSize(x,g){let{target:_}=x,{size:O}=g;return new E(_.width||O.x,_.height||O.y)}}j(Fy,"type","fixed"),_x.setClass(Fy);class mY extends Fl{subscribeTargets(x){let g=x.target;x.targets.reduce((_,O)=>(O.parent&&_.add(O.parent),_),new Set).forEach((_)=>{_.layoutManager.subscribeTargets({target:_,targets:[g]})})}unsubscribeTargets(x){let g=x.target,_=g.getObjects();x.targets.reduce((O,l)=>(l.parent&&O.add(l.parent),O),new Set).forEach((O)=>{!_.some((l)=>l.parent===O)&&O.layoutManager.unsubscribeTargets({target:O,targets:[g]})})}}class $6 extends t_{static getDefaults(){return Z(Z({},super.getDefaults()),$6.ownDefaults)}constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Object.assign(this,$6.ownDefaults),this.setOptions(g);let{left:_,top:O,layoutManager:l}=g;this.groupInit(x,{left:_,top:O,layoutManager:l!=null?l:new mY})}_shouldSetNestedCoords(){return!0}__objectSelectionMonitor(){}multiSelectAdd(){for(var x=arguments.length,g=new Array(x),_=0;_<x;_++)g[_]=arguments[_];this.multiSelectionStacking==="selection-order"?this.add(...g):g.forEach((O)=>{let l=this._objects.findIndex((p)=>p.isInFrontOf(O)),G=l===-1?this.size():l;this.insertAt(G,O)})}canEnterGroup(x){return this.getObjects().some((g)=>g.isDescendantOf(x)||x.isDescendantOf(g))?($O("error","ActiveSelection: circular object trees are not supported, this call has no effect"),!1):super.canEnterGroup(x)}enterGroup(x,g){x.parent&&x.parent===x.group?x.parent._exitGroup(x):x.group&&x.parent!==x.group&&x.group.remove(x),this._enterGroup(x,g)}exitGroup(x,g){this._exitGroup(x,g),x.parent&&x.parent._enterGroup(x,!0)}_onAfterObjectsChange(x,g){super._onAfterObjectsChange(x,g);let _=new Set;g.forEach((O)=>{let{parent:l}=O;l&&_.add(l)}),x===_3?_.forEach((O)=>{O._onAfterObjectsChange(CW,g)}):_.forEach((O)=>{O._set("dirty",!0)})}onDeselect(){return this.removeAll(),!1}toString(){return"#<ActiveSelection: (".concat(this.complexity(),")>")}shouldCache(){return!1}isOnACache(){return!1}_renderControls(x,g,_){x.save(),x.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1;let O=Z(Z({hasControls:!1},_),{},{forActiveSelection:!0});for(let l=0;l<this._objects.length;l++)this._objects[l]._renderControls(x,O);super._renderControls(x,g),x.restore()}}j($6,"type","ActiveSelection"),j($6,"ownDefaults",{multiSelectionStacking:"canvas-stacking"}),_x.setClass($6),_x.setClass($6,"activeSelection");class bY{constructor(){j(this,"resources",{})}applyFilters(x,g,_,O,l){let G=l.getContext("2d");if(!G)return;G.drawImage(g,0,0,_,O);let p={sourceWidth:_,sourceHeight:O,imageData:G.getImageData(0,0,_,O),originalEl:g,originalImageData:G.getImageData(0,0,_,O),canvasEl:l,ctx:G,filterBackend:this};x.forEach((w)=>{w.applyTo(p)});let{imageData:W}=p;return W.width===_&&W.height===O||(l.width=W.width,l.height=W.height),G.putImageData(W,0,0),p}}class G3{constructor(){let{tileSize:x=hx.textureSize}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j(this,"aPosition",new Float32Array([0,0,0,1,1,0,1,1])),j(this,"resources",{}),this.tileSize=x,this.setupGLContext(x,x),this.captureGPUInfo()}setupGLContext(x,g){this.dispose(),this.createWebGLCanvas(x,g)}createWebGLCanvas(x,g){let _=Jg({width:x,height:g}),O=_.getContext("webgl",{alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1});O&&(O.clearColor(0,0,0,0),this.canvas=_,this.gl=O)}applyFilters(x,g,_,O,l,G){let p=this.gl,W=l.getContext("2d");if(!p||!W)return;let w;G&&(w=this.getCachedTexture(G,g));let o={originalWidth:g.width||g.naturalWidth||0,originalHeight:g.height||g.naturalHeight||0,sourceWidth:_,sourceHeight:O,destinationWidth:_,destinationHeight:O,context:p,sourceTexture:this.createTexture(p,_,O,w?void 0:g),targetTexture:this.createTexture(p,_,O),originalTexture:w||this.createTexture(p,_,O,w?void 0:g),passes:x.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:l},v=p.createFramebuffer();return p.bindFramebuffer(p.FRAMEBUFFER,v),x.forEach((N)=>{N&&N.applyTo(o)}),function(N){let k=N.targetCanvas,C=k.width,c=k.height,m=N.destinationWidth,b=N.destinationHeight;C===m&&c===b||(k.width=m,k.height=b)}(o),this.copyGLTo2D(p,o),p.bindTexture(p.TEXTURE_2D,null),p.deleteTexture(o.sourceTexture),p.deleteTexture(o.targetTexture),p.deleteFramebuffer(v),W.setTransform(1,0,0,1,0,0),o}dispose(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()}clearWebGLCaches(){this.programCache={},this.textureCache={}}createTexture(x,g,_,O,l){let{NEAREST:G,TEXTURE_2D:p,RGBA:W,UNSIGNED_BYTE:w,CLAMP_TO_EDGE:o,TEXTURE_MAG_FILTER:v,TEXTURE_MIN_FILTER:N,TEXTURE_WRAP_S:k,TEXTURE_WRAP_T:C}=x,c=x.createTexture();return x.bindTexture(p,c),x.texParameteri(p,v,l||G),x.texParameteri(p,N,l||G),x.texParameteri(p,k,o),x.texParameteri(p,C,o),O?x.texImage2D(p,0,W,W,w,O):x.texImage2D(p,0,W,g,_,0,W,w,null),c}getCachedTexture(x,g,_){let{textureCache:O}=this;if(O[x])return O[x];{let l=this.createTexture(this.gl,g.width,g.height,g,_);return l&&(O[x]=l),l}}evictCachesForKey(x){this.textureCache[x]&&(this.gl.deleteTexture(this.textureCache[x]),delete this.textureCache[x])}copyGLTo2D(x,g){let _=x.canvas,O=g.targetCanvas,l=O.getContext("2d");if(!l)return;l.translate(0,O.height),l.scale(1,-1);let G=_.height-O.height;l.drawImage(_,0,G,O.width,O.height,0,0,O.width,O.height)}copyGLTo2DPutImageData(x,g){let _=g.targetCanvas.getContext("2d"),O=g.destinationWidth,l=g.destinationHeight,G=O*l*4;if(!_)return;let p=new Uint8Array(this.imageBuffer,0,G),W=new Uint8ClampedArray(this.imageBuffer,0,G);x.readPixels(0,0,O,l,x.RGBA,x.UNSIGNED_BYTE,p);let w=new ImageData(W,O,l);_.putImageData(w,0,0)}captureGPUInfo(){if(this.gpuInfo)return this.gpuInfo;let x=this.gl,g={renderer:"",vendor:""};if(!x)return g;let _=x.getExtension("WEBGL_debug_renderer_info");if(_){let O=x.getParameter(_.UNMASKED_RENDERER_WEBGL),l=x.getParameter(_.UNMASKED_VENDOR_WEBGL);O&&(g.renderer=O.toLowerCase()),l&&(g.vendor=l.toLowerCase())}return this.gpuInfo=g,g}}var zy;function cF(){let{WebGLProbe:x}=d_();return x.queryWebGL(Xg()),hx.enableGLFiltering&&x.isSupported(hx.textureSize)?new G3({tileSize:hx.textureSize}):new bY}function vy(){return!zy&&(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0])&&(zy=cF()),zy}var mF=["filters","resizeFilter","src","crossOrigin","type"],hY=["cropX","cropY"];class _0 extends L0{static getDefaults(){return Z(Z({},super.getDefaults()),_0.ownDefaults)}constructor(x,g){super(),j(this,"_lastScaleX",1),j(this,"_lastScaleY",1),j(this,"_filterScalingX",1),j(this,"_filterScalingY",1),this.filters=[],Object.assign(this,_0.ownDefaults),this.setOptions(g),this.cacheKey="texture".concat(HO()),this.setElement(typeof x=="string"?(this.canvas&&Eg(this.canvas.getElement())||Al()).getElementById(x):x,g)}getElement(){return this._element}setElement(x){var g;let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._element=x,this._originalElement=x,this._setWidthHeight(_),(g=x.classList)===null||g===void 0||g.add(_0.CSS_CANVAS),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters()}removeTexture(x){let g=vy(!1);g instanceof G3&&g.evictCachesForKey(x)}dispose(){super.dispose(),this.removeTexture(this.cacheKey),this.removeTexture("".concat(this.cacheKey,"_filtered")),this._cacheContext=null,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((x)=>{let g=this[x];g&&d_().dispose(g),this[x]=void 0})}getCrossOrigin(){return this._originalElement&&(this._originalElement.crossOrigin||null)}getOriginalSize(){let x=this.getElement();return x?{width:x.naturalWidth||x.width,height:x.naturalHeight||x.height}:{width:0,height:0}}_stroke(x){if(!this.stroke||this.strokeWidth===0)return;let g=this.width/2,_=this.height/2;x.beginPath(),x.moveTo(-g,-_),x.lineTo(g,-_),x.lineTo(g,_),x.lineTo(-g,_),x.lineTo(-g,-_),x.closePath()}toObject(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=[];return this.filters.forEach((_)=>{_&&g.push(_.toObject())}),Z(Z({},super.toObject([...hY,...x])),{},{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:g},this.resizeFilter?{resizeFilter:this.resizeFilter.toObject()}:{})}hasCrop(){return!!this.cropX||!!this.cropY||this.width<this._element.width||this.height<this._element.height}_toSVG(){let x=[],g=this._element,_=-this.width/2,O=-this.height/2,l=[],G=[],p="",W="";if(!g)return[];if(this.hasCrop()){let w=HO();l.push('<clipPath id="imageCrop_'+w+`">
`,'\t<rect x="'+_+'" y="'+O+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),p=' clip-path="url(#imageCrop_'+w+')" '}if(this.imageSmoothing||(W=' image-rendering="optimizeSpeed"'),x.push("\t<image ","COMMON_PARTS",'xlink:href="'.concat(this.getSvgSrc(!0),'" x="').concat(_-this.cropX,'" y="').concat(O-this.cropY,'" width="').concat(g.width||g.naturalWidth,'" height="').concat(g.height||g.naturalHeight,'"').concat(W).concat(p,`></image>
`)),this.stroke||this.strokeDashArray){let w=this.fill;this.fill=null,G=['\t<rect x="'.concat(_,'" y="').concat(O,'" width="').concat(this.width,'" height="').concat(this.height,'" style="').concat(this.getSvgStyles(),`" />
`)],this.fill=w}return l=this.paintFirst!==M0?l.concat(G,x):l.concat(x,G),l}getSrc(x){let g=x?this._element:this._originalElement;return g?g.toDataURL?g.toDataURL():this.srcFromAttribute?g.getAttribute("src")||"":g.src:this.src||""}getSvgSrc(x){return this.getSrc(x)}setSrc(x){let{crossOrigin:g,signal:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return V9(x,{crossOrigin:g,signal:_}).then((O)=>{g!==void 0&&this.set({crossOrigin:g}),this.setElement(O)})}toString(){return'#<Image: { src: "'.concat(this.getSrc(),'" }>')}applyResizeFilters(){let x=this.resizeFilter,g=this.minimumScaleTrigger,_=this.getTotalObjectScaling(),O=_.x,l=_.y,G=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!x||O>g&&l>g)return this._element=G,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=O,void(this._lastScaleY=l);let p=Jg(G),{width:W,height:w}=G;this._element=p,this._lastScaleX=x.scaleX=O,this._lastScaleY=x.scaleY=l,vy().applyFilters([x],G,W,w,this._element),this._filterScalingX=p.width/this._originalElement.width,this._filterScalingY=p.height/this._originalElement.height}applyFilters(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.filters||[];if(x=x.filter((l)=>l&&!l.isNeutralState()),this.set("dirty",!0),this.removeTexture("".concat(this.cacheKey,"_filtered")),x.length===0)return this._element=this._originalElement,this._filteredEl=void 0,this._filterScalingX=1,void(this._filterScalingY=1);let g=this._originalElement,_=g.naturalWidth||g.width,O=g.naturalHeight||g.height;if(this._element===this._originalElement){let l=Jg({width:_,height:O});this._element=l,this._filteredEl=l}else this._filteredEl&&(this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,_,O),this._lastScaleX=1,this._lastScaleY=1);vy().applyFilters(x,this._originalElement,_,O,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height)}_render(x){x.imageSmoothingEnabled=this.imageSmoothing,this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(x),this._renderPaintInOrder(x)}drawCacheOnCanvas(x){x.imageSmoothingEnabled=this.imageSmoothing,super.drawCacheOnCanvas(x)}shouldCache(){return this.needsItsOwnCache()}_renderFill(x){let g=this._element;if(!g)return;let _=this._filterScalingX,O=this._filterScalingY,l=this.width,G=this.height,p=Math.max(this.cropX,0),W=Math.max(this.cropY,0),w=g.naturalWidth||g.width,o=g.naturalHeight||g.height,v=p*_,N=W*O,k=Math.min(l*_,w-v),C=Math.min(G*O,o-N),c=-l/2,m=-G/2,b=Math.min(l,w/_-p),f=Math.min(G,o/O-W);g&&x.drawImage(g,v,N,k,C,c,m,b,f)}_needsResize(){let x=this.getTotalObjectScaling();return x.x!==this._lastScaleX||x.y!==this._lastScaleY}_resetWidthHeight(){this.set(this.getOriginalSize())}_setWidthHeight(){let{width:x,height:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=this.getOriginalSize();this.width=x||_.width,this.height=g||_.height}parsePreserveAspectRatioAttribute(){let x=lM(this.preserveAspectRatio||""),g=this.width,_=this.height,O={width:g,height:_},l,G=this._element.width,p=this._element.height,W=1,w=1,o=0,v=0,N=0,k=0;return!x||x.alignX===i0&&x.alignY===i0?(W=g/G,w=_/p):(x.meetOrSlice==="meet"&&(W=w=iM(this._element,O),l=(g-G*W)/2,x.alignX==="Min"&&(o=-l),x.alignX==="Max"&&(o=l),l=(_-p*w)/2,x.alignY==="Min"&&(v=-l),x.alignY==="Max"&&(v=l)),x.meetOrSlice==="slice"&&(W=w=RM(this._element,O),l=G-g/W,x.alignX==="Mid"&&(N=l/2),x.alignX==="Max"&&(N=l),l=p-_/w,x.alignY==="Mid"&&(k=l/2),x.alignY==="Max"&&(k=l),G=g/W,p=_/w)),{width:G,height:p,scaleX:W,scaleY:w,offsetLeft:o,offsetTop:v,cropX:N,cropY:k}}static fromObject(x,g){let{filters:_,resizeFilter:O,src:l,crossOrigin:G,type:p}=x,W=ix(x,mF);return Promise.all([V9(l,Z(Z({},g),{},{crossOrigin:G})),_&&Ll(_,g),O&&Ll([O],g),j9(W,g)]).then((w)=>{let[o,v=[],[N]=[],k={}]=w;return new this(o,Z(Z({},W),{},{src:l,filters:v,resizeFilter:N},k))})}static fromURL(x){let{crossOrigin:g=null,signal:_}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=arguments.length>2?arguments[2]:void 0;return V9(x,{crossOrigin:g,signal:_}).then((l)=>new this(l,O))}static async fromElement(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=arguments.length>2?arguments[2]:void 0,O=gO(x,this.ATTRIBUTE_NAMES,_);return this.fromURL(O["xlink:href"],g,O).catch((l)=>($O("log","Unable to parse Image",l),null))}}j(_0,"type","Image"),j(_0,"cacheProperties",[...xO,...hY]),j(_0,"ownDefaults",{strokeWidth:0,srcFromAttribute:!1,minimumScaleTrigger:0.5,cropX:0,cropY:0,imageSmoothing:!0}),j(_0,"CSS_CANVAS","canvas-img"),j(_0,"ATTRIBUTE_NAMES",[...RO,"x","y","width","height","preserveAspectRatio","xlink:href","crossOrigin","image-rendering"]),_x.setClass(_0),_x.setSVGClass(_0);var vS=AW(["pattern","defs","symbol","metadata","clipPath","mask","desc"]);var KY=R5,E5=(x)=>function(g,_,O){let{points:l,pathOffset:G}=O;return new E(l[x]).subtract(G).transform(l0(O.getViewportTransform(),O.calcTransformMatrix()))},VY=(x,g,_,O)=>{let{target:l,pointIndex:G}=g,p=l,W=T_(new E(_,O),void 0,p.calcOwnMatrix());return p.points[G]=W.add(p.pathOffset),p.setDimensions(),!0},LY=(x,g)=>function(_,O,l,G){let p=O.target,W=new E(p.points[(x>0?x:p.points.length)-1]),w=W.subtract(p.pathOffset).transform(p.calcOwnMatrix()),o=g(_,Z(Z({},O),{},{pointIndex:x}),l,G),v=W.subtract(p.pathOffset).transform(p.calcOwnMatrix()).subtract(w);return p.left-=v.x,p.top-=v.y,o},n5=(x)=>iO(KY,LY(x,VY)),Ay=(x,g,_)=>{let{path:O,pathOffset:l}=x,G=O[g];return new E(G[_]-l.x,G[_+1]-l.y).transform(l0(x.getViewportTransform(),x.calcTransformMatrix()))};function bF(x,g,_){let{commandIndex:O,pointIndex:l}=this;return Ay(_,O,l)}function hF(x,g,_,O){let{target:l}=g,{commandIndex:G,pointIndex:p}=this,W=((w,o,v,N,k)=>{let{path:C,pathOffset:c}=w,m=C[(N>0?N:C.length)-1],b=new E(m[k],m[k+1]),f=b.subtract(c).transform(w.calcOwnMatrix()),d=T_(new E(o,v),void 0,w.calcOwnMatrix());C[N][k]=d.x+c.x,C[N][k+1]=d.y+c.y,w.setDimensions();let M=b.subtract(w.pathOffset).transform(w.calcOwnMatrix()).subtract(f);return w.left-=M.x,w.top-=M.y,w.set("dirty",!0),!0})(l,_,O,G,p);return Hy(this.actionName,Z(Z({},Py(x,g,_,O)),{},{commandIndex:G,pointIndex:p})),W}class p3 extends P0{constructor(x){super(x)}render(x,g,_,O,l){let G=Z(Z({},O),{},{cornerColor:this.controlFill,cornerStrokeColor:this.controlStroke,transparentCorners:!this.controlFill});super.render(x,g,_,G,l)}}class XY extends p3{constructor(x){super(x)}render(x,g,_,O,l){let{path:G}=l,{commandIndex:p,pointIndex:W,connectToCommandIndex:w,connectToPointIndex:o}=this;x.save(),x.strokeStyle=this.controlStroke,this.connectionDashArray&&x.setLineDash(this.connectionDashArray);let[v]=G[p],N=Ay(l,w,o);if(v==="Q"){let k=Ay(l,p,W+2);x.moveTo(k.x,k.y),x.lineTo(g,_)}else x.moveTo(g,_);x.lineTo(N.x,N.y),x.stroke(),x.restore(),super.render(x,g,_,O,l)}}var GW=(x,g,_,O,l,G)=>new(_?XY:p3)(Z(Z({commandIndex:x,pointIndex:g,actionName:"modifyPath",positionHandler:bF,actionHandler:hF,connectToCommandIndex:l,connectToPointIndex:G},O),_?O.controlPointStyle:O.pointStyle)),yS=Object.freeze({__proto__:null,changeWidth:fy,createObjectDefaultControls:ty,createPathControls:function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_={},O="M";return x.path.forEach((l,G)=>{let p=l[0];switch(p!=="Z"&&(_["c_".concat(G,"_").concat(p)]=GW(G,l.length-2,!1,g)),p){case"C":_["c_".concat(G,"_C_CP_1")]=GW(G,1,!0,g,G-1,((W)=>W==="C"?5:W==="Q"?3:1)(O)),_["c_".concat(G,"_C_CP_2")]=GW(G,3,!0,g,G,5);break;case"Q":_["c_".concat(G,"_Q_CP_1")]=GW(G,1,!0,g,G,3)}O=p}),_},createPolyActionHandler:n5,createPolyControls:function(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_={};for(let O=0;O<(typeof x=="number"?x:x.points.length);O++)_["p".concat(O)]=new P0(Z({actionName:KY,positionHandler:E5(O),actionHandler:n5(O)},g));return _},createPolyPositionHandler:E5,createResizeControls:rM,createTextboxDefaultControls:UM,dragHandler:kM,factoryPolyActionHandler:LY,getLocalPoint:FW,polyActionHandler:VY,renderCircleControl:hM,renderSquareControl:KM,rotationStyleHandler:VM,rotationWithSnapping:LM,scaleCursorStyleHandler:Wl,scaleOrSkewActionName:c9,scaleSkewCursorStyleHandler:a6,scalingEqually:f9,scalingX:AM,scalingXOrSkewingY:cy,scalingY:uM,scalingYOrSkewingX:my,skewCursorStyleHandler:SM,skewHandlerX:ZM,skewHandlerY:jM,wrapWithFireEvent:iO,wrapWithFixedAnchor:R6}),UW=(x)=>x.webgl!==void 0;var W3="precision highp float",KF=`
    `.concat(W3,`;
    varying vec2 vTexCoord;
    uniform sampler2D uTexture;
    void main() {
      gl_FragColor = texture2D(uTexture, vTexCoord);
    }`),VF=["type"],LF=["type"],XF=new RegExp(W3,"g");class o0{get type(){return this.constructor.type}constructor(){let x=ix(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},VF);Object.assign(this,this.constructor.defaults,x)}getFragmentSource(){return KF}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    void main() {
      vTexCoord = aPosition;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }`}createProgram(x){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getFragmentSource(),_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.getVertexSource(),{WebGLProbe:{GLPrecision:O="highp"}}=d_();O!=="highp"&&(g=g.replace(XF,W3.replace("highp",O)));let l=x.createShader(x.VERTEX_SHADER),G=x.createShader(x.FRAGMENT_SHADER),p=x.createProgram();if(!l||!G||!p)throw new ng("Vertex, fragment shader or program creation error");if(x.shaderSource(l,_),x.compileShader(l),!x.getShaderParameter(l,x.COMPILE_STATUS))throw new ng("Vertex shader compile error for ".concat(this.type,": ").concat(x.getShaderInfoLog(l)));if(x.shaderSource(G,g),x.compileShader(G),!x.getShaderParameter(G,x.COMPILE_STATUS))throw new ng("Fragment shader compile error for ".concat(this.type,": ").concat(x.getShaderInfoLog(G)));if(x.attachShader(p,l),x.attachShader(p,G),x.linkProgram(p),!x.getProgramParameter(p,x.LINK_STATUS))throw new ng('Shader link error for "'.concat(this.type,'" ').concat(x.getProgramInfoLog(p)));let W=this.getUniformLocations(x,p)||{};return W.uStepW=x.getUniformLocation(p,"uStepW"),W.uStepH=x.getUniformLocation(p,"uStepH"),{program:p,attributeLocations:this.getAttributeLocations(x,p),uniformLocations:W}}getAttributeLocations(x,g){return{aPosition:x.getAttribLocation(g,"aPosition")}}getUniformLocations(x,g){let _=this.constructor.uniformLocations,O={};for(let l=0;l<_.length;l++)O[_[l]]=x.getUniformLocation(g,_[l]);return O}sendAttributeData(x,g,_){let O=g.aPosition,l=x.createBuffer();x.bindBuffer(x.ARRAY_BUFFER,l),x.enableVertexAttribArray(O),x.vertexAttribPointer(O,2,x.FLOAT,!1,0,0),x.bufferData(x.ARRAY_BUFFER,_,x.STATIC_DRAW)}_setupFrameBuffer(x){let g=x.context;if(x.passes>1){let{destinationWidth:_,destinationHeight:O}=x;x.sourceWidth===_&&x.sourceHeight===O||(g.deleteTexture(x.targetTexture),x.targetTexture=x.filterBackend.createTexture(g,_,O)),g.framebufferTexture2D(g.FRAMEBUFFER,g.COLOR_ATTACHMENT0,g.TEXTURE_2D,x.targetTexture,0)}else g.bindFramebuffer(g.FRAMEBUFFER,null),g.finish()}_swapTextures(x){x.passes--,x.pass++;let g=x.targetTexture;x.targetTexture=x.sourceTexture,x.sourceTexture=g}isNeutralState(x){return!1}applyTo(x){UW(x)?(this._setupFrameBuffer(x),this.applyToWebGL(x),this._swapTextures(x)):this.applyTo2d(x)}applyTo2d(x){}getCacheKey(){return this.type}retrieveShader(x){let g=this.getCacheKey();return x.programCache[g]||(x.programCache[g]=this.createProgram(x.context)),x.programCache[g]}applyToWebGL(x){let g=x.context,_=this.retrieveShader(x);x.pass===0&&x.originalTexture?g.bindTexture(g.TEXTURE_2D,x.originalTexture):g.bindTexture(g.TEXTURE_2D,x.sourceTexture),g.useProgram(_.program),this.sendAttributeData(g,_.attributeLocations,x.aPosition),g.uniform1f(_.uniformLocations.uStepW,1/x.sourceWidth),g.uniform1f(_.uniformLocations.uStepH,1/x.sourceHeight),this.sendUniformData(g,_.uniformLocations),g.viewport(0,0,x.destinationWidth,x.destinationHeight),g.drawArrays(g.TRIANGLE_STRIP,0,4)}bindAdditionalTexture(x,g,_){x.activeTexture(_),x.bindTexture(x.TEXTURE_2D,g),x.activeTexture(x.TEXTURE0)}unbindAdditionalTexture(x,g){x.activeTexture(g),x.bindTexture(x.TEXTURE_2D,null),x.activeTexture(x.TEXTURE0)}sendUniformData(x,g){}createHelpLayer(x){if(!x.helpLayer){let{sourceWidth:g,sourceHeight:_}=x,O=Jg({width:g,height:_});x.helpLayer=O}}toObject(){let x=Object.keys(this.constructor.defaults||{});return Z({type:this.type},x.reduce((g,_)=>(g[_]=this[_],g),{}))}toJSON(){return this.toObject()}static async fromObject(x,g){return new this(ix(x,LF))}}j(o0,"type","BaseFilter"),j(o0,"uniformLocations",[]);var FF={multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,difference:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`
    if (uColor.r < 0.5) {
      gl_FragColor.r *= 2.0 * uColor.r;
    } else {
      gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
    }
    if (uColor.g < 0.5) {
      gl_FragColor.g *= 2.0 * uColor.g;
    } else {
      gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
    }
    if (uColor.b < 0.5) {
      gl_FragColor.b *= 2.0 * uColor.b;
    } else {
      gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
    }
    `,tint:`
    gl_FragColor.rgb *= (1.0 - uColor.a);
    gl_FragColor.rgb += uColor.rgb;
    `};class wl extends o0{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec4 uColor;
      varying vec2 vTexCoord;
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        gl_FragColor = color;
        if (color.a > 0.0) {
          `.concat(FF[this.mode],`
        }
      }
      `)}applyTo2d(x){let{imageData:{data:g}}=x,_=new Sx(this.color).getSource(),O=this.alpha,l=_[0]*O,G=_[1]*O,p=_[2]*O,W=1-O;for(let w=0;w<g.length;w+=4){let o=g[w],v=g[w+1],N=g[w+2],k,C,c;switch(this.mode){case"multiply":k=o*l/255,C=v*G/255,c=N*p/255;break;case"screen":k=255-(255-o)*(255-l)/255,C=255-(255-v)*(255-G)/255,c=255-(255-N)*(255-p)/255;break;case"add":k=o+l,C=v+G,c=N+p;break;case"difference":k=Math.abs(o-l),C=Math.abs(v-G),c=Math.abs(N-p);break;case"subtract":k=o-l,C=v-G,c=N-p;break;case"darken":k=Math.min(o,l),C=Math.min(v,G),c=Math.min(N,p);break;case"lighten":k=Math.max(o,l),C=Math.max(v,G),c=Math.max(N,p);break;case"overlay":k=l<128?2*o*l/255:255-2*(255-o)*(255-l)/255,C=G<128?2*v*G/255:255-2*(255-v)*(255-G)/255,c=p<128?2*N*p/255:255-2*(255-N)*(255-p)/255;break;case"exclusion":k=l+o-2*l*o/255,C=G+v-2*G*v/255,c=p+N-2*p*N/255;break;case"tint":k=l+o*W,C=G+v*W,c=p+N*W}g[w]=k,g[w+1]=C,g[w+2]=c}}sendUniformData(x,g){let _=new Sx(this.color).getSource();_[0]=this.alpha*_[0]/255,_[1]=this.alpha*_[1]/255,_[2]=this.alpha*_[2]/255,_[3]=this.alpha,x.uniform4fv(g.uColor,_)}}j(wl,"defaults",{color:"#F95C63",mode:"multiply",alpha:1}),j(wl,"type","BlendColor"),j(wl,"uniformLocations",["uColor"]),_x.setClass(wl);var AF={multiply:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.rgba *= color2.rgba;
      gl_FragColor = color;
    }
    `,mask:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform sampler2D uImage;
    uniform vec4 uColor;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      vec4 color2 = texture2D(uImage, vTexCoord2);
      color.a = color2.a;
      gl_FragColor = color;
    }
    `},uF=["type","image"];class zl extends o0{getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return AF[this.mode]}getVertexSource(){return`
    attribute vec2 aPosition;
    varying vec2 vTexCoord;
    varying vec2 vTexCoord2;
    uniform mat3 uTransformMatrix;
    void main() {
      vTexCoord = aPosition;
      vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
    }
    `}applyToWebGL(x){let g=x.context,_=this.createTexture(x.filterBackend,this.image);this.bindAdditionalTexture(g,_,g.TEXTURE1),super.applyToWebGL(x),this.unbindAdditionalTexture(g,g.TEXTURE1)}createTexture(x,g){return x.getCachedTexture(g.cacheKey,g.getElement())}calculateMatrix(){let x=this.image,{width:g,height:_}=x.getElement();return[1/x.scaleX,0,0,0,1/x.scaleY,0,-x.left/g,-x.top/_,1]}applyTo2d(x){let{imageData:{data:g,width:_,height:O},filterBackend:{resources:l}}=x,G=this.image;l.blendImage||(l.blendImage=Xg());let p=l.blendImage,W=p.getContext("2d");p.width!==_||p.height!==O?(p.width=_,p.height=O):W.clearRect(0,0,_,O),W.setTransform(G.scaleX,0,0,G.scaleY,G.left,G.top),W.drawImage(G.getElement(),0,0,_,O);let w=W.getImageData(0,0,_,O).data;for(let o=0;o<g.length;o+=4){let v=g[o],N=g[o+1],k=g[o+2],C=g[o+3],c=w[o],m=w[o+1],b=w[o+2],f=w[o+3];switch(this.mode){case"multiply":g[o]=v*c/255,g[o+1]=N*m/255,g[o+2]=k*b/255,g[o+3]=C*f/255;break;case"mask":g[o+3]=f}}}sendUniformData(x,g){let _=this.calculateMatrix();x.uniform1i(g.uImage,1),x.uniformMatrix3fv(g.uTransformMatrix,!1,_)}toObject(){return Z(Z({},super.toObject()),{},{image:this.image&&this.image.toObject()})}static async fromObject(x,g){let{type:_,image:O}=x,l=ix(x,uF);return _0.fromObject(O,g).then((G)=>new this(Z(Z({},l),{},{image:G})))}}j(zl,"type","BlendImage"),j(zl,"defaults",{mode:"multiply",alpha:1}),j(zl,"uniformLocations",["uTransformMatrix","uImage"]),_x.setClass(zl);class vl extends o0{getFragmentSource(){return`
    precision highp float;
    uniform sampler2D uTexture;
    uniform vec2 uDelta;
    varying vec2 vTexCoord;
    const float nSamples = 15.0;
    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
    float random(vec3 scale) {
      /* use the fragment position for a different seed per-pixel */
      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
    }
    void main() {
      vec4 color = vec4(0.0);
      float total = 0.0;
      float offset = random(v3offset);
      for (float t = -nSamples; t <= nSamples; t++) {
        float percent = (t + offset - 0.5) / nSamples;
        float weight = 1.0 - abs(percent);
        color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
        total += weight;
      }
      gl_FragColor = color / total;
    }
  `}applyTo(x){UW(x)?(this.aspectRatio=x.sourceWidth/x.sourceHeight,x.passes++,this._setupFrameBuffer(x),this.horizontal=!0,this.applyToWebGL(x),this._swapTextures(x),this._setupFrameBuffer(x),this.horizontal=!1,this.applyToWebGL(x),this._swapTextures(x)):this.applyTo2d(x)}applyTo2d(x){x.imageData=this.simpleBlur(x)}simpleBlur(x){let{ctx:g,imageData:_,filterBackend:{resources:O}}=x,{width:l,height:G}=_;O.blurLayer1||(O.blurLayer1=Xg(),O.blurLayer2=Xg());let{blurLayer1:p,blurLayer2:W}=O;p.width===l&&p.height===G||(W.width=p.width=l,W.height=p.height=G);let w=p.getContext("2d"),o=W.getContext("2d"),v=15,N=0.06*this.blur*0.5,k,C,c,m;for(w.putImageData(_,0,0),o.clearRect(0,0,l,G),m=-15;m<=v;m++)k=(Math.random()-0.5)/4,C=m/v,c=N*C*l+k,o.globalAlpha=1-Math.abs(C),o.drawImage(p,c,k),w.drawImage(W,0,0),o.globalAlpha=1,o.clearRect(0,0,W.width,W.height);for(m=-15;m<=v;m++)k=(Math.random()-0.5)/4,C=m/v,c=N*C*G+k,o.globalAlpha=1-Math.abs(C),o.drawImage(p,k,c),w.drawImage(W,0,0),o.globalAlpha=1,o.clearRect(0,0,W.width,W.height);g.drawImage(p,0,0);let b=g.getImageData(0,0,p.width,p.height);return w.globalAlpha=1,w.clearRect(0,0,p.width,p.height),b}sendUniformData(x,g){let _=this.chooseRightDelta();x.uniform2fv(g.uDelta,_)}isNeutralState(){return this.blur===0}chooseRightDelta(){let x=1,g=[0,0];this.horizontal?this.aspectRatio>1&&(x=1/this.aspectRatio):this.aspectRatio<1&&(x=this.aspectRatio);let _=x*this.blur*0.12;return this.horizontal?g[0]=_:g[1]=_,g}}j(vl,"type","Blur"),j(vl,"defaults",{blur:0}),j(vl,"uniformLocations",["uDelta"]),_x.setClass(vl);class yl extends o0{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBrightness;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += uBrightness;
    gl_FragColor = color;
  }
`}applyTo2d(x){let{imageData:{data:g}}=x,_=Math.round(255*this.brightness);for(let O=0;O<g.length;O+=4)g[O]+=_,g[O+1]+=_,g[O+2]+=_}isNeutralState(){return this.brightness===0}sendUniformData(x,g){x.uniform1f(g.uBrightness,this.brightness)}}j(yl,"type","Brightness"),j(yl,"defaults",{brightness:0}),j(yl,"uniformLocations",["uBrightness"]),_x.setClass(yl);var FY={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],colorsOnly:!0};class nO extends o0{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  varying vec2 vTexCoord;
  uniform mat4 uColorMatrix;
  uniform vec4 uConstants;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color *= uColorMatrix;
    color += uConstants;
    gl_FragColor = color;
  }`}applyTo2d(x){let g=x.imageData.data,_=this.matrix,O=this.colorsOnly;for(let l=0;l<g.length;l+=4){let G=g[l],p=g[l+1],W=g[l+2];if(g[l]=G*_[0]+p*_[1]+W*_[2]+255*_[4],g[l+1]=G*_[5]+p*_[6]+W*_[7]+255*_[9],g[l+2]=G*_[10]+p*_[11]+W*_[12]+255*_[14],!O){let w=g[l+3];g[l]+=w*_[3],g[l+1]+=w*_[8],g[l+2]+=w*_[13],g[l+3]=G*_[15]+p*_[16]+W*_[17]+w*_[18]+255*_[19]}}}sendUniformData(x,g){let _=this.matrix,O=[_[0],_[1],_[2],_[3],_[5],_[6],_[7],_[8],_[10],_[11],_[12],_[13],_[15],_[16],_[17],_[18]],l=[_[4],_[9],_[14],_[19]];x.uniformMatrix4fv(g.uColorMatrix,!1,O),x.uniform4fv(g.uConstants,l)}toObject(){return Z(Z({},super.toObject()),{},{matrix:[...this.matrix]})}}function T6(x,g){var _;let O=(j(_=class extends nO{toObject(){return{type:this.type,colorsOnly:this.colorsOnly}}},"type",x),j(_,"defaults",{colorsOnly:!1,matrix:g}),_);return _x.setClass(O,x),O}j(nO,"type","ColorMatrix"),j(nO,"defaults",FY),j(nO,"uniformLocations",["uColorMatrix","uConstants"]),_x.setClass(nO);var SF=T6("Brownie",[0.5997,0.34553,-0.27082,0,0.186,-0.0377,0.86095,0.15059,0,-0.1449,0.24113,-0.07441,0.44972,0,-0.02965,0,0,0,1,0]),IF=T6("Vintage",[0.62793,0.32021,-0.03965,0,0.03784,0.02578,0.64411,0.03259,0,0.02926,0.0466,-0.08512,0.52416,0,0.02023,0,0,0,1,0]),ZF=T6("Kodachrome",[1.12855,-0.39673,-0.03992,0,0.24991,-0.16404,1.08352,-0.05498,0,0.09698,-0.16786,-0.56034,1.60148,0,0.13972,0,0,0,1,0]),jF=T6("Technicolor",[1.91252,-0.85453,-0.09155,0,0.04624,-0.30878,1.76589,-0.10601,0,-0.27589,-0.2311,-0.75018,1.84759,0,0.12137,0,0,0,1,0]),rF=T6("Polaroid",[1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0]),UF=T6("Sepia",[0.393,0.769,0.189,0,0,0.349,0.686,0.168,0,0,0.272,0.534,0.131,0,0,0,0,0,1,0]),DF=T6("BlackWhite",[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]);class mW extends o0{constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(x),this.subFilters=x.subFilters||[]}applyTo(x){UW(x)&&(x.passes+=this.subFilters.length-1),this.subFilters.forEach((g)=>{g.applyTo(x)})}toObject(){return{type:this.type,subFilters:this.subFilters.map((x)=>x.toObject())}}isNeutralState(){return!this.subFilters.some((x)=>!x.isNeutralState())}static fromObject(x,g){return Promise.all((x.subFilters||[]).map((_)=>_x.getClass(_.type).fromObject(_,g))).then((_)=>new this({subFilters:_}))}}j(mW,"type","Composed"),_x.setClass(mW);class Nl extends o0{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uContrast;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
    color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
    gl_FragColor = color;
  }`}isNeutralState(){return this.contrast===0}applyTo2d(x){let{imageData:{data:g}}=x,_=Math.floor(255*this.contrast),O=259*(_+255)/(255*(259-_));for(let l=0;l<g.length;l+=4)g[l]=O*(g[l]-128)+128,g[l+1]=O*(g[l+1]-128)+128,g[l+2]=O*(g[l+2]-128)+128}sendUniformData(x,g){x.uniform1f(g.uContrast,this.contrast)}}j(Nl,"type","Contrast"),j(Nl,"defaults",{contrast:0}),j(Nl,"uniformLocations",["uContrast"]),_x.setClass(Nl);var QF={Convolute_3_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_3_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[9];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 3.0; h+=1.0) {
        for (float w = 0.0; w < 3.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_5_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_5_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[25];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 5.0; h+=1.0) {
        for (float w = 0.0; w < 5.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_7_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_7_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[49];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 7.0; h+=1.0) {
        for (float w = 0.0; w < 7.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `,Convolute_9_1:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 0);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
        }
      }
      gl_FragColor = color;
    }
    `,Convolute_9_0:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform float uMatrix[81];
    uniform float uStepW;
    uniform float uStepH;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = vec4(0, 0, 0, 1);
      for (float h = 0.0; h < 9.0; h+=1.0) {
        for (float w = 0.0; w < 9.0; w+=1.0) {
          vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
          color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
        }
      }
      float alpha = texture2D(uTexture, vTexCoord).a;
      gl_FragColor = color;
      gl_FragColor.a = alpha;
    }
    `};class kl extends o0{getCacheKey(){return"".concat(this.type,"_").concat(Math.sqrt(this.matrix.length),"_").concat(this.opaque?1:0)}getFragmentSource(){return QF[this.getCacheKey()]}applyTo2d(x){let g=x.imageData,_=g.data,O=this.matrix,l=Math.round(Math.sqrt(O.length)),G=Math.floor(l/2),p=g.width,W=g.height,w=x.ctx.createImageData(p,W),o=w.data,v=this.opaque?1:0,N,k,C,c,m,b,f,d,M,Y,K,h,V;for(K=0;K<W;K++)for(Y=0;Y<p;Y++){for(m=4*(K*p+Y),N=0,k=0,C=0,c=0,V=0;V<l;V++)for(h=0;h<l;h++)f=K+V-G,b=Y+h-G,f<0||f>=W||b<0||b>=p||(d=4*(f*p+b),M=O[V*l+h],N+=_[d]*M,k+=_[d+1]*M,C+=_[d+2]*M,v||(c+=_[d+3]*M));o[m]=N,o[m+1]=k,o[m+2]=C,o[m+3]=v?_[m+3]:c}x.imageData=w}sendUniformData(x,g){x.uniform1fv(g.uMatrix,this.matrix)}toObject(){return Z(Z({},super.toObject()),{},{opaque:this.opaque,matrix:[...this.matrix]})}}j(kl,"type","Convolute"),j(kl,"defaults",{opaque:!1,matrix:[0,0,0,0,1,0,0,0,0]}),j(kl,"uniformLocations",["uMatrix","uOpaque","uHalfSize","uSize"]),_x.setClass(kl);var AY="Gamma";class dl extends o0{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform vec3 uGamma;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    vec3 correction = (1.0 / uGamma);
    color.r = pow(color.r, correction.r);
    color.g = pow(color.g, correction.g);
    color.b = pow(color.b, correction.b);
    gl_FragColor = color;
    gl_FragColor.rgb *= color.a;
  }
`}constructor(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(x),this.gamma=x.gamma||this.constructor.defaults.gamma.concat()}applyTo2d(x){let{imageData:{data:g}}=x,_=this.gamma,O=1/_[0],l=1/_[1],G=1/_[2];this.rgbValues||(this.rgbValues={r:new Uint8Array(256),g:new Uint8Array(256),b:new Uint8Array(256)});let p=this.rgbValues;for(let W=0;W<256;W++)p.r[W]=255*Math.pow(W/255,O),p.g[W]=255*Math.pow(W/255,l),p.b[W]=255*Math.pow(W/255,G);for(let W=0;W<g.length;W+=4)g[W]=p.r[g[W]],g[W+1]=p.g[g[W+1]],g[W+2]=p.b[g[W+2]]}sendUniformData(x,g){x.uniform3fv(g.uGamma,this.gamma)}isNeutralState(){let{gamma:x}=this;return x[0]===1&&x[1]===1&&x[2]===1}toObject(){return{type:AY,gamma:this.gamma.concat()}}}j(dl,"type",AY),j(dl,"defaults",{gamma:[1,1,1]}),j(dl,"uniformLocations",["uGamma"]),_x.setClass(dl);var aF={average:`
    precision highp float;
    uniform sampler2D uTexture;
    varying vec2 vTexCoord;
    void main() {
      vec4 color = texture2D(uTexture, vTexCoord);
      float average = (color.r + color.b + color.g) / 3.0;
      gl_FragColor = vec4(average, average, average, color.a);
    }
    `,lightness:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `,luminosity:`
    precision highp float;
    uniform sampler2D uTexture;
    uniform int uMode;
    varying vec2 vTexCoord;
    void main() {
      vec4 col = texture2D(uTexture, vTexCoord);
      float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
      gl_FragColor = vec4(average, average, average, col.a);
    }
    `};class Cl extends o0{applyTo2d(x){let{imageData:{data:g}}=x;for(let _,O=0;O<g.length;O+=4){let l=g[O],G=g[O+1],p=g[O+2];switch(this.mode){case"average":_=(l+G+p)/3;break;case"lightness":_=(Math.min(l,G,p)+Math.max(l,G,p))/2;break;case"luminosity":_=0.21*l+0.72*G+0.07*p}g[O+2]=g[O+1]=g[O]=_}}getCacheKey(){return"".concat(this.type,"_").concat(this.mode)}getFragmentSource(){return aF[this.mode]}sendUniformData(x,g){x.uniform1i(g.uMode,1)}isNeutralState(){return!1}}j(Cl,"type","Grayscale"),j(Cl,"defaults",{mode:"average"}),j(Cl,"uniformLocations",["uMode"]),_x.setClass(Cl);var EF=Z(Z({},FY),{},{rotation:0});class F9 extends nO{calculateMatrix(){let x=this.rotation*Math.PI,g=Hg(x),_=Pg(x),l=Math.sqrt(0.3333333333333333)*_,G=1-g;this.matrix=[g+G/3,0.3333333333333333*G-l,0.3333333333333333*G+l,0,0,0.3333333333333333*G+l,g+0.3333333333333333*G,0.3333333333333333*G-l,0,0,0.3333333333333333*G-l,0.3333333333333333*G+l,g+0.3333333333333333*G,0,0,0,0,0,1,0]}isNeutralState(){return this.rotation===0}applyTo(x){this.calculateMatrix(),super.applyTo(x)}toObject(){return{type:this.type,rotation:this.rotation}}}j(F9,"type","HueRotation"),j(F9,"defaults",EF),_x.setClass(F9);class ql extends o0{applyTo2d(x){let{imageData:{data:g}}=x;for(let _=0;_<g.length;_+=4)g[_]=255-g[_],g[_+1]=255-g[_+1],g[_+2]=255-g[_+2],this.alpha&&(g[_+3]=255-g[_+3])}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform int uInvert;
  uniform int uAlpha;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    if (uInvert == 1) {
      if (uAlpha == 1) {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,1.0 -color.a);
      } else {
        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
      }
    } else {
      gl_FragColor = color;
    }
  }
`}isNeutralState(){return!this.invert}sendUniformData(x,g){x.uniform1i(g.uInvert,Number(this.invert)),x.uniform1i(g.uAlpha,Number(this.alpha))}}j(ql,"type","Invert"),j(ql,"defaults",{alpha:!1,invert:!0}),j(ql,"uniformLocations",["uInvert","uAlpha"]),_x.setClass(ql);class Ml extends o0{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uStepH;
  uniform float uNoise;
  uniform float uSeed;
  varying vec2 vTexCoord;
  float rand(vec2 co, float seed, float vScale) {
    return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
  }
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
    gl_FragColor = color;
  }
`}applyTo2d(x){let{imageData:{data:g}}=x,_=this.noise;for(let O=0;O<g.length;O+=4){let l=(0.5-Math.random())*_;g[O]+=l,g[O+1]+=l,g[O+2]+=l}}sendUniformData(x,g){x.uniform1f(g.uNoise,this.noise/255),x.uniform1f(g.uSeed,Math.random())}isNeutralState(){return this.noise===0}}j(Ml,"type","Noise"),j(Ml,"defaults",{noise:0}),j(Ml,"uniformLocations",["uNoise","uSeed"]),_x.setClass(Ml);class Yl extends o0{applyTo2d(x){let{imageData:{data:g,width:_,height:O}}=x;for(let l=0;l<O;l+=this.blocksize)for(let G=0;G<_;G+=this.blocksize){let p=4*l*_+4*G,W=g[p],w=g[p+1],o=g[p+2],v=g[p+3];for(let N=l;N<Math.min(l+this.blocksize,O);N++)for(let k=G;k<Math.min(G+this.blocksize,_);k++){let C=4*N*_+4*k;g[C]=W,g[C+1]=w,g[C+2]=o,g[C+3]=v}}}isNeutralState(){return this.blocksize===1}getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uBlocksize;
  uniform float uStepW;
  uniform float uStepH;
  varying vec2 vTexCoord;
  void main() {
    float blockW = uBlocksize * uStepW;
    float blockH = uBlocksize * uStepH;
    int posX = int(vTexCoord.x / blockW);
    int posY = int(vTexCoord.y / blockH);
    float fposX = float(posX);
    float fposY = float(posY);
    vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
    vec4 color = texture2D(uTexture, squareCoords);
    gl_FragColor = color;
  }
`}sendUniformData(x,g){x.uniform1f(g.uBlocksize,this.blocksize)}}j(Yl,"type","Pixelate"),j(Yl,"defaults",{blocksize:4}),j(Yl,"uniformLocations",["uBlocksize"]),_x.setClass(Yl);class fl extends o0{getFragmentSource(){return`
precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
  gl_FragColor = texture2D(uTexture, vTexCoord);
  if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
    gl_FragColor.a = 0.0;
  }
}
`}applyTo2d(x){let{imageData:{data:g}}=x,_=255*this.distance,O=new Sx(this.color).getSource(),l=[O[0]-_,O[1]-_,O[2]-_],G=[O[0]+_,O[1]+_,O[2]+_];for(let p=0;p<g.length;p+=4){let W=g[p],w=g[p+1],o=g[p+2];W>l[0]&&w>l[1]&&o>l[2]&&W<G[0]&&w<G[1]&&o<G[2]&&(g[p+3]=0)}}sendUniformData(x,g){let _=new Sx(this.color).getSource(),O=this.distance,l=[0+_[0]/255-O,0+_[1]/255-O,0+_[2]/255-O,1],G=[_[0]/255+O,_[1]/255+O,_[2]/255+O,1];x.uniform4fv(g.uLow,l),x.uniform4fv(g.uHigh,G)}}j(fl,"type","RemoveColor"),j(fl,"defaults",{color:"#FFFFFF",distance:0.02,useAlpha:!1}),j(fl,"uniformLocations",["uLow","uHigh"]),_x.setClass(fl);class cl extends o0{sendUniformData(x,g){x.uniform2fv(g.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),x.uniform1fv(g.uTaps,this.taps)}getFilterWindow(){let x=this.tempScale;return Math.ceil(this.lanczosLobes/x)}getCacheKey(){let x=this.getFilterWindow();return"".concat(this.type,"_").concat(x)}getFragmentSource(){let x=this.getFilterWindow();return this.generateShader(x)}getTaps(){let x=this.lanczosCreate(this.lanczosLobes),g=this.tempScale,_=this.getFilterWindow(),O=new Array(_);for(let l=1;l<=_;l++)O[l-1]=x(l*g);return O}generateShader(x){let g=new Array(x);for(let _=1;_<=x;_++)g[_-1]="".concat(_,".0 * uDelta");return`
      precision highp float;
      uniform sampler2D uTexture;
      uniform vec2 uDelta;
      varying vec2 vTexCoord;
      uniform float uTaps[`.concat(x,`];
      void main() {
        vec4 color = texture2D(uTexture, vTexCoord);
        float sum = 1.0;
        `).concat(g.map((_,O)=>`
              color += texture2D(uTexture, vTexCoord + `.concat(_,") * uTaps[").concat(O,"] + texture2D(uTexture, vTexCoord - ").concat(_,") * uTaps[").concat(O,`];
              sum += 2.0 * uTaps[`).concat(O,`];
            `)).join(`
`),`
        gl_FragColor = color / sum;
      }
    `)}applyToForWebgl(x){x.passes++,this.width=x.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=x.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),x.destinationWidth=this.dW,super.applyTo(x),x.sourceWidth=x.destinationWidth,this.height=x.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),x.destinationHeight=this.dH,super.applyTo(x),x.sourceHeight=x.destinationHeight}applyTo(x){UW(x)?this.applyToForWebgl(x):this.applyTo2d(x)}isNeutralState(){return this.scaleX===1&&this.scaleY===1}lanczosCreate(x){return(g)=>{if(g>=x||g<=-x)return 0;if(g<0.00000011920929&&g>-0.00000011920929)return 1;let _=(g*=Math.PI)/x;return Math.sin(g)/g*Math.sin(_)/_}}applyTo2d(x){let g=x.imageData,_=this.scaleX,O=this.scaleY;this.rcpScaleX=1/_,this.rcpScaleY=1/O;let{width:l,height:G}=g,p=Math.round(l*_),W=Math.round(G*O),w;w=this.resizeType==="sliceHack"?this.sliceByTwo(x,l,G,p,W):this.resizeType==="hermite"?this.hermiteFastResize(x,l,G,p,W):this.resizeType==="bilinear"?this.bilinearFiltering(x,l,G,p,W):this.resizeType==="lanczos"?this.lanczosResize(x,l,G,p,W):new ImageData(p,W),x.imageData=w}sliceByTwo(x,g,_,O,l){let G=x.imageData,W=!1,w=!1,o=g*0.5,v=_*0.5,N=x.filterBackend.resources,k=0,C=0,c=g,m=0;N.sliceByTwo||(N.sliceByTwo=Xg());let b=N.sliceByTwo;(b.width<1.5*g||b.height<_)&&(b.width=1.5*g,b.height=_);let f=b.getContext("2d");for(f.clearRect(0,0,1.5*g,_),f.putImageData(G,0,0),O=Math.floor(O),l=Math.floor(l);!W||!w;)g=o,_=v,O<Math.floor(o*0.5)?o=Math.floor(o*0.5):(o=O,W=!0),l<Math.floor(v*0.5)?v=Math.floor(v*0.5):(v=l,w=!0),f.drawImage(b,k,C,g,_,c,m,o,v),k=c,C=m,m+=v;return f.getImageData(k,C,O,l)}lanczosResize(x,g,_,O,l){let G=x.imageData.data,p=x.ctx.createImageData(O,l),W=p.data,w=this.lanczosCreate(this.lanczosLobes),o=this.rcpScaleX,v=this.rcpScaleY,N=2/this.rcpScaleX,k=2/this.rcpScaleY,C=Math.ceil(o*this.lanczosLobes/2),c=Math.ceil(v*this.lanczosLobes/2),m={},b={x:0,y:0},f={x:0,y:0};return function d(M){let Y,K,h,V,F,D,U,Q,L,a,s;for(b.x=(M+0.5)*o,f.x=Math.floor(b.x),Y=0;Y<l;Y++){for(b.y=(Y+0.5)*v,f.y=Math.floor(b.y),F=0,D=0,U=0,Q=0,L=0,K=f.x-C;K<=f.x+C;K++)if(!(K<0||K>=g)){a=Math.floor(1000*Math.abs(K-b.x)),m[a]||(m[a]={});for(let u=f.y-c;u<=f.y+c;u++)u<0||u>=_||(s=Math.floor(1000*Math.abs(u-b.y)),m[a][s]||(m[a][s]=w(Math.sqrt(Math.pow(a*N,2)+Math.pow(s*k,2))/1000)),h=m[a][s],h>0&&(V=4*(u*g+K),F+=h,D+=h*G[V],U+=h*G[V+1],Q+=h*G[V+2],L+=h*G[V+3]))}V=4*(Y*O+M),W[V]=D/F,W[V+1]=U/F,W[V+2]=Q/F,W[V+3]=L/F}return++M<O?d(M):p}(0)}bilinearFiltering(x,g,_,O,l){let G,p,W,w,o,v,N,k,C,c,m,b,f,d=0,M=this.rcpScaleX,Y=this.rcpScaleY,K=4*(g-1),h=x.imageData.data,V=x.ctx.createImageData(O,l),F=V.data;for(N=0;N<l;N++)for(k=0;k<O;k++)for(o=Math.floor(M*k),v=Math.floor(Y*N),C=M*k-o,c=Y*N-v,f=4*(v*g+o),m=0;m<4;m++)G=h[f+m],p=h[f+4+m],W=h[f+K+m],w=h[f+K+4+m],b=G*(1-C)*(1-c)+p*C*(1-c)+W*c*(1-C)+w*C*c,F[d++]=b;return V}hermiteFastResize(x,g,_,O,l){let G=this.rcpScaleX,p=this.rcpScaleY,W=Math.ceil(G/2),w=Math.ceil(p/2),o=x.imageData.data,v=x.ctx.createImageData(O,l),N=v.data;for(let k=0;k<l;k++)for(let C=0;C<O;C++){let c=4*(C+k*O),m=0,b=0,f=0,d=0,M=0,Y=0,K=0,h=(k+0.5)*p;for(let V=Math.floor(k*p);V<(k+1)*p;V++){let F=Math.abs(h-(V+0.5))/w,D=(C+0.5)*G,U=F*F;for(let Q=Math.floor(C*G);Q<(C+1)*G;Q++){let L=Math.abs(D-(Q+0.5))/W,a=Math.sqrt(U+L*L);a>1&&a<-1||(m=2*a*a*a-3*a*a+1,m>0&&(L=4*(Q+V*g),K+=m*o[L+3],f+=m,o[L+3]<255&&(m=m*o[L+3]/250),d+=m*o[L],M+=m*o[L+1],Y+=m*o[L+2],b+=m))}}N[c]=d/b,N[c+1]=M/b,N[c+2]=Y/b,N[c+3]=K/f}return v}}j(cl,"type","Resize"),j(cl,"defaults",{resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3}),j(cl,"uniformLocations",["uDelta","uTaps"]),_x.setClass(cl);class ml extends o0{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uSaturation;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float rgMax = max(color.r, color.g);
    float rgbMax = max(rgMax, color.b);
    color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
    color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
    color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(x){let{imageData:{data:g}}=x,_=-this.saturation;for(let O=0;O<g.length;O+=4){let l=g[O],G=g[O+1],p=g[O+2],W=Math.max(l,G,p);g[O]+=W!==l?(W-l)*_:0,g[O+1]+=W!==G?(W-G)*_:0,g[O+2]+=W!==p?(W-p)*_:0}}sendUniformData(x,g){x.uniform1f(g.uSaturation,-this.saturation)}isNeutralState(){return this.saturation===0}}j(ml,"type","Saturation"),j(ml,"defaults",{saturation:0}),j(ml,"uniformLocations",["uSaturation"]),_x.setClass(ml);class bl extends o0{getFragmentSource(){return`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uVibrance;
  varying vec2 vTexCoord;
  void main() {
    vec4 color = texture2D(uTexture, vTexCoord);
    float max = max(color.r, max(color.g, color.b));
    float avg = (color.r + color.g + color.b) / 3.0;
    float amt = (abs(max - avg) * 2.0) * uVibrance;
    color.r += max != color.r ? (max - color.r) * amt : 0.00;
    color.g += max != color.g ? (max - color.g) * amt : 0.00;
    color.b += max != color.b ? (max - color.b) * amt : 0.00;
    gl_FragColor = color;
  }
`}applyTo2d(x){let{imageData:{data:g}}=x,_=-this.vibrance;for(let O=0;O<g.length;O+=4){let l=g[O],G=g[O+1],p=g[O+2],W=Math.max(l,G,p),w=(l+G+p)/3,o=2*Math.abs(W-w)/255*_;g[O]+=W!==l?(W-l)*o:0,g[O+1]+=W!==G?(W-G)*o:0,g[O+2]+=W!==p?(W-p)*o:0}}sendUniformData(x,g){x.uniform1f(g.uVibrance,-this.vibrance)}isNeutralState(){return this.vibrance===0}}j(bl,"type","Vibrance"),j(bl,"defaults",{vibrance:0}),j(bl,"uniformLocations",["uVibrance"]),_x.setClass(bl);var NS=Object.freeze({__proto__:null,BaseFilter:o0,BlackWhite:DF,BlendColor:wl,BlendImage:zl,Blur:vl,Brightness:yl,Brownie:SF,ColorMatrix:nO,Composed:mW,Contrast:Nl,Convolute:kl,Gamma:dl,Grayscale:Cl,HueRotation:F9,Invert:ql,Kodachrome:ZF,Noise:Ml,Pixelate:Yl,Polaroid:rF,RemoveColor:fl,Resize:cl,Saturation:ml,Sepia:UF,Technicolor:jF,Vibrance:bl,Vintage:IF});OO();var uY={clear(){console.log("todo")},drawImage(){console.log("todo")}},SY={clear(x){x.clearRect(0,0,x.canvas.width,x.canvas.height)},drawImage(x,g,_,O){x.drawImage(g,_,O)}},o3={clear(x){if(x instanceof CanvasRenderingContext2D)SY.clear(x);else if(x instanceof WebGLRenderingContext)uY.clear(x)},drawImage(x,g,_,O){if(x instanceof CanvasRenderingContext2D)SY.drawImage(x,g,_,O);else if(x instanceof WebGLRenderingContext)uY.drawImage(x,g,_,O)}};class jl{constructor(x){this.canvas=null,this.use(x)}use(x){this.method=x}make(x,g){if(!this.canvas)this.canvas=document.createElement("canvas");let{canvas:_}=this,O=this.getContext(),l=g.thickness*2,[G,p]=[x.width,x.height].map((W)=>W+l);if(G!==_.width||p!==_.height)_.width=G,_.height=p;return o3.clear(O),this.method.exec(O,x,g),o3.drawImage(O,x,g.thickness,g.thickness),_}getContext(){switch(this.method.context){case"gl":return this.canvas.getContext("gl");case"2d":return this.canvas.getContext("2d")}}}var DW={context:"2d",exec(x,g,_){x.save();for(let O=0;O<360;O++)x.drawImage(g,_.thickness*(1+Math.cos(O)),_.thickness*(1+Math.sin(O)));x.globalCompositeOperation="source-in",x.fillStyle=_.color,x.fillRect(0,0,x.canvas.width,x.canvas.height),x.restore()}};function QW({files:x,setCanvasURLs:g,jsonEndpoint:_,getBackgroundImage:O,isPerk:l=!1}){let G=Ag(null),p=Ag(null),[W,w]=T0(null),[o,v]=T0(""),[N,k]=T0([]);Tg(()=>{if(G.current){let b=new J6(G.current);w(b)}},[]),Tg(()=>{if(x&&W)W.clear(),x.forEach((b)=>{console.log("Checking JSON for matches: ",b.name);let f=N.filter((d)=>b.name+".png"===d.name);if(f.length>0){let d=f[0].details.rarity;m(b.data,b.name,W,v,c,d)}})},[x,W]),Tg(()=>{fetch(_).then((b)=>b.json()).then((b)=>k(b)).catch((b)=>console.error("Error loading data:",b))},[]);function C(){if(p.current&&o)p.current.href=o,p.current.download=x?.[0]?.name+".png"}let c=(b,f)=>{g((d)=>{if(d.some((Y)=>Y.name===b))return d.map((Y)=>Y.name===b?{...Y,data:f}:Y);return[...d,{name:b,data:f,id:d.length}]})};function m(b,f,d,M,Y,K){let h=new Image,V=new Image,F=new Image,D=!1,U=!1,Q=!1,L=!1;function a(){if(L||!D||!U||!Q)return;L=!0;let s=new _0(F,{left:0,top:0,selectable:!1}),u=new _0(V,{clipPath:new _0(h,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1}),B=u.toDataURL();d.remove(u);let P=new Image;P.src=B,P.onload=()=>{let i=new jl;i.use(DW);let lx=i.make(P,{thickness:2,color:"black"}),J=new _0(lx,{left:0,top:0,width:256,height:256,selectable:!1});d.add(J),d.backgroundImage=s,d.renderAll();let R=d.toDataURL();M(R),Y(f,R),d.remove(J)}}h.onload=()=>{D=!0,a()},V.onload=()=>{U=!0,a()},F.onload=()=>{Q=!0,a()},h.src=b,V.src=O(K||"common").grad,F.src=O(K||"common").bg}return Vx("div",{className:"absolute invisible pointer-events-none",children:[Gx("canvas",{ref:G,width:256,height:256}),Gx("a",{ref:p,onClick:C,children:"Download"})]})}var IY="./addonBrown-ghry9js0.png";var ZY="./addonBlue-8gj2cgxc.png";var jY="./addonGreen-c6r8pjam.png";var rY="./addonPurple-pgwpstx9.png";var UY="./addonPink-v6vfn79j.png";var DY="./addonEvent-wxa8jczh.png";var QY="./addonBrownGrad-q98265yw.png";var aY="./addonBlueGrad-t3rh7d83.png";var EY="./addonGreenGrad-cggcndxd.png";var nY="./addonPurpleGrad-pnsx0mz4.png";var $Y="./addonPinkGrad-wxvwmt5r.png";var BY="./addonEventGrad-bk496cty.png";var HY="./itemBrown-53hy1n4b.png";var PY="./itemBlue-tfvz89yb.png";var JY="./itemGreen-4k0e3aqy.png";var iY="./itemPurple-1f49wh9p.png";var RY="./itemPink-4xh395sg.png";var TY="./itemEvent-6n8hwq2m.png";var sY="./ItemBrownGrad-azatdwes.png";var tY="./itemBlueGrad-ef3y4s2x.png";var eY="./itemGreenGrad-v8d4mdam.png";var xf="./itemPurpleGrad-7j0scnhp.png";var gf="./itemPinkGrad-rpc1d674.png";var _f="./itemEventGrad-jg5zvn7r.png";var Fg="./offeringbg-89h8cfah.png";var Of="./offeringBrownGrad-11vbfqjc.png";var lf="./offeringBlueGrad-vsy00j61.png";var Gf="./offeringGreenGrad-tbs9qkjc.png";var pf="./offeringPurpleGrad-n3pxp345.png";var Wf="./offeringPinkGrad-zxj1k8t3.png";var of="./offeringEventGrad-s7rg4v6a.png";var s6={addon:{backgrounds:{common:IY,uncommon:jY,rare:ZY,very_rare:rY,ultra_rare:UY,event:DY},gradients:{common:QY,uncommon:EY,rare:aY,very_rare:nY,ultra_rare:$Y,event:BY}},item:{backgrounds:{common:HY,uncommon:JY,rare:PY,very_rare:iY,ultra_rare:RY,event:TY},gradients:{common:sY,uncommon:eY,rare:tY,very_rare:xf,ultra_rare:gf,event:_f}},offering:{backgrounds:{common:Fg,uncommon:Fg,rare:Fg,very_rare:Fg,ultra_rare:Fg,event:Fg},gradients:{common:Of,uncommon:Gf,rare:lf,very_rare:pf,ultra_rare:Wf,event:of}}};OO();var wf="./perkbg-re54prrp.png";var zf="./gradient-tr2q6j2h.png";function vf({files:x,setCanvasURLs:g}){let _=Ag(null),O=Ag(null),[l,G]=T0(null),[p,W]=T0("");Tg(()=>{if(_.current){let v=new J6(_.current);G(v)}},[]),Tg(()=>{if(l)w3(l)},[l]),Tg(()=>{if(x&&l)console.log("PerkCanvas received files:",x.length),l.clear(),w3(l),x.forEach((v)=>{console.log("PerkCanvas processing file:",v.name),cA(v.data,v.name,l,W,o)})},[x,l]),Tg(()=>{if(l)w3(l)},[l]);function w(){if(O.current&&p)O.current.href=p,O.current.download=x?.[0]?.name+".png"}let o=(v,N)=>{g((k)=>{if(k.some((c)=>c.name===v))return console.log("File already exists in canvasURLs:",v),k.map((c)=>c.name===v?{...c,data:N}:c);return[...k,{name:v,data:N,id:k.length}]})};return Vx("div",{className:"absolute invisible pointer-events-none",children:[Gx("canvas",{ref:_,width:256,height:256}),Gx("a",{ref:O,onClick:w,children:"Download"})]})}function cA(x,g,_,O,l){let G=new Image,p=new Image,W=!1,w=!1,o=!1;function v(){if(o||!W||!w)return;o=!0,console.log("Processing images for:",g);let N=new _0(p,{clipPath:new _0(G,{left:0,top:0,width:256,height:256,originX:"center",originY:"center"}),left:0,top:0,width:256,height:256,selectable:!1});console.log("fabricImage with clipPath created for:",g);let k=N.toDataURL();console.log("Data URL created for:",g),_.remove(N);let C=new Image;function c(){console.log("htmlImage loaded for:",g);let m=new jl;m.use(DW);let b=m.make(C,{thickness:2,color:"black"}),f=new _0(b,{left:0,top:0,width:256,height:256,selectable:!1});_.add(f),_.renderAll();let d=_.toDataURL();O(d),console.log("Canvas URL created for",g),l(g,d),_.remove(f)}if(C.onload=c,C.src=k,C.complete)c()}if(G.onload=()=>{console.log("iconImage loaded for:",g),W=!0,v()},p.onload=()=>{console.log("gradImage loaded for:",g),w=!0,v()},G.src=x,p.src=zf,G.complete)console.log("iconImage already loaded for:",g),W=!0;if(p.complete)console.log("gradImage already loaded for:",g),w=!0;v()}function w3(x){let g=new Image;g.src=wf,g.onload=()=>{console.log("background loaded successfully");let _=new _0(g,{left:0,top:0,selectable:!1});x.backgroundImage=_,x.renderAll()}}function yf(){return Gx(jg,{children:Vx("footer",{className:"mt-16 mb-8 text-center",children:[Gx("p",{className:"text-gray-400 mb-4",children:"Need help or found an issue?"}),Vx("div",{className:"flex justify-center gap-6",children:[Gx("a",{href:"https://github.com/michaelexile/90s-Pack-Generator",target:"_blank",rel:"noopener noreferrer",className:"text-pink-400 hover:text-pink-300 transition-colors",children:"GitHub"}),Gx("a",{href:"https://twitter.com/michaelexile",target:"_blank",rel:"noopener noreferrer",className:"text-pink-400 hover:text-pink-300 transition-colors",children:"Twitter"})]})]})})}function Nf(){let[x,g]=T0([]),[_,O]=T0([]),[l,G]=T0(!1),[p,W]=T0("perk"),w=(v)=>{if(v)W(v);g([]),O([]),G(!1)};return Vx("div",{className:"max-w-7xl mx-auto text-center relative z-10",children:[Gx("h1",{className:"visually-hidden",children:"PERK CREATOR"}),Gx("div",{className:"flex justify-center items-center gap-8 mb-8",children:Gx("img",{src:y5,alt:"3D image",className:"p-6 transition-all duration-300 hover:drop-shadow-[0_0_2em_#646cffaa] w-[512px]"})}),Gx("div",{className:"mb-8",children:Gx("button",{className:"text-white font-bold py-2 px-4 rounded",onClick:()=>{let v=document.getElementById("instructions");if(v)v.style.display=v.style.display==="none"?"block":"none"},children:"Getting Started"})}),Vx("div",{id:"instructions",style:{display:"none"},className:"max-w-2xl mx-auto mb-8 p-6 bg-gray-800 rounded-lg text-left",children:[Gx("h3",{className:"text-xl font-bold mb-4 text-pink-400",children:"How to Use This Tool"}),Vx("ol",{className:"space-y-2 text-gray-200",children:[Vx("li",{children:["Before you start: There is a full pack available in the"," ",Gx("a",{href:"https://nightlight.gg/packs/90s-perk-pack",className:"text-pink-400 hover:text-pink-300",target:"_blank",rel:"noopener noreferrer",children:"90s Pack Download"})," on NightLight. Use this tool for missing icons if I have not already updated the pack."]}),Gx("li",{children:"1. Select the type of icon you want to create (Perk, Item, Addon, or Offering)"}),Gx("li",{children:"2. Upload your PNG image(s) using the upload button"}),Gx("li",{children:"3. Wait for the processing to complete"}),Gx("li",{children:"4. Download your customized icons!"})]}),Vx("p",{className:"mt-4 text-gray-400 italic",children:["Note: You can get blank icons from"," ",Gx("a",{href:"https://nightlight.gg/packs/default-icons-no-shadow",className:"text-pink-400 hover:text-pink-300",target:"_blank",rel:"noopener noreferrer",children:"NightLight"})]})]}),Gx("div",{className:"menu flex justify-center",children:Vx("div",{className:"w-[600px] items-center radio",children:[Vx("label",{children:[Gx("input",{type:"radio",name:"tab",value:"perk",onChange:()=>w("perk"),defaultChecked:!0}),Vx("span",{className:"option",children:["Perks",Gx("span",{className:"click"})]})]}),Vx("label",{children:[Gx("input",{type:"radio",name:"tab",value:"item",onChange:()=>w("item")}),Vx("span",{className:"option",children:["Items",Gx("span",{className:"click"})]})]}),Vx("label",{children:[Gx("input",{type:"radio",name:"tab",value:"addon",onChange:()=>w("addon")}),Vx("span",{className:"option",children:["Addons",Gx("span",{className:"click"})]})]}),Vx("label",{children:[Gx("input",{type:"radio",name:"tab",value:"offering",onChange:()=>w("offering")}),Vx("span",{className:"option",children:["Offerings",Gx("span",{className:"click"})]})]}),p==="perk"&&Gx(vf,{files:l?[]:x,setCanvasURLs:O}),p==="item"&&Gx(QW,{files:l?[]:x,setCanvasURLs:O,jsonEndpoint:"https://michaelexile.github.io/DBD-IconsJSON/dbdItems.json",getBackgroundImage:(v)=>({bg:s6.item.backgrounds[v],grad:s6.item.gradients[v]})}),p==="addon"&&Gx(QW,{files:l?[]:x,setCanvasURLs:O,jsonEndpoint:"https://michaelexile.github.io/DBD-IconsJSON/dbdItemAddons.json",getBackgroundImage:(v)=>({bg:s6.addon.backgrounds[v],grad:s6.addon.gradients[v]})}),p==="offering"&&Gx(QW,{files:l?[]:x,setCanvasURLs:O,jsonEndpoint:"https://michaelexile.github.io/DBD-IconsJSON/dbdOfferings.json",getBackgroundImage:(v)=>({bg:s6.offering.backgrounds[v],grad:s6.offering.gradients[v]})})]})}),Gx("div",{className:"flex justify-center items-center",children:Gx(Xk,{setFileData:(v)=>{g(v)},setIsProcessing:G,resetStates:w})}),Gx("div",{className:"w-full",children:Gx(v5,{files:_})}),Gx(yf,{})]})}function kf(){df.createRoot(document.getElementById("root")).render(Gx(Nf,{}))}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",kf);else kf();

//# debugId=D393D760C0C7E76F64756E2164756E21
//# sourceMappingURL=chunk-6sn0x84t.js.map
